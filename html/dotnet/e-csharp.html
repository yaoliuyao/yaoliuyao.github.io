<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2021-06-17 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>C♯</title>
<meta name="generator" content="Org mode">
<meta name="author" content="悟饭">
<link rel='stylesheet' href='/html/asset/common.css?3344' />
<link rel='stylesheet' href='/yaoliuyao/html/asset/common.css?3344' />
<script src='https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
<script src='/html/asset/common.js'></script>
<script src='/yaoliuyao/html/asset/common.js'></script>

<style>
 /* From: https://endlessparentheses.com/public/css/endless.css */
 .special-kbd {
   color: #333;
   background-color: #f7f7f7;
   border: 1px solid #ccc;
   border-radius: 6px;
   box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
   display: inline-block;
   font-family: 'Droid Sans Mono', monospace;
   font-size: 80%;
   font-weight: normal;
   line-height: inherit;
   margin: 2px .1em;
   padding: .04em .4em;
   text-shadow: 0 1px 0 #fff;
   word-spacing: -3px;
 }
</style>
</head>
<body>
<div id="content">
<header>
<h1 class="title">C♯</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org3268242">1. 历史</a></li>
<li><a href="#org5adcc5f">2. [语言与类型]</a>
<ul>
<li><a href="#org1e189b5">2.1. Main</a></li>
<li><a href="#org92c9241">2.2. 命名空间</a>
<ul>
<li><a href="#org0b355dd">2.2.1. 使用</a></li>
<li><a href="#org1184149">2.2.2. 定义</a></li>
<li><a href="#org82ff726">2.2.3. BCL/System</a></li>
</ul>
</li>
<li><a href="#org8541a93">2.3. 模板 vs 实例</a></li>
<li><a href="#org298bedc">2.4. 值类型 vs 引用类型</a></li>
</ul>
</li>
<li><a href="#org51edeaa">3. 预定义/数值类型</a>
<ul>
<li><a href="#org070482f">3.1. 整数</a></li>
<li><a href="#org2999e61">3.2. 浮点数</a></li>
<li><a href="#org4bd6aa8">3.3. Literate (字面量表达)</a></li>
</ul>
</li>
<li><a href="#org41134c7">4. 预定义/非数值·值类型</a>
<ul>
<li><a href="#org0128cb5">4.1. 字符类型 (char)</a></li>
<li><a href="#org0563621">4.2. 布尔类型 (bool)</a>
<ul>
<li><a href="#org2553d56">4.2.1. [条件分支] 在某种条件之下，做某件事</a></li>
<li><a href="#org5f55cf7">4.2.2. [循环迭代] 重复做某件事</a></li>
<li><a href="#org4e236df">4.2.3. 语句 (Statement) vs 表达式 (Expression)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgcd1bce4">5. 预定义/非数值·引用类型</a>
<ul>
<li><a href="#org7686c83">5.1. string</a>
<ul>
<li><a href="#org1fb4758">5.1.1. 字符串的初始化</a></li>
<li><a href="#org5e18494">5.1.2. 字符串的不可变性 (Immutable)</a>
<ul>
<li><a href="#org7925c0f">5.1.2.1. what &amp; why</a></li>
<li><a href="#orgef53295">5.1.2.2. System.Text.StringBuilder</a></li>
<li><a href="#orgb9c3bc1">5.1.2.3. String Intern Pool (字符串池)</a></li>
</ul>
</li>
<li><a href="#org5bc7f62">5.1.3. [API] 基本操作</a></li>
<li><a href="#org35d3e55">5.1.4. [API] 拼接 + 格式化</a></li>
<li><a href="#orgdd497b0">5.1.5. [API] 子字符串</a></li>
<li><a href="#orgb47b856">5.1.6. [API] 字符串的修改</a></li>
<li><a href="#orge6669b1">5.1.7. [API] String 跟 Array 的转换</a></li>
</ul>
</li>
<li><a href="#org0500176">5.2. object</a></li>
<li><a href="#orgc220dcb">5.3. dynamic</a></li>
</ul>
</li>
<li><a href="#org2f0b103">6. 用户自定义类型</a>
<ul>
<li><a href="#orgf6aeed0">6.1. class</a></li>
<li><a href="#orgbc65562">6.2. interface</a></li>
<li><a href="#org9dd0672">6.3. delegate</a></li>
<li><a href="#org1b52cca">6.4. array</a></li>
<li><a href="#orgea6d6d6">6.5. record</a></li>
<li><a href="#org5df569b">6.6. struct</a></li>
<li><a href="#org601c4c7">6.7. enum</a></li>
</ul>
</li>
<li><a href="#orgf98ccd2">7. 类型转换</a>
<ul>
<li><a href="#org369825e">7.1. 隐式转换/强制转换</a></li>
<li><a href="#orga71252b">7.2. 引用类型的隐式和强制转换</a></li>
<li><a href="#org4c42ddc">7.3. 装箱/拆箱 (auto-boxing)</a></li>
<li><a href="#orgf6e51e1">7.4. 自定义转换规则</a></li>
<li><a href="#org07394f5">7.5. 基于 <b>字符串</b> 之间的互相转换</a>
<ul>
<li><a href="#orgc241043">7.5.1. string.Format</a></li>
<li><a href="#org6fe4451">7.5.2. type.ToString</a></li>
<li><a href="#org23edc9b">7.5.3. type.Parse/TryParse</a></li>
<li><a href="#orgb81e480">7.5.4. Convert</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org13746ef">8. 类 (Class)</a>
<ul>
<li><a href="#orgf6ff4e3">8.1. 字段 (Field)</a></li>
<li><a href="#org9cf6316">8.2. 方法 (Method)</a>
<ul>
<li><a href="#org5653709">8.2.1. Basic</a></li>
<li><a href="#orgb851b88">8.2.2. 方法的重载 (overload)</a></li>
<li><a href="#org09ee730">8.2.3. 参数 (值参数/ref/out)</a></li>
<li><a href="#orged69853">8.2.4. out 参数: 用来模拟方法返回多个值的场景</a></li>
</ul>
</li>
<li><a href="#org8fb54bd">8.3. 属性 (Property)</a></li>
<li><a href="#org9981571">8.4. 构造方法/构造器 (Constructor)</a>
<ul>
<li><a href="#org3ec5c60">8.4.1. 对象的实例化</a></li>
<li><a href="#orgcd7a5ea">8.4.2. 构造器</a></li>
<li><a href="#org841d721">8.4.3. 构造器链</a></li>
<li><a href="#org25cebcf">8.4.4. 静态构造器</a></li>
</ul>
</li>
<li><a href="#org62bbebf">8.5. 析构方法/析构器 (Deconstructor)</a></li>
<li><a href="#orgfa159ce">8.6. 静态方法 (Static)</a></li>
<li><a href="#org364c727">8.7. 将数据设置为不变的 (const/readonly)</a></li>
<li><a href="#org6d7baba">8.8. 继承 (Inheritance)</a>
<ul>
<li><a href="#org97dd11c">8.8.1. 虚方法 (virtual/override)</a></li>
<li><a href="#org12bc391">8.8.2. 抽象方法 (abstract)</a></li>
</ul>
</li>
<li><a href="#org5a5a1dd">8.9. 多态 (Polymorphism)</a></li>
<li><a href="#org89daf1e">8.10. 静态类/static</a></li>
<li><a href="#org668ec2f">8.11. 密封类/sealed</a></li>
<li><a href="#org0aa2e60">8.12. 分部类/partial</a></li>
<li><a href="#orgd68a159">8.13. 基类 Object</a>
<ul>
<li><a href="#org6899a12">8.13.1. ToString</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgfda2215">9. 接口 (Interface)</a>
<ul>
<li><a href="#org1599161">9.1. IComparable 接口使用示例</a></li>
</ul>
</li>
<li><a href="#org38d4328">10. BCL (Base-Class Library) 基础类库</a>
<ul>
<li><a href="#orge42088e">10.1. Console/控制台</a></li>
<li><a href="#orgd098591">10.2. Random/Thread</a></li>
<li><a href="#orgd147bfd">10.3. IDisposable/资源</a></li>
</ul>
</li>
<li><a href="#org7906523">11. 技巧和示例</a>
<ul>
<li><a href="#org723d270">11.1. 求余</a></li>
</ul>
</li>
<li><a href="#org8a80c1e">12. 模拟题</a>
<ul>
<li><a href="#org6400c8e">12.1. 继承相关</a></li>
<li><a href="#org0993f51">12.2. 重载 (overload) 和 重写 (override) 有啥区别 (15 分)</a></li>
</ul>
</li>
<li><a href="#orgb8b093b">13. 问题 (仅作参考)</a>
<ul>
<li><a href="#org0931609">13.1. string 和 StringBuilder 有什么区别</a></li>
<li><a href="#org5f8661c">13.2. 什么是抽象类，抽象类有什么用处</a></li>
<li><a href="#orgddf3ea3">13.3. 什么是接口，什么是面向接口编程，面向接口编程有什么好处</a></li>
<li><a href="#org156522f">13.4. 什么是静态类，什么是密封类，什么是分部类</a></li>
<li><a href="#org51f1e72">13.5. 什么是类，什么是对象，对象的实例化过程是怎么样的</a></li>
<li><a href="#org53c5fb1">13.6. 什么是面向对象编程，面向对象有什么特点，有什么好处</a></li>
<li><a href="#org7f77498">13.7. 什么是字段，什么是方法，什么是属性。属性有什么好处</a></li>
<li><a href="#org1453cfa">13.8. 什么是封装，什么是继承，什么是多态</a></li>
<li><a href="#org7cbe124">13.9. 什么是虚方法，它有什么用处</a></li>
<li><a href="#orga4100f5">13.10. 什么是组合，它跟继承有什么区别，分别用在什么场景</a></li>
<li><a href="#org49d491a">13.11. 什么是 DRY，代码复用的手段有哪些</a></li>
<li><a href="#org6186468">13.12. Parse/TryParse 有啥区别</a></li>
<li><a href="#org6aa9caa">13.13. 什么是装箱拆箱</a></li>
<li><a href="#org98ec2cf">13.14. 什么是值类型/引用类型</a></li>
<li><a href="#org3f909ac">13.15. is/as 分别是干啥的</a></li>
</ul>
</li>
</ul>
</div>
</nav>


<section id="outline-container-org3268242" class="outline-2">
<h2 id="org3268242"><span class="section-number-2">1.</span> 历史</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Visual J++ 被放弃，<a href="https://baike.baidu.com/item/%E5%AE%89%E5%BE%B7%E6%96%AF%C2%B7%E6%B5%B7%E5%B0%94%E6%96%AF%E4%BC%AF%E6%A0%BC">安德斯·海尔斯伯格</a>带领团队从 2000 年左右开始开发了 C#，到 2002 年的的时候，开始提交给 ECMA 成为了标准</li>
<li>因为安德斯他的个人经历，所以 C# 深受 Pascal/C++/Java 的影响</li>
<li>到现在，C# 已经成为了一种多范式的语言。首先它是一门纯粹的面向对象的语言 (封装、继承、多态)，提供了面向组件编程的一些改进 (属性、委托、事件)</li>
</ul>

<p>
C# 版本演化:
</p>
<ul class="org-ul">
<li>1.0 纯粹的面向对象 (2002)</li>
<li>2.0 增加了泛型的概念 (2005)</li>
<li>3.0 增加了 LINQ 功能 (2008)</li>
<li>4.0 增加了命名参数和可选参数的功能，并添加了动态编程的支持 (2010)</li>
<li>5.0 增加了 async/await 的异步编程范式 (2012)</li>
<li>6.0 推进了跟 .NET Core 的语言共享 (2015)</li>
<li>7.0 添加了函数式编程的一些特性，如果模式匹配、元组等等，包括其他一些优化 (2017)</li>
<li>8.0 开始支持默认接口方法，可空引用类型，switch 表达式等 (2019)</li>
<li>9.0 增加了 Record 类型，继续对 switch 表达式等进行简化跟优化 (2021)</li>
</ul>
</div>
</section>

<section id="outline-container-org5adcc5f" class="outline-2">
<h2 id="org5adcc5f"><span class="section-number-2">2.</span> [语言与类型]</h2>
<div class="outline-text-2" id="text-2">
<p>
在 C# 等面向对象的语言中，<b>类型 (Type)</b> 是第一位的
</p>
<ul class="org-ul">
<li>在 C# 中，不外乎做两件事，第一件是引入别人的类型，第二件是声明自己的类型</li>
<li>也就是说，整个 C# 项目，是由不同的 <b>类型声明</b> 组成的</li>
<li>在整个 C# 项目中，需要 <b>有且只有一个</b> 特殊的方法，就是 Main 方法。它是程序执行的起点</li>
<li>通过引入 <b>命名空间 (namespace)</b> 的概念，用来组织各种类型，从而避免命名冲突</li>
</ul>


<figure id="org4967329">
<img src="img/types.png" alt="types.png" width="400px">

</figure>


<figure id="org4c87378">
<img src="img/types-2.png" alt="types-2.png" width="400px">

</figure>
</div>

<div id="outline-container-org1e189b5" class="outline-3">
<h3 id="org1e189b5"><span class="section-number-3">2.1.</span> Main</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">static</span> <span style="color: #228b22;">int</span> <span style="color: #0000ff;">Main</span> <span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">return</span> &#22914;&#26524;&#27491;&#24120;&#36820;&#22238;&#21017;&#26159; 0&#65292;&#21542;&#21017;&#26159;&#19968;&#20010;&#25972;&#25968;&#20195;&#34920;&#38169;&#35823;&#32534;&#21495;;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span> <span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22914;&#26524;&#30495;&#30340;&#19981;&#20851;&#24515;&#36820;&#22238;&#30340;&#38169;&#35823;&#32534;&#21495;&#30340;&#35805;&#65292;&#21487;&#20197;&#23558;&#36820;&#22238;&#20540;&#35774;&#32622;&#20026; void</span>

    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#20197;&#20351;&#29992; args &#26469;&#25429;&#33719;&#20174;&#25511;&#21046;&#21488;&#36755;&#20837;&#30340;&#21442;&#25968; (&#29992;&#31354;&#26684;&#20998;&#38548;&#30340;&#20803;&#32032;)</span>
    <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>args.Length &gt; 0 &amp;&amp; args<span style="color: #909183;">[</span>0<span style="color: #909183;">]</span> == <span style="color: #8b2252;">"--help"</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#20351;&#29992;&#26041;&#24335;: ./Program"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span> <span style="color: #707183;">()</span>
<span style="color: #707183;">{</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22914;&#26524;&#20320;&#30495;&#30340;&#19981;&#22312;&#20046;&#20256;&#20837;&#21442;&#25968;&#30340;&#35805;&#65292;&#37027;&#20040;&#23558; args &#30465;&#30053;&#25481;&#20063;&#21487;&#20197;</span>
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #a020f0;">async</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">()</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">await</span> <span style="color: #0000ff;">CCCAync</span><span style="color: #7388d6;">()</span>;
    <span style="color: #a020f0;">await</span> <span style="color: #0000ff;">AAA</span><span style="color: #7388d6;">()</span>;
    <span style="color: #a020f0;">await</span> <span style="color: #0000ff;">BBB</span><span style="color: #7388d6;">()</span>;
    <span style="color: #0000ff;">DDD</span><span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
args 使用的另一个示例:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>args.Length == 1<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">if</span> <span style="color: #909183;">(</span>args<span style="color: #709870;">[</span>0<span style="color: #709870;">]</span> == <span style="color: #8b2252;">"--help"</span><span style="color: #909183;">)</span>
        <span style="color: #909183;">{</span>

            Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #709870;">(</span><span style="color: #8b2252;">"&#20351;&#29992;&#26041;&#27861;: dotnet run 2223"</span><span style="color: #709870;">)</span>;
        <span style="color: #909183;">}</span>
        <span style="color: #a020f0;">else</span>
        <span style="color: #909183;">{</span>
            <span style="color: #228b22;">double</span> <span style="color: #a0522d;">bill</span> = <span style="color: #228b22;">double</span>.<span style="color: #0000ff;">Parse</span><span style="color: #709870;">(</span>args<span style="color: #907373;">[</span>0<span style="color: #907373;">]</span><span style="color: #709870;">)</span>;
            <span style="color: #228b22;">var</span> <span style="color: #a0522d;">calc</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">TipCalculator</span><span style="color: #709870;">(</span>bill<span style="color: #709870;">)</span>;
            calc.<span style="color: #0000ff;">PrintToConsole</span><span style="color: #709870;">()</span>;
        <span style="color: #909183;">}</span>
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">else</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#21442;&#25968;&#38169;&#35823;."</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org92c9241" class="outline-3">
<h3 id="org92c9241"><span class="section-number-3">2.2.</span> 命名空间</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>用来解决类型名字的冲突</li>
<li>用来合理组织类型</li>
</ul>
</div>

<div id="outline-container-org0b355dd" class="outline-4">
<h4 id="org0b355dd"><span class="section-number-4">2.2.1.</span> 使用</h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#31867;&#22411;&#30340;&#20351;&#29992;&#65292;&#21487;&#20197;&#36890;&#36807; namespace.&#31867;&#22411; &#26469;&#35775;&#38382;&#21040; / full name</span>
System.<span style="color: #228b22;">String</span> <span style="color: #a0522d;">aaa</span> = System.IO.File.<span style="color: #0000ff;">ReadAllText</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"e:\\aaa.txt"</span><span style="color: #707183;">)</span>;
System.Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>aaa<span style="color: #707183;">)</span>;
System.Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"hello"</span><span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#20197;&#20511;&#21161; using &#21629;&#21517;&#31354;&#38388;&#30340;&#26041;&#24335;&#65292;&#31616;&#21270;&#31867;&#22411;&#30340;&#20351;&#29992;</span>
<span style="color: #a020f0;">using</span> <span style="color: #a0522d;">System</span>;
<span style="color: #a020f0;">using</span> <span style="color: #a0522d;">System</span>.<span style="color: #a0522d;">IO</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">aaa</span> = File.<span style="color: #0000ff;">ReadAllText</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"e:\\aaa.txt"</span><span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>aaa<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"hello"</span><span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#20197;&#20351;&#29992; using static &#30340;&#35821;&#27861;&#32487;&#32493;&#36827;&#34892;&#31616;&#21270;</span>
<span style="color: #a020f0;">using</span> <span style="color: #a0522d;">static</span> S<span style="color: #a0522d;">ystem</span>.<span style="color: #a0522d;">Console</span>;
<span style="color: #a020f0;">using</span> <span style="color: #a0522d;">static</span> S<span style="color: #a0522d;">ystem</span>.<span style="color: #a0522d;">IO</span>.<span style="color: #a0522d;">File</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">aaa</span> = <span style="color: #0000ff;">ReadAllText</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"e:\\aaa.txt"</span><span style="color: #707183;">)</span>;
<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>aaa<span style="color: #707183;">)</span>;
<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"hello"</span><span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#20197;&#20351;&#29992; using = &#30340;&#26041;&#24335;&#65292;&#20026;&#21629;&#21517;&#31354;&#38388;&#36215;&#19968;&#20010;&#21035;&#21517;&#12290;&#36825;&#31181;&#26041;&#24335;&#19968;&#33324;&#29992;&#26469;&#35299;&#20915;&#20914;&#31361;</span>
<span style="color: #a020f0;">using</span> <span style="color: #a0522d;">SI</span> = <span style="color: #a0522d;">System</span>.<span style="color: #a0522d;">IO</span>;
<span style="color: #a020f0;">using</span> <span style="color: #a0522d;">HisSystem</span>;
SI.File.<span style="color: #0000ff;">xxx</span><span style="color: #707183;">()</span>;  <span style="color: #b22222;">// </span><span style="color: #b22222;">System.IO.File.xxx();</span>
File.<span style="color: #0000ff;">xxx</span><span style="color: #707183;">()</span>;     <span style="color: #b22222;">// </span><span style="color: #b22222;">HisSystem.FIle.xxx();</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1184149" class="outline-4">
<h4 id="org1184149"><span class="section-number-4">2.2.2.</span> 定义</h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
支持嵌套，支持使用 . 的形式进行简写:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">using</span> <span style="color: #a0522d;">SI</span> = <span style="color: #a0522d;">System</span>.<span style="color: #a0522d;">IO</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">File</span>

<span style="color: #a020f0;">namespace</span> <span style="color: #a0522d;">TaxCalculator</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">namespace</span> <span style="color: #a0522d;">Hi</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">namespace</span> <span style="color: #a0522d;">Ih</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">TaxCalculator.Hi.Ih.Boy</span>
        <span style="color: #909183;">{</span>
            <span style="color: #a020f0;">class</span> <span style="color: #228b22;">Boy</span>
            <span style="color: #709870;">{</span>
            <span style="color: #709870;">}</span>
        <span style="color: #909183;">}</span>
        <span style="color: #a020f0;">class</span> <span style="color: #228b22;">Girl</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">TaxCalculator.Hi.Girl</span>
        <span style="color: #909183;">{</span>
        <span style="color: #909183;">}</span>
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">namespace</span> <span style="color: #a0522d;">A</span>.<span style="color: #a0522d;">B</span>.<span style="color: #a0522d;">C</span>.<span style="color: #a0522d;">D</span>.<span style="color: #a0522d;">E</span>.<span style="color: #a0522d;">F</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">namespace</span> <span style="color: #a0522d;">G</span>.<span style="color: #a0522d;">H</span>.<span style="color: #a0522d;">X</span>
        <span style="color: #909183;">{</span>
            <span style="color: #a020f0;">using</span> <span style="color: #a020f0;">static</span> System.Console;
            <span style="color: #a020f0;">namespace</span> <span style="color: #a0522d;">Y</span>
            <span style="color: #709870;">{</span>
                <span style="color: #a020f0;">class</span> <span style="color: #228b22;">Hello</span>
                <span style="color: #907373;">{</span>
                    <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Say</span><span style="color: #6276ba;">()</span>
                    <span style="color: #6276ba;">{</span>
                        <span style="color: #0000ff;">WriteLine</span><span style="color: #858580;">(</span><span style="color: #8b2252;">"hello"</span><span style="color: #858580;">)</span>;
                    <span style="color: #6276ba;">}</span>
                <span style="color: #907373;">}</span>
            <span style="color: #709870;">}</span>
        <span style="color: #909183;">}</span>
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">namespace</span> <span style="color: #a0522d;">B</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">using</span> System;
        <span style="color: #a020f0;">class</span> <span style="color: #228b22;">Program</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">TaxCalculator.Program</span>
        <span style="color: #909183;">{</span>
            <span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #709870;">()</span>
            <span style="color: #709870;">{</span>
                <span style="color: #228b22;">string</span> <span style="color: #a0522d;">aaa</span> = SI.File.<span style="color: #0000ff;">ReadAllText</span><span style="color: #907373;">(</span><span style="color: #8b2252;">"e:\\aaa.txt"</span><span style="color: #907373;">)</span>;
                Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #907373;">(</span><span style="color: #228b22;">aaa</span><span style="color: #907373;">)</span>;
                Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #907373;">(</span><span style="color: #8b2252;">"hello"</span><span style="color: #907373;">)</span>;
            <span style="color: #709870;">}</span>
        <span style="color: #909183;">}</span>
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org82ff726" class="outline-4">
<h4 id="org82ff726"><span class="section-number-4">2.2.3.</span> BCL/System</h4>
<div class="outline-text-4" id="text-2-2-3">
<p>
System 命名空间:
</p>
<ul class="org-ul">
<li>System.IO (Input/Output), 文件的处理</li>
<li>System.Drawing, 绘制图片</li>
<li>System.Collections，集合类型</li>
<li>System.Net，网络访问</li>
<li>System.Text，跟文本相关的内容，比如正则表达式</li>
<li>System.Threading，多线程</li>
<li>System.Threading.Tasks，异步编程</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org8541a93" class="outline-3">
<h3 id="org8541a93"><span class="section-number-3">2.3.</span> 模板 vs 实例</h3>
<div class="outline-text-3" id="text-2-3">
<p>
类型就是用来创建数据结构的一种 <b>模板</b>：
</p>
<ul class="org-ul">
<li>类型本身并不是真正的数据，它只是描述了数据应该怎么被构造出来</li>
<li>类型它需要有名字，占用的空间，包括一系列的属性和行为</li>
</ul>

<p>
通过某个类型模板创建实际的对象，称作 <b>实例化</b> 该类型:
</p>
<ul class="org-ul">
<li>它就是真正的数据。类型的实例，类型的对象。所有的数据都是要根据类型创建出来的</li>
<li>类型的话，要么是平台预定义的，要么是 BCL/FCL 中定义的，要么是你自己声明的</li>
</ul>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #b22222;">// </span><span style="color: #b22222;">1 &#22768;&#26126;</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">xxx</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">age</span>;
    <span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span>;
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">yyy</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span>;
    <span style="color: #228b22;">xxx</span> <span style="color: #a0522d;">xxx</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">2 &#20351;&#29992;</span>
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">new</span> <span style="color: #228b22;">yyy</span><span style="color: #707183;">()</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">2 &#20351;&#29992;</span>

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">a</span> = 333; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#19981;&#38656;&#35201;&#22768;&#26126;&#65292;&#30452;&#25509;&#23454;&#20363;&#21270;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org298bedc" class="outline-3">
<h3 id="org298bedc"><span class="section-number-3">2.4.</span> 值类型 vs 引用类型</h3>
<div class="outline-text-3" id="text-2-4">
<p>
内存分为两部分:
</p>
<ul class="org-ul">
<li>栈 (Stack)，速度快</li>
<li>堆 (Heap)，容积大</li>
</ul>


<figure id="org9a74924">
<img src="img/value-type-ref-type.png" alt="value-type-ref-type.png" width="500px">

</figure>
</div>
</div>
</section>

<section id="outline-container-org51edeaa" class="outline-2">
<h2 id="org51edeaa"><span class="section-number-2">3.</span> 预定义/数值类型</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org070482f" class="outline-3">
<h3 id="org070482f"><span class="section-number-3">3.1.</span> 整数</h3>
<div class="outline-text-3" id="text-3-1">
<p>
为了表示显示世界中的计算，人们发明了数字的记法:
</p>
<ul class="org-ul">
<li>通用的计算方式是 <b>十进制</b> (因为人自古来来，都有十根手指头)</li>
<li>计算机内部使用的是 <b>二进制</b> (因为使用电子元件状态表达 0/1 是最简单的)</li>
<li>人们一般使用 <b>十六进制</b> 来描述计算机中的二进制 (其表达能力更强，且能跟字节为单位的二进制形成对应关系)</li>
</ul>

<p>
为了能在计算机中有效存储整数，C# 中预定义了如下类型:
</p>
<ul class="org-ul">
<li>byte (字节，使用 8bit 表示，它的表现能力最差，只有 0 ~ 255)</li>
<li>short (短整数，使用 2Byte 表示，能表示到 3 万大小)</li>
<li>int (整数，4B 长度，能表达到 20 多亿)</li>
<li>long (长整数，16B 长度，能表达到亿亿的单位)</li>
</ul>

<p>
另外，考虑是否设置符号位 (Sign/Unsign)，上面的类型又有对应的类型:
</p>
<ul class="org-ul">
<li>sbyte</li>
<li>ushort</li>
<li>uint</li>
<li>ulong</li>
</ul>

<p>
上述的类型都是用来创建整数数据的模板，它们的区别在于占用空间和表达里。
选择类型的根据是:
</p>
<ul class="org-ul">
<li>占用小的，表达能力差；占用大的，表达能力强</li>
<li>在业务的允许范围内，尽量选择占用空间小的类型</li>
<li>如果不好决定使用声明类型，优先使用 int</li>
</ul>

<p>
整数:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">byte</span> <span style="color: #a0522d;">aa</span> = 0;
<span style="color: #228b22;">byte</span> <span style="color: #a0522d;">az</span> = 255;
<span style="color: #228b22;">sbyte</span> <span style="color: #a0522d;">ba</span> = -128;
<span style="color: #228b22;">sbyte</span> <span style="color: #a0522d;">bz</span> = 127;

<span style="color: #228b22;">short</span> <span style="color: #a0522d;">s1</span> = -32768;
<span style="color: #228b22;">short</span> <span style="color: #a0522d;">s2</span> = 32767;
<span style="color: #228b22;">ushort</span> <span style="color: #a0522d;">s3</span> = 0;
<span style="color: #228b22;">ushort</span> <span style="color: #a0522d;">s4</span> = 65535;

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i1</span> = -2147483648;
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i2</span> = 21_4748_3647;
<span style="color: #228b22;">uint</span> <span style="color: #a0522d;">i3</span> = 42_9496_7295;

<span style="color: #228b22;">long</span> <span style="color: #a0522d;">l1</span> = 3232323232335555355;
<span style="color: #228b22;">ulong</span> <span style="color: #a0522d;">l2</span> = 23333333333333333;

Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>0.1 + 0.2<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>100 * 0.28<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>100 * 0.27<span style="color: #707183;">)</span>;

<span style="color: #228b22;">byte</span> <span style="color: #a0522d;">a</span> = 1;
<span style="color: #228b22;">short</span> <span style="color: #a0522d;">b</span> = 1;
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">c</span> = 1;
<span style="color: #228b22;">long</span> <span style="color: #a0522d;">d</span> = 1;

<span style="color: #b22222;">// </span><span style="color: #b22222;">C# &#29616;&#22312;&#20801;&#35768;&#20351;&#29992;&#20998;&#38548;&#31526;&#25551;&#36848;&#25968;&#23383;&#65292;&#36825;&#26679;&#20855;&#22791;&#26356;&#22909;&#30340;&#21487;&#35835;&#24615;</span>
<span style="color: #228b22;">long</span> <span style="color: #a0522d;">xxx</span> = 11_1161_1311_4441_2323;
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">yyy</span> = 2323;
</pre>
</div>

<p>
可以直接使用二进制/十六进制的方式描述数字:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">byte</span> <span style="color: #a0522d;">zzz</span> = 0b11111111;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>zzz<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">16 &#36827;&#21046; 10 2 </span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">0,1,10,11,100,101,110,111</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">1,2,..9,10,11,12..19</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">1, 2,...9, a, b, c, d, e, f / 15, 1111</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">10, 11, 12 .. 1e, 1f     0001_1111</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">20,...............2f</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">30................3f</span>
<span style="color: #b22222;">//                   </span><span style="color: #b22222;">9f</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">a0................af</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">b0................bf</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">c0................cf</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">d0................df</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">e0................ef</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">f0..............fe.ff 256 1111_1111</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">100 .. 101. .....</span>

Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>0b11111111_11111110_11111111<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>0x1e<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>0xff_fe_ab_12<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>2222323<span style="color: #707183;">)</span>;
</pre>
</div>


<figure id="org42d0429">
<img src="img/integers.png" alt="integers.png" width="400px">

</figure>
</div>
</div>

<div id="outline-container-org2999e61" class="outline-3">
<h3 id="org2999e61"><span class="section-number-3">3.2.</span> 浮点数</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li>根据存储形式，分为单精度 (float) 和双精度 (double)</li>
<li><b>float</b> 使用 32bit 来存储 (1 个符号位 8 个指数位 23 个尾数)</li>
<li><b>double</b> 使用 64bit 来存储 (1 个符号位 11 个指数位 52 个尾数)</li>
<li>一个小数，转换为计算机存储的形式，难免会有精度的损失。因此
<ul class="org-ul">
<li>0.1 + 0.2 ≠ 0.3</li>
<li>0.6 + 0.7 = 1.2999999999999998</li>
<li>0.28 * 100 = 28.000000000000004</li>
</ul></li>
<li>可以使用 <b>decimal</b> 类型，来表示更加精确的数值计算
<ul class="org-ul">
<li>它的优点是，可以进行精确的计算</li>
<li>它的缺点是，它需要占用更大的存储空间 (128bit)</li>
</ul></li>
</ul>


<figure id="org5cdc4c3">
<img src="img/float-type.png" alt="float-type.png" width="500px">

</figure>
</div>
</div>

<div id="outline-container-org4bd6aa8" class="outline-3">
<h3 id="org4bd6aa8"><span class="section-number-3">3.3.</span> Literate (字面量表达)</h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#23383;&#38754;&#37327;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">1112 int</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">1112L long</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">1112UL Unsigned Long</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">1112F float</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">1112.0 double</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">1112M decimal</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>0.1M + 0.2M<span style="color: #707183;">)</span>;

<span style="color: #228b22;">double</span> <span style="color: #a0522d;">a</span> = 2222;
<span style="color: #228b22;">float</span> <span style="color: #a0522d;">b1</span> = 33332332323233;
<span style="color: #228b22;">float</span> <span style="color: #a0522d;">b2</span> = 2323F;
<span style="color: #228b22;">decimal</span> <span style="color: #a0522d;">c</span> = 3.222M;

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">x</span> = 333;
<span style="color: #228b22;">long</span> <span style="color: #a0522d;">y1</span> = 54444;
<span style="color: #228b22;">long</span> <span style="color: #a0522d;">y2</span> = 54444L;
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org41134c7" class="outline-2">
<h2 id="org41134c7"><span class="section-number-2">4.</span> 预定义/非数值·值类型</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org0128cb5" class="outline-3">
<h3 id="org0128cb5"><span class="section-number-3">4.1.</span> 字符类型 (char)</h3>
<div class="outline-text-3" id="text-4-1">
<p>
字符集/编码格式:
</p>
<ul class="org-ul">
<li>最原始的英文中的 <b>ASCII</b> 编码</li>
<li>后来出现的，各个国家的，比如 <b>GBK/Big5</b></li>
<li>为了消除字符集冲突，出现的 <b>Unicode</b> 组织跟字符集。并根据字符集出现了 <b>UTF-16/UTF-8</b> 等编码格式</li>
</ul>

<p>
Q &amp; A:
</p>
<ul class="org-ul">
<li>ucs-2 vs UTF-16 ????</li>
<li>UTF8 怎么的格式 ????</li>
</ul>


<figure id="orgc025b03">
<img src="img/unicode.png" alt="unicode.png" width="500px">

</figure>

<p>
因此，在 C# 中内部，字符是使用 UTF-16 格式存储的。
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">char</span> <span style="color: #a0522d;">a</span> = <span style="color: #8b2252;">'x'</span>;

<span style="color: #228b22;">char</span> <span style="color: #a0522d;">a</span> = <span style="color: #8b2252;">'x'</span>;
<span style="color: #228b22;">char</span> <span style="color: #a0522d;">b</span> = <span style="color: #8b2252;">'&#20013;'</span>;
<span style="color: #228b22;">char</span> <span style="color: #a0522d;">c</span> = <span style="color: #8b2252;">'&#9786;'</span>;
<span style="color: #228b22;">char</span> <span style="color: #a0522d;">d</span> = <span style="color: #8b2252;">'&#8286;'</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org0563621" class="outline-3">
<h3 id="org0563621"><span class="section-number-3">4.2.</span> 布尔类型 (bool)</h3>
<div class="outline-text-3" id="text-4-2">
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #228b22;">bool</span> <span style="color: #a0522d;">a</span> = <span style="color: #008b8b;">true</span>;
<span style="color: #228b22;">bool</span> <span style="color: #a0522d;">b</span> = <span style="color: #008b8b;">false</span>;

<span style="color: #228b22;">bool</span> <span style="color: #a0522d;">c</span> = 1 &gt; 2; <span style="color: #b22222;">// </span><span style="color: #b22222;">&gt; &lt; == &gt;= &lt;=</span>
<span style="color: #228b22;">bool</span> <span style="color: #a0522d;">d</span> = 1 == 2;

a = !!!!!a; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21453;</span>
a || b;     <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25110;</span>
a &amp;&amp; b;     <span style="color: #b22222;">// </span><span style="color: #b22222;">&#19982;</span>

a = <span style="color: #008b8b;">true</span>; b = <span style="color: #008b8b;">false</span>; d = <span style="color: #008b8b;">true</span>; e = <span style="color: #008b8b;">false</span>;
f = <span style="color: #008b8b;">true</span>; g = <span style="color: #008b8b;">true</span>; h = <span style="color: #008b8b;">false</span>;

<span style="color: #707183;">(</span><span style="color: #7388d6;">(</span>a || b<span style="color: #7388d6;">)</span> &amp;&amp; <span style="color: #7388d6;">(</span>c &amp;&amp; d<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span> || e &amp;&amp; <span style="color: #707183;">(</span>f || g<span style="color: #707183;">)</span> || h;
</pre>
</div>
</div>

<div id="outline-container-org2553d56" class="outline-4">
<h4 id="org2553d56"><span class="section-number-4">4.2.1.</span> [条件分支] 在某种条件之下，做某件事</h4>
<div class="outline-text-4" id="text-4-2-1">
<ul class="org-ul">
<li>if/else if/else</li>
<li>switch (statement/expression)</li>
</ul>

<p>
if:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #b22222;">// </span><span style="color: #b22222;">1</span>
<span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>aaa<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"&#28385;&#36275;&#21017;&#25191;&#34892;&#65292;&#21542;&#21017;&#36339;&#36807;"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#24744;&#35828;&#25105;&#20160;&#20040;&#26465;&#20214;&#20250;&#34987;&#25191;&#34892;?"</span><span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">2</span>
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">score</span> = 59; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20998;&#25968;</span>
<span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>score &gt; 70<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"&#29616;&#22312;&#20320;&#30340;&#25104;&#32489;&#26159;: {score}"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">else</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"&#24744;&#30340;&#25104;&#32489;&#36824;&#21487;&#20197;&#21862;&#65292;&#35831;&#19979;&#19968;&#27425;&#26356;&#21152;&#20248;&#31168;&#21734;."</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">3</span>
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">score</span> = 59;
<span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>score &gt; 70<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"&#29616;&#22312;&#20320;&#30340;&#25104;&#32489;&#26159;: {score}"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">else</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>score &lt; 30<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#24744;&#22826;&#26834;&#20102;&#65292;&#25226;&#24744;&#29240;&#29240;&#22920;&#22920;&#35831;&#36807;&#26469;&#19968;&#36215;&#20998;&#20139;&#36825;&#20221;&#33635;&#32768;&#21543;."</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">else</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">if</span> <span style="color: #909183;">(</span>score &gt; 60<span style="color: #909183;">)</span>
        <span style="color: #909183;">{</span>
            Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #709870;">(</span><span style="color: #8b2252;">"&#24744;&#30340;&#25104;&#32489;&#36824;&#21487;&#20197;&#21862;&#65292;&#35831;&#19979;&#19968;&#27425;&#26356;&#21152;&#20248;&#31168;&#21734;."</span><span style="color: #709870;">)</span>;
        <span style="color: #909183;">}</span>
        <span style="color: #a020f0;">else</span>
        <span style="color: #909183;">{</span>
            Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #709870;">(</span><span style="color: #8b2252;">"&#24744;&#30340;&#25104;&#32489;&#36824;&#21487;&#20197;&#21862;..."</span><span style="color: #709870;">)</span>;
        <span style="color: #909183;">}</span>
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">4</span>
<span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>score &gt; 70<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"&#29616;&#22312;&#20320;&#30340;&#25104;&#32489;&#26159;: {score}"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>score &gt; 60<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"&#24744;&#30340;&#25104;&#32489;&#36824;&#21487;&#20197;&#21862;&#65292;&#35831;&#19979;&#19968;&#27425;&#26356;&#21152;&#20248;&#31168;&#21734;."</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>score &gt; 30<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"&#24744;&#30340;&#25104;&#32489;&#36824;&#21487;&#20197;&#21862;..."</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">else</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"&#24744;&#22826;&#26834;&#20102;&#65292;&#25226;&#24744;&#29240;&#29240;&#22920;&#22920;&#35831;&#36807;&#26469;&#19968;&#36215;&#20998;&#20139;&#36825;&#20221;&#33635;&#32768;&#21543;."</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
switch (是 else if 语法的一种精简版):
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">switch</span> <span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">case</span> <span style="color: #8b2252;">'A'</span>:
    <span style="color: #a020f0;">case</span> <span style="color: #8b2252;">'B'</span>:
        color = ConsoleColor.Yellow;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">case</span> <span style="color: #8b2252;">'C'</span>:
        color = ConsoleColor.Green;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">case</span> <span style="color: #8b2252;">'D'</span>:
        color = ConsoleColor.Blue;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">default</span>:
        color = ConsoleColor.Black;
        <span style="color: #a020f0;">break</span>;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
switch statement (语句) 和 expression (表达式):
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#35821;&#21477;&#65292;&#27599;&#20010;&#20998;&#25903;&#21435;&#20570;&#28857;&#21861;&#20107;</span>
<span style="color: #228b22;">ConsoleColor</span> <span style="color: #a0522d;">color</span>;
<span style="color: #a020f0;">switch</span> <span style="color: #707183;">(</span>c<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">case</span> <span style="color: #8b2252;">'A'</span>:
        color = ConsoleColor.Red;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">case</span> <span style="color: #8b2252;">'B'</span>:
        color = ConsoleColor.Yellow;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">case</span> <span style="color: #8b2252;">'C'</span>:
        color = ConsoleColor.Green;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">case</span> <span style="color: #8b2252;">'D'</span>:
        color = ConsoleColor.Blue;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">default</span>:
        color = ConsoleColor.Black;
        <span style="color: #a020f0;">break</span>;
<span style="color: #707183;">}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#34920;&#36798;&#24335;&#65292;&#36820;&#22238;&#20540;</span>
<span style="color: #228b22;">ConsoleColor</span> <span style="color: #a0522d;">c1</span> = c <span style="color: #a020f0;">switch</span>
<span style="color: #707183;">{</span>
    <span style="color: #8b2252;">'A'</span> =&gt; ConsoleColor.Red,
    <span style="color: #8b2252;">'B'</span> =&gt; ConsoleColor.Yellow,
    <span style="color: #8b2252;">'C'</span> =&gt; ConsoleColor.Green,
    <span style="color: #8b2252;">'D'</span> =&gt; ConsoleColor.Blue,
    _   =&gt; ConsoleColor.Black
<span style="color: #707183;">}</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org5f55cf7" class="outline-4">
<h4 id="org5f55cf7"><span class="section-number-4">4.2.2.</span> [循环迭代] 重复做某件事</h4>
<div class="outline-text-4" id="text-4-2-2">
<ul class="org-ul">
<li>for</li>
<li>while</li>
<li>do while</li>
<li>foreach</li>
</ul>

<p>
遍历字符串:
</p>
<div class="org-src-container">
<pre class="src src-csx"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">s</span> = <span style="color: #8b2252;">"hello world"</span>;

<span style="color: #a020f0;">foreach</span> <span style="color: #707183;">(</span><span style="color: #228b22;">var</span> <span style="color: #a0522d;">c</span> <span style="color: #a020f0;">in</span> s<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>c<span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; s.Length; i++<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>s<span style="color: #909183;">[</span>i<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0;
<span style="color: #a020f0;">while</span> <span style="color: #707183;">(</span>i &lt; s.Length<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>s<span style="color: #909183;">[</span>i<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>;
    i++;
<span style="color: #707183;">}</span>

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">j</span> = 0;
<span style="color: #a020f0;">do</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>s<span style="color: #909183;">[</span>j<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>;
    j++;
<span style="color: #707183;">}</span> <span style="color: #a020f0;">while</span> <span style="color: #707183;">(</span>j &lt; s.Length<span style="color: #707183;">)</span>;
</pre>
</div>


<p>
使用不同的方式，实现从 1 加到 10000 的和:
</p>
<div class="org-src-container">
<pre class="src src-csx"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#21629;&#21517;&#19981;&#35268;&#33539;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">- &#26041;&#27861;&#21517;&#65292;&#38656;&#35201;&#36981;&#24490; Pascal &#35821;&#27861; !!!</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">- &#21464;&#37327;&#30340;&#21629;&#21517;&#65292;&#35201;&#35753;&#20195;&#30721;&#20855;&#22791;&#33258;&#35299;&#37322;&#24615; (&#26395;&#25991;&#29983;&#20041;)</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">- &#21464;&#37327;&#30340;&#21517;&#23383;/&#21442;&#25968;&#30340;&#21464;&#37327;&#65292;&#38656;&#35201;&#26159;&#39548;&#23792;&#20889;&#27861;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20174; 1 &#21040; 10000 &lt;&#19981;&#31561;&#20110;&gt; &#20174; 0 &#21040; 10000&#12290;&#24490;&#29615;&#30340;&#36807;&#31243;&#19968;&#23450;&#35201;&#27880;&#24847;&#36793;&#30028;&#26465;&#20214;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21512;&#29702;&#35774;&#35745;&#26041;&#27861; (&#36820;&#22238;&#20540;)</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20805;&#20998;&#32771;&#34385;&#21040;&#21487;&#21464;&#24615;&#65292;&#23558;&#19968;&#20123;&#20540;&#25277;&#21462;&#20026;&#21442;&#25968;</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 10000;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #0000ff;">SumWithFor</span><span style="color: #909183;">(</span>i<span style="color: #909183;">)</span> / 2<span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #0000ff;">SumWithWhile</span><span style="color: #909183;">(</span>i<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #0000ff;">SumWithDoWhile</span><span style="color: #909183;">(</span>i<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">int</span> <span style="color: #0000ff;">SumWithFor</span><span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">top</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">sum</span> = 0;
    <span style="color: #a020f0;">for</span> <span style="color: #7388d6;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 1; i &lt;= top; i++<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        sum += i;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">return</span> sum;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">int</span> <span style="color: #0000ff;">SumWithWhile</span><span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">top</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">sum</span> = 0;

    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 1;
    <span style="color: #a020f0;">while</span> <span style="color: #7388d6;">(</span>i &lt;= top<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        sum += i;
        i++;
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">return</span> sum;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">int</span> <span style="color: #0000ff;">SumWithDoWhile</span><span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">top</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">sum</span> = 0;

    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 1;
    <span style="color: #a020f0;">do</span>
    <span style="color: #7388d6;">{</span>
        sum += i;
        i++;
    <span style="color: #7388d6;">}</span> <span style="color: #a020f0;">while</span> <span style="color: #7388d6;">(</span>i &lt;= top<span style="color: #7388d6;">)</span>;

    <span style="color: #a020f0;">return</span> sum;
<span style="color: #707183;">}</span>
</pre>
</div>


<p>
通过循环的方式，处理下面字符串:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#23558;&#23383;&#31526;&#20018;&#36827;&#34892;&#21453;&#36716;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23558;&#25152;&#26377;&#30340;&#22823;&#20889;&#23383;&#27597;&#37117;&#25552;&#21040;&#21069;&#38754;</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">a</span> = <span style="color: #8b2252;">"hekjsdkfSldAfjKksjsjkKFfjHkl"</span>;

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">Fanzhuan</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">str</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">string</span> <span style="color: #a0522d;">result</span> = <span style="color: #8b2252;">""</span>;
    <span style="color: #a020f0;">for</span> <span style="color: #7388d6;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = str.Length-1; i&gt;=0 ; i--<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        result += str<span style="color: #909183;">[</span>i<span style="color: #909183;">]</span>;
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">return</span> result;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">DaxieTiDaoQianMianWithFor</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">str</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">StringBuilder</span> <span style="color: #a0522d;">xiaoxie</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">StringBuilder</span><span style="color: #7388d6;">()</span>;
    <span style="color: #228b22;">StringBuilder</span> <span style="color: #a0522d;">daxie</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">StringBuilder</span><span style="color: #7388d6;">()</span>;
    <span style="color: #a020f0;">for</span> <span style="color: #7388d6;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; str.Length; i++<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">if</span> <span style="color: #909183;">(</span>str<span style="color: #709870;">[</span>i<span style="color: #709870;">]</span> &gt;= <span style="color: #8b2252;">'a'</span> &amp;&amp; str<span style="color: #709870;">[</span>i<span style="color: #709870;">]</span> &lt;= <span style="color: #8b2252;">'z'</span><span style="color: #909183;">)</span>
        <span style="color: #909183;">{</span>
            xiaoxie.<span style="color: #0000ff;">Append</span><span style="color: #709870;">(</span>str<span style="color: #907373;">[</span>i<span style="color: #907373;">]</span><span style="color: #709870;">)</span>;
        <span style="color: #909183;">}</span>
        <span style="color: #a020f0;">else</span>
        <span style="color: #909183;">{</span>
            daxie.<span style="color: #0000ff;">Append</span><span style="color: #709870;">(</span>str<span style="color: #907373;">[</span>i<span style="color: #907373;">]</span><span style="color: #709870;">)</span>;
        <span style="color: #909183;">}</span>
    <span style="color: #7388d6;">}</span>
    daxie.<span style="color: #0000ff;">Append</span><span style="color: #7388d6;">(</span>xiaoxie<span style="color: #7388d6;">)</span>;
    <span style="color: #a020f0;">return</span> daxie.<span style="color: #0000ff;">ToString</span><span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4e236df" class="outline-4">
<h4 id="org4e236df"><span class="section-number-4">4.2.3.</span> 语句 (Statement) vs 表达式 (Expression)</h4>
<div class="outline-text-4" id="text-4-2-3">
<p>
提问:  <span style="color: red">表达式和语句有社么区别?</span>
</p>

<p>
语句 (Statement):
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">int</span> <span style="color: #a0522d;">r</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Random</span><span style="color: #707183;">()</span>.<span style="color: #0000ff;">Next</span><span style="color: #707183;">(</span>0, 100<span style="color: #707183;">)</span>;

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span>;
<span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>r &gt; 50<span style="color: #707183;">)</span>
    i = 111;
<span style="color: #a020f0;">else</span>
    i = 222;

Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>i<span style="color: #707183;">)</span>;
</pre>
</div>

<p>
表达式 (Expression):
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">int</span> <span style="color: #a0522d;">r</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Random</span><span style="color: #707183;">()</span>.<span style="color: #0000ff;">Next</span><span style="color: #707183;">(</span>0, 100<span style="color: #707183;">)</span>;

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = <span style="color: #707183;">(</span>
    <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>r &gt; 50<span style="color: #7388d6;">)</span>
        111;
    <span style="color: #a020f0;">else</span>
        222;
<span style="color: #707183;">)</span>;

Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>i<span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">if &#19981;&#33021;&#20316;&#20026;&#34920;&#36798;&#24335;&#20351;&#29992;</span>
</pre>
</div>
</div>
</div>
</div>
</section>

<section id="outline-container-orgcd1bce4" class="outline-2">
<h2 id="orgcd1bce4"><span class="section-number-2">5.</span> 预定义/非数值·引用类型</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org7686c83" class="outline-3">
<h3 id="org7686c83"><span class="section-number-3">5.1.</span> string</h3>
<div class="outline-text-3" id="text-5-1">
<p>
字符串，是由字符序列组成的一种数据结构。
</p>
</div>

<div id="outline-container-org1fb4758" class="outline-4">
<h4 id="org1fb4758"><span class="section-number-4">5.1.1.</span> 字符串的初始化</h4>
<div class="outline-text-4" id="text-5-1-1">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">g1</span> = <span style="color: #8b2252;">"Hello World!"</span>;
System.<span style="color: #228b22;">String</span> <span style="color: #a0522d;">g2</span> = <span style="color: #8b2252;">"Hello World!"</span>;
<span style="color: #228b22;">var</span> <span style="color: #a0522d;">g3</span> = <span style="color: #8b2252;">"Hello World!"</span>;

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">message1</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">message2</span> = <span style="color: #008b8b;">null</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">message3</span> = String.Empty; <span style="color: #b22222;">// </span><span style="color: #b22222;">string message3 = "";</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">oldPath</span> = <span style="color: #8b2252;">"Path:\nc:\\Program Files\\Microsoft Visual Studio 8.0"</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">newPath</span> = @<span style="color: #8b2252;">"Path:</span>
<span style="color: #8b2252;">c:\Program Files\Microsoft Visual Studio 9.0"</span>;

<span style="color: #228b22;">char</span><span style="color: #707183;">[]</span> <span style="color: #a0522d;">letters</span> = <span style="color: #707183;">{</span> <span style="color: #8b2252;">'A'</span>, <span style="color: #8b2252;">'B'</span>, <span style="color: #8b2252;">'C'</span> <span style="color: #707183;">}</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">alphabet</span> = <span style="color: #a020f0;">new</span> <span style="color: #0000ff;">string</span><span style="color: #707183;">(</span>letters<span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org5e18494" class="outline-4">
<h4 id="org5e18494"><span class="section-number-4">5.1.2.</span> 字符串的不可变性 (Immutable)</h4>
<div class="outline-text-4" id="text-5-1-2">
</div>
<div id="outline-container-org7925c0f" class="outline-5">
<h5 id="org7925c0f"><span class="section-number-5">5.1.2.1.</span> what &amp; why</h5>
<div class="outline-text-5" id="text-5-1-2-1">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">int</span> <span style="color: #a0522d;">a</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">b</span>;


<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 1; <span style="color: #b22222;">// </span><span style="color: #b22222;">int i; i = 1;</span>
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">j</span> = 23;
i += j; <span style="color: #b22222;">// </span><span style="color: #b22222;">i = i + j; i = 24;</span>

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s</span> = <span style="color: #8b2252;">"h"</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">t</span> = <span style="color: #8b2252;">"w"</span>;
s += t; <span style="color: #b22222;">// </span><span style="color: #b22222;">s = s + t;</span>
</pre>
</div>


<figure id="org4cc7b80">
<img src="img/string-immute.png" alt="string-immute.png" width="400px">

</figure>


<p>
字符串是不可更改的:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">s</span> = <span style="color: #8b2252;">"hello"</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s<span style="color: #7388d6;">[</span>1<span style="color: #7388d6;">]</span><span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#20197;&#36890;&#36807;&#36825;&#31181;&#26041;&#24335;&#35835;&#21462;&#23383;&#31526;&#20018;&#30340;&#26576;&#20010;&#20301;&#32622;</span>
s<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> = <span style="color: #8b2252;">'x'</span>;              <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36825;&#19968;&#21477;&#26159;&#38169;&#35823;&#30340;</span>
</pre>
</div>

<p>
思考:
</p>
<ul class="org-ul">
<li>为什么要搞成不可变的 ?</li>
<li>不可变能带来什么好处 ?</li>
</ul>
</div>
</div>

<div id="outline-container-orgef53295" class="outline-5">
<h5 id="orgef53295"><span class="section-number-5">5.1.2.2.</span> System.Text.StringBuilder</h5>
<div class="outline-text-5" id="text-5-1-2-2">
<p>
这是 BCL 中提供的一个类，专门使用在 <b>字符串拼接</b> 的场景下。
</p>

<p>
因为，在预定义的字符串实现中，字符串拼接 (+=) 是非常低效的一种行为 (要去理解为什么)。
</p>


<figure id="org449227f">
<img src="img/string-vs-stringbuilder.png" alt="string-vs-stringbuilder.png" width="500px">

</figure>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">using</span> <span style="color: #a0522d;">System</span>.<span style="color: #a0522d;">Text</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#35299;&#26512;&#19968;&#19979;&#65292;&#20026;&#20160;&#20040;&#36825;&#27573;&#20195;&#30721;&#20250;&#20026;&#20869;&#23384;&#24102;&#26469;&#22823;&#37327;&#30340;&#22403;&#22334;</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s</span> = <span style="color: #8b2252;">"hello"</span>;
<span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; 1000; i++<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    s += <span style="color: #8b2252;">"."</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>s<span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#35201;&#29702;&#35299;&#65292;&#20026;&#20160;&#20040; StringBuilder &#20250;&#21344;&#29992;&#26356;&#23569;&#30340;&#31354;&#38388;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#22914;&#20309;&#29702;&#24615;&#30475;&#24453; String vs StringBuilder &#20004;&#31181;&#31867;&#22411;</span>
<span style="color: #228b22;">StringBuilder</span> <span style="color: #a0522d;">sb</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">StringBuilder</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"hello"</span><span style="color: #707183;">)</span>;
<span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; 1000; i++<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    sb.<span style="color: #0000ff;">Append</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"."</span><span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>sb<span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>s == sb.<span style="color: #0000ff;">ToString</span><span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"&#21704;&#21704;&#65292;&#19968;&#26679;&#21834;"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb9c3bc1" class="outline-5">
<h5 id="orgb9c3bc1"><span class="section-number-5">5.1.2.3.</span> String Intern Pool (字符串池)</h5>
<div class="outline-text-5" id="text-5-1-2-3">
<p>
因为字符串是不可变的，所以在字符串的操作中，会产生很多临时字符串 (垃圾)。
</p>

<p>
在实际使用中，有很多字符串我们会反复去使用的，所以为了避免重复进行字符串的创建，
会对字符串操作过程中产生的字符串进行缓存管理，即创建一个字符串池管理它们。
</p>

<p>
后续进行字符串的声明时，会优先到池中寻找，如果已经存在，那么直接使用它。
</p>

<p>
字符串池的根本原因是，字符串是不可变的。
</p>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">a</span> = <span style="color: #8b2252;">"hello"</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">b</span> = <span style="color: #8b2252;">"hel"</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">c</span> = <span style="color: #8b2252;">"lo"</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">d</span> = b + c;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">e</span> = <span style="color: #8b2252;">"hello"</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20351;&#29992; == &#21028;&#26029;&#65292;&#20004;&#20010;&#23383;&#31526;&#20018;&#30340;&#20540;&#26159;&#19981;&#26159;&#19968;&#26679;&#30340;</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>a == d<span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">True</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>a == e<span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">True</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20351;&#29992; object.ReferenceEquals &#21028;&#23450;&#26159;&#21542;&#21344;&#29992;&#20102;&#30456;&#21516;&#30340;&#20869;&#23384;&#31354;&#38388;</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span><span style="color: #228b22;">object</span>.<span style="color: #0000ff;">ReferenceEquals</span><span style="color: #7388d6;">(</span>a, d<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">False</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span><span style="color: #228b22;">object</span>.<span style="color: #0000ff;">ReferenceEquals</span><span style="color: #7388d6;">(</span>a, e<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">True</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#27880;&#24847;&#65292;&#31867;&#27604; Java:</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">a == b &#21028;&#26029;&#30340;&#26159; a &#36319; b &#26159;&#21542;&#26159;&#21516;&#19968;&#20010;&#24341;&#29992;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">a.equals(b) &#29992;&#26469;&#21028;&#26029; a &#36319; b &#30340;&#20540;&#26159;&#19981;&#26159;&#19968;&#26679;&#30340;</span>
<span style="color: #b22222;">//</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">string a = null;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">string b = "hello";</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">a.equals(b) -&gt; b.equals(a);</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">"hello".equal(a); (1)</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">if (a != null) a.equal("hello"); (2)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5bc7f62" class="outline-4">
<h4 id="org5bc7f62"><span class="section-number-4">5.1.3.</span> [API] 基本操作</h4>
<div class="outline-text-4" id="text-5-1-3">
<p>
API (Application Programming Interface) 应用程序编程接口。
</p>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">s1</span> = <span style="color: #8b2252;">"aaa"</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s2</span> = <span style="color: #8b2252;">"&#24744;&#22909;aaa"</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s3</span> = <span style="color: #8b2252;">"&#131603;&#22909;aaa"</span>;

Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s1.Length<span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#30001;&#22810;&#23569;&#20010;&#23383;&#31526;&#32452;&#25104;</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s2.Length<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s3.Length<span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36825;&#20010;&#20026;&#20160;&#20040;&#26159; 6 ?</span>

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s4</span> = <span style="color: #8b2252;">"&#20013;&#22269;&#131603;&#24744;&#22909;&#131603;blahblaah&#20013;&#21326;&#131603;&#20320;&#20204;&#37117;&#26159;&#21861;kdjfkdjkdfdkjlah&#20013;&#21326;&#131603;&#20320;&#20204;&#37117;&#26159;&#21861;kdjfkdjkdfdkjlah&#20013;&#21326;&#131603;&#20320;&#20204;&#37117;&#26159;&#21861;kdjfkdjkdfdkjlah&#20013;&#21326;&#131603;&#20320;&#20204;&#37117;&#26159;&#21861;kdjfkdjkdfdkjlah&#20013;&#21326;&#131603;&#20320;&#20204;&#37117;&#26159;&#21861;kdjfkdjkdfdkjlah&#20013;&#21326;&#131603;&#20320;&#20204;&#37117;&#26159;&#21861;kdjfkdjkdfdkjlah&#20013;&#21326;&#131603;&#20320;&#20204;&#37117;&#26159;&#21861;kdjfkdjkdfdkjlah&#20013;&#21326;&#131603;&#20320;&#20204;&#37117;&#26159;&#21861;kdjfkdjkdfdkjlah&#20013;&#21326;&#131603;&#20320;&#20204;&#37117;&#26159;&#21861;kdjfkdjkdfdkjf"</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s4.Length<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span><span style="color: #a020f0;">new</span> <span style="color: #228b22;">StringInfo</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">s4</span><span style="color: #7388d6;">)</span>.LengthInTextElements<span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org35d3e55" class="outline-4">
<h4 id="org35d3e55"><span class="section-number-4">5.1.4.</span> [API] 拼接 + 格式化</h4>
<div class="outline-text-4" id="text-5-1-4">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span> = <span style="color: #8b2252;">"tom"</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">friend</span> = <span style="color: #8b2252;">"jerry"</span>;
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">age</span> = 30;
<span style="color: #228b22;">decimal</span> <span style="color: #a0522d;">sal</span> = 200.12345M;

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">r1</span> = name + <span style="color: #8b2252;">"&#30340;&#26379;&#21451;&#26159;"</span>
                 + friend + <span style="color: #8b2252;">"&#65292;&#23427;&#34429;&#28982;&#21482;&#26377;"</span>
                 + age + <span style="color: #8b2252;">"&#23681;&#65292;&#20294;&#26159;&#23427;&#30340;&#25910;&#20837;&#33021;&#21040;&#36798;&#21040;"</span>
                 + sal + <span style="color: #8b2252;">"&#20992;"</span>;

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">r2</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">StringBuilder</span><span style="color: #707183;">()</span>
    .<span style="color: #0000ff;">Append</span><span style="color: #707183;">(</span>name<span style="color: #707183;">)</span>
    .<span style="color: #0000ff;">Append</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#30340;&#26379;&#21451;&#26159;"</span><span style="color: #707183;">)</span>
    .<span style="color: #0000ff;">Append</span><span style="color: #707183;">(</span>friend<span style="color: #707183;">)</span>
    .<span style="color: #0000ff;">Append</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#65292;&#23427;&#34429;&#28982;&#21482;&#26377;"</span><span style="color: #707183;">)</span>
    .<span style="color: #0000ff;">Append</span><span style="color: #707183;">(</span>age<span style="color: #707183;">)</span>
    .<span style="color: #0000ff;">Append</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#23681;&#65292;&#20294;&#26159;&#23427;&#30340;&#25910;&#20837;&#33021;&#21040;&#36798;&#21040;"</span><span style="color: #707183;">)</span>
    .<span style="color: #0000ff;">Append</span><span style="color: #707183;">(</span>sal<span style="color: #707183;">)</span>
    .<span style="color: #0000ff;">Append</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#20992;"</span><span style="color: #707183;">)</span>
    .<span style="color: #0000ff;">ToString</span><span style="color: #707183;">()</span>;

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">r3</span> = <span style="color: #228b22;">string</span>.<span style="color: #0000ff;">Format</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"{0}&#30340;&#26379;&#21451;&#26159;{1}&#65292;&#23427;&#34429;&#28982;&#21482;&#26377;{2}&#23681;&#65292;&#20294;&#26159;&#23427;&#30340;&#25910;&#20837;&#36798;&#21040;{3:C}"</span>, name, friend, age, sal<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">{&#21464;&#37327;,&#23545;&#40784;&#22810;&#23569;&#38271;&#24230;:&#26684;&#24335;}</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">[&#23545;&#40784;] &#27491;&#25968;&#34920;&#31034;&#21491;&#23545;&#40784;&#65292;&#36127;&#25968;&#34920;&#31034;&#24038;&#23545;&#40784;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">[&#26684;&#24335;] P &#30334;&#20998;&#27604; C &#36135;&#24065; E &#31185;&#23398;&#35745;&#25968;&#27861; D &#34917;&#40784;&#38271;&#24230; F/N &#23567;&#25968;&#28857;&#22810;&#23569;&#20301; X &#21313;&#20845;&#36827;&#21046;</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">r4</span> = $<span style="color: #8b2252;">"{name}&#30340;&#26379;&#21451;&#26159;{friend}&#65292;&#23427;&#34429;&#28982;&#21482;&#26377;{age:d5}&#23681;&#65292;&#20294;&#26159;&#23427;&#30340;&#25910;&#20837;&#36798;&#21040;{sal:C}!"</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#35821;&#35328;-&#22269;&#23478;&#25110;&#21306;&#22495;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">zh-CN</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">en-US</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">en-EN</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">ss</span> = sal.<span style="color: #0000ff;">ToString</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"C"</span>, <span style="color: #a020f0;">new</span> <span style="color: #228b22;">CultureInfo</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"en-US"</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">r5</span> = $<span style="color: #8b2252;">"{name}&#30340;&#26379;&#21451;&#26159;{friend}&#65292;&#23427;&#34429;&#28982;&#21482;&#26377;{age:d5}&#23681;&#65292;&#20294;&#26159;&#23427;&#30340;&#25910;&#20837;&#36798;&#21040;{ss}!"</span>;

Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>r5<span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdd497b0" class="outline-4">
<h4 id="orgdd497b0"><span class="section-number-4">5.1.5.</span> [API] 子字符串</h4>
<div class="outline-text-4" id="text-5-1-5">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">s1</span> = <span style="color: #8b2252;">"000o&#12290;OOOoOO0O0Ooo000o"</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21462;</span>
<span style="color: #228b22;">char</span> <span style="color: #a0522d;">c</span> = s1<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21462;&#23383;&#31526;</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s2</span> = s1.<span style="color: #0000ff;">Substring</span><span style="color: #707183;">(</span>1, 2<span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20301;&#32622;&#65292;&#38271;&#24230; : el</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s3</span> = s1.<span style="color: #0000ff;">Substring</span><span style="color: #707183;">(</span>2<span style="color: #707183;">)</span>;    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20174;&#26576;&#20010;&#20301;&#32622;&#21040;&#26368;&#21518;</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s4</span> = s1.<span style="color: #0000ff;">Substring</span><span style="color: #707183;">(</span>2, 0<span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">String.Empty ""</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21028;</span>
<span style="color: #228b22;">bool</span> <span style="color: #a0522d;">b1</span> = s1.<span style="color: #0000ff;">Contains</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"o0"</span><span style="color: #707183;">)</span>;    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26159;&#21542;&#21253;&#21547;&#19968;&#20010;&#23376;&#23383;&#31526;&#20018;</span>
<span style="color: #228b22;">bool</span> <span style="color: #a0522d;">b2</span> = s1.<span style="color: #0000ff;">StartsWith</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"o"</span><span style="color: #707183;">)</span>;   <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26159;&#19981;&#26159;&#20197; x &#24320;&#22987;</span>
<span style="color: #228b22;">bool</span> <span style="color: #a0522d;">b3</span> = s1.<span style="color: #0000ff;">EndsWith</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"o"</span><span style="color: #707183;">)</span>;     <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26159;&#19981;&#26159;&#20197; x &#32467;&#26463;&#30340;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#24207;</span>
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i1</span> = s1.<span style="color: #0000ff;">IndexOf</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"O"</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i2</span> = s1.<span style="color: #0000ff;">LastIndexOf</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"O"</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i3</span> = s1.<span style="color: #0000ff;">IndexOfAny</span><span style="color: #707183;">(</span><span style="color: #a020f0;">new</span> <span style="color: #7388d6;">[]{</span><span style="color: #8b2252;">'o'</span>, <span style="color: #8b2252;">'O'</span><span style="color: #7388d6;">}</span><span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#32467;&#21512;</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">path</span> = <span style="color: #8b2252;">"C:/aaa/work.x/hello.txt"</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">drive</span> = path.<span style="color: #0000ff;">Substring</span><span style="color: #707183;">(</span>0, path.<span style="color: #0000ff;">IndexOf</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">":"</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">dir</span> = path.<span style="color: #0000ff;">Substring</span><span style="color: #707183;">(</span>0, path.<span style="color: #0000ff;">LastIndexOf</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"/"</span><span style="color: #7388d6;">)</span> + 1<span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">file</span> = path.<span style="color: #0000ff;">Substring</span><span style="color: #707183;">(</span>path.<span style="color: #0000ff;">LastIndexOf</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"/"</span><span style="color: #7388d6;">)</span> + 1<span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">ext</span> = path.<span style="color: #0000ff;">Substring</span><span style="color: #707183;">(</span>path.<span style="color: #0000ff;">LastIndexOf</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"."</span><span style="color: #7388d6;">)</span> + 1<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#33258;&#23450;&#20041;&#29256;&#26412;&#30340; LastIndexOf</span>
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">p</span> = 0;
<span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = path.Length - 1; i &gt;= 0; i--<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>path<span style="color: #909183;">[</span>i<span style="color: #909183;">]</span> == <span style="color: #8b2252;">'/'</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        p = i;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">dir2</span> = path.<span style="color: #0000ff;">Substring</span><span style="color: #707183;">(</span>0, p<span style="color: #707183;">)</span>;

Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>dir2<span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb47b856" class="outline-4">
<h4 id="orgb47b856"><span class="section-number-4">5.1.6.</span> [API] 字符串的修改</h4>
<div class="outline-text-4" id="text-5-1-6">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#35880;&#35760;:</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20462;&#25913;&#19981;&#20250;&#20316;&#29992;&#22312;&#21407;&#20808;&#30340;&#23383;&#31526;&#20018;&#19978;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25152;&#26377;&#30340;&#20462;&#25913;&#65292;&#37117;&#26159;&#36820;&#22238;&#20102;&#19968;&#20010;&#23436;&#20840;&#23853;&#26032;&#30340;&#23383;&#31526;&#20018;</span>

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s1</span> = <span style="color: #8b2252;">"  000o&#12290;OOOoOO0O&#65292;0Ooo000o--"</span>;

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s2</span> = s1.<span style="color: #0000ff;">Insert</span><span style="color: #707183;">(</span>3, <span style="color: #8b2252;">"&gt;&gt;&gt;"</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s3</span> = s1.<span style="color: #0000ff;">Remove</span><span style="color: #707183;">(</span>2, 1<span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s4</span> = s1.<span style="color: #0000ff;">Replace</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#12290;"</span>, <span style="color: #8b2252;">"."</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s5</span> = s1.<span style="color: #0000ff;">Replace</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'&#65292;'</span>, <span style="color: #8b2252;">'_'</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s6</span> = s1.<span style="color: #0000ff;">Replace</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"OoO"</span>, <span style="color: #8b2252;">"111"</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s7</span> = s1.<span style="color: #0000ff;">Replace</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"OoO"</span>, <span style="color: #8b2252;">"222"</span>, <span style="color: #008b8b;">true</span>, <span style="color: #a020f0;">new</span> <span style="color: #228b22;">CultureInfo</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"zh-CN"</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>;

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s8</span> = s1.<span style="color: #0000ff;">PadLeft</span><span style="color: #707183;">(</span>100<span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s9</span> = s1.<span style="color: #0000ff;">PadLeft</span><span style="color: #707183;">(</span>100, <span style="color: #8b2252;">'-'</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">sa</span> = s1.<span style="color: #0000ff;">PadRight</span><span style="color: #707183;">(</span>100, <span style="color: #8b2252;">'-'</span><span style="color: #707183;">)</span>;

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">sb</span> = s1.<span style="color: #0000ff;">Trim</span><span style="color: #707183;">()</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">sc</span> = s1.<span style="color: #0000ff;">Trim</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'-'</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">sd</span> = s1.<span style="color: #0000ff;">TrimStart</span><span style="color: #707183;">()</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">de</span> = s1.<span style="color: #0000ff;">TrimStart</span><span style="color: #707183;">()</span>.<span style="color: #0000ff;">TrimEnd</span><span style="color: #707183;">(</span><span style="color: #8b2252;">'-'</span><span style="color: #707183;">)</span>.<span style="color: #0000ff;">PadLeft</span><span style="color: #707183;">(</span>50, <span style="color: #8b2252;">':'</span><span style="color: #707183;">)</span>;

<span style="color: #228b22;">string</span> <span style="color: #a0522d;">df</span> = s1.<span style="color: #0000ff;">ToLower</span><span style="color: #707183;">()</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">dg</span> = s1.<span style="color: #0000ff;">ToUpper</span><span style="color: #707183;">()</span>;

Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>de<span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orge6669b1" class="outline-4">
<h4 id="orge6669b1"><span class="section-number-4">5.1.7.</span> [API] String 跟 Array 的转换</h4>
<div class="outline-text-4" id="text-5-1-7">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">s1</span> = <span style="color: #8b2252;">"  000o&#12290;OOOoOO0O&#65292;0Ooo000o--"</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#23383;&#31526;&#20018;&#21040; [&#25968;&#32452;] &#30340;&#36716;&#25442;</span>
<span style="color: #228b22;">char</span><span style="color: #707183;">[]</span> <span style="color: #a0522d;">a1</span> = s1.<span style="color: #0000ff;">ToCharArray</span><span style="color: #707183;">()</span>;
<span style="color: #228b22;">char</span><span style="color: #707183;">[]</span> <span style="color: #a0522d;">a2</span> = s1.<span style="color: #0000ff;">ToCharArray</span><span style="color: #707183;">(</span>2, 10<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">[&#25968;&#32452;] &#21040;&#23383;&#31526;&#20018;&#30340;&#36716;&#25442;</span>
<span style="color: #228b22;">char</span><span style="color: #707183;">[]</span> <span style="color: #a0522d;">a3</span> = <span style="color: #a020f0;">new</span><span style="color: #707183;">[]</span> <span style="color: #707183;">{</span><span style="color: #8b2252;">'a'</span>, <span style="color: #8b2252;">'o'</span>, <span style="color: #8b2252;">'e'</span><span style="color: #707183;">}</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s2</span> = <span style="color: #a020f0;">new</span> <span style="color: #0000ff;">string</span><span style="color: #707183;">(</span>a3<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">StringBuild vs String</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s3</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">StringBuilder</span><span style="color: #707183;">()</span>.<span style="color: #0000ff;">Append</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"hello"</span><span style="color: #707183;">)</span>.<span style="color: #0000ff;">ToString</span><span style="color: #707183;">()</span>;
<span style="color: #228b22;">StringBuilder</span> <span style="color: #a0522d;">sb</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">StringBuilder</span><span style="color: #707183;">(</span>s1<span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0500176" class="outline-3">
<h3 id="org0500176"><span class="section-number-3">5.2.</span> object</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-csx"><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 20;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s</span> = <span style="color: #8b2252;">"hello"</span>;

<span style="color: #228b22;">object</span> <span style="color: #a0522d;">i1</span> = 20;
<span style="color: #228b22;">object</span> <span style="color: #a0522d;">s1</span> = <span style="color: #8b2252;">"hello"</span>;

<span style="color: #228b22;">object</span> <span style="color: #a0522d;">i2</span>;
<span style="color: #228b22;">object</span> <span style="color: #a0522d;">s2</span>;

i2 = 20;
s2 = <span style="color: #8b2252;">"hello"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc220dcb" class="outline-3">
<h3 id="orgc220dcb"><span class="section-number-3">5.3.</span> dynamic</h3>
<div class="outline-text-3" id="text-5-3">
<ul class="org-ul">
<li>静态语言</li>
<li>动态语言 (动态一时爽，重构hzc)</li>
</ul>

<div class="org-src-container">
<pre class="src src-csx"><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 20;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s</span> = <span style="color: #8b2252;">"hello"</span>;

<span style="color: #228b22;">object</span> <span style="color: #a0522d;">i1</span> = 20;
<span style="color: #228b22;">object</span> <span style="color: #a0522d;">s1</span> = <span style="color: #8b2252;">"hello"</span>;

<span style="color: #228b22;">object</span> <span style="color: #a0522d;">i2</span>;
<span style="color: #228b22;">object</span> <span style="color: #a0522d;">s2</span>;

i2 = 20;
s2 = <span style="color: #8b2252;">"hello"</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-cs"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#21160;&#24577;&#35821;&#35328;&#30340;&#25630;&#27861;&#65292;s &#26159;&#21861;&#19981;&#30830;&#23450;&#65292;&#36816;&#34892;&#21040;&#21738;&#37324;&#21487;&#20197;&#33021;&#23601;&#21464;&#20102;</span>
<span style="color: #228b22;">var</span> <span style="color: #a0522d;">s</span>;
s = 2323;     <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25972;&#25968;</span>
s = <span style="color: #8b2252;">"kdjkfd"</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#23383;&#31526;&#20018;</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s.Length<span style="color: #707183;">)</span>;
s = <span style="color: #707183;">[</span>2, 3<span style="color: #707183;">]</span>;   <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25968;&#32452;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#38745;&#24577;&#31867;&#22411;&#65292;s &#26159;&#21861;&#65292;&#20986;&#29983;&#23450;&#32456;&#36523;</span>
<span style="color: #228b22;">var</span> <span style="color: #a0522d;">s</span> = <span style="color: #8b2252;">"hello"</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">C# &#23545;&#21160;&#24577;&#31867;&#22411;&#30340;&#25903;&#25345;</span>
<span style="color: #228b22;">dynamic</span> <span style="color: #a0522d;">a</span> = 1111;
a = <span style="color: #8b2252;">"hello"</span>;
a = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">FileInfo</span><span style="color: #707183;">(</span><span style="color: #8b2252;">""</span><span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org2f0b103" class="outline-2">
<h2 id="org2f0b103"><span class="section-number-2">6.</span> 用户自定义类型</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgf6aeed0" class="outline-3">
<h3 id="orgf6aeed0"><span class="section-number-3">6.1.</span> class</h3>
<div class="outline-text-3" id="text-6-1">
<p>
类
</p>
</div>
</div>

<div id="outline-container-orgbc65562" class="outline-3">
<h3 id="orgbc65562"><span class="section-number-3">6.2.</span> interface</h3>
<div class="outline-text-3" id="text-6-2">
<p>
接口
</p>
</div>
</div>

<div id="outline-container-org9dd0672" class="outline-3">
<h3 id="org9dd0672"><span class="section-number-3">6.3.</span> delegate</h3>
<div class="outline-text-3" id="text-6-3">
<p>
委托
</p>
</div>
</div>

<div id="outline-container-org1b52cca" class="outline-3">
<h3 id="org1b52cca"><span class="section-number-3">6.4.</span> array</h3>
<div class="outline-text-3" id="text-6-4">
<p>
数组
</p>
</div>
</div>

<div id="outline-container-orgea6d6d6" class="outline-3">
<h3 id="orgea6d6d6"><span class="section-number-3">6.5.</span> record</h3>
<div class="outline-text-3" id="text-6-5">
<p>
记录
</p>
</div>
</div>

<div id="outline-container-org5df569b" class="outline-3">
<h3 id="org5df569b"><span class="section-number-3">6.6.</span> struct</h3>
<div class="outline-text-3" id="text-6-6">
<p>
结构体
</p>
</div>
</div>

<div id="outline-container-org601c4c7" class="outline-3">
<h3 id="org601c4c7"><span class="section-number-3">6.7.</span> enum</h3>
<div class="outline-text-3" id="text-6-7">
<p>
枚举
</p>
</div>
</div>
</section>

<section id="outline-container-orgf98ccd2" class="outline-2">
<h2 id="orgf98ccd2"><span class="section-number-2">7.</span> 类型转换</h2>
<div class="outline-text-2" id="text-7">
<p>
基本类型的转换:
</p>
<ul class="org-ul">
<li><p>
如果涉及到转换之后不会存在任何的精度损失的话，会进行隐式转换 (implicit)
</p>
<pre class="example">
int a; byte b; a = b;
</pre></li>
<li><p>
如果可能存在精度损失的话，这个时候，必须进行强制转换 (explicit)
</p>
<pre class="example">
int a; byte b; b = (int)a;
</pre></li>
<li>如果强制转换过程中，出现精度损失的话，默认情况下会按照某种规则截断。注意，不会报错</li>
<li><p>
我们可以使用 <code>checked</code> 关键词将转换的语句包围住，然后在转换中出现精度损失的话，会抛出异常
</p>
<pre class="example">
int a; byte b; b = check((int)a);
</pre></li>
</ul>

<p>
引用类型的转换:
</p>
<ul class="org-ul">
<li><p>
引用类型同样存在 implicit/explicit 抓换
</p>
<pre class="example">
Person p = new Student();
Student s = (Student) p;
</pre></li>
<li>引用类型的转换，如果转换失败，默认会抛出异常</li>
<li><p>
使用 <code>is</code> 语句，判断是否属于某种类型。经常会跟显式转换配合使用:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #228b22;">Student</span> <span style="color: #a0522d;">s</span>;
<span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>p <span style="color: #a020f0;">is</span> Student<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    s = <span style="color: #7388d6;">(</span><span style="color: #228b22;">Student</span><span style="color: #7388d6;">)</span> p;
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">else</span>
<span style="color: #707183;">{</span>
    s = <span style="color: #008b8b;">null</span>;
<span style="color: #707183;">}</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s<span style="color: #707183;">)</span>;
</pre>
</div></li>
<li><p>
可以使用 <code>as</code> 语句，简化上述的判断跟转换。这是一种很甜的糖:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #228b22;">Student</span> <span style="color: #a0522d;">s</span> = p <span style="color: #a020f0;">as</span> Student;
<span style="color: #a020f0;">if</span> <span style="color: #707183;">(</span>s == <span style="color: #008b8b;">null</span><span style="color: #707183;">)</span> ...
</pre>
</div></li>
</ul>

<p>
装箱/拆箱 (boxing/unboxing):
</p>
<ul class="org-ul">
<li><b>装箱</b> 是将值类型转换为 object 类型或由此值类型实现的任何接口类型的过程</li>
<li>在 C# 中，基本类型也是 object 的实例。
但是为了效率，基本类型都被直接存储在栈上，存储的形式不是对象的形式。
因此，如果想将基本类型当作对象，来进行方法调用的时候，需要将其转换为对象存储形式
为了简化上述过程，在对基本类型进行方法调用的时候，CLR 会自动进行上述转换。
这种隐式转换的机制，叫做自动装箱 (auto-boxing)</li>
<li>反向的过程叫拆箱</li>
</ul>
</div>

<div id="outline-container-org369825e" class="outline-3">
<h3 id="org369825e"><span class="section-number-3">7.1.</span> 隐式转换/强制转换</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #228b22;">char</span> <span style="color: #a0522d;">a</span> = <span style="color: #8b2252;">'A'</span>;
<span style="color: #228b22;">byte</span> <span style="color: #a0522d;">ab</span> = <span style="color: #707183;">(</span><span style="color: #228b22;">byte</span><span style="color: #707183;">)</span>a;

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">s1</span> = ab + 13; <span style="color: #b22222;">// </span><span style="color: #b22222;">byte + int</span>
ab = <span style="color: #707183;">(</span><span style="color: #228b22;">byte</span><span style="color: #707183;">)</span> <span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #909183;">(</span><span style="color: #228b22;">int</span><span style="color: #909183;">)</span> ab<span style="color: #7388d6;">)</span> + 13<span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">int + int = int</span>
ab = <span style="color: #707183;">(</span><span style="color: #228b22;">byte</span><span style="color: #707183;">)</span> <span style="color: #707183;">(</span>ab + 13<span style="color: #707183;">)</span>;

<span style="color: #8b2252;">/////</span>
<span style="color: #228b22;">char</span> <span style="color: #a0522d;">a</span> = <span style="color: #8b2252;">'A'</span>;
<span style="color: #228b22;">byte</span> <span style="color: #a0522d;">a1</span> = <span style="color: #707183;">(</span><span style="color: #228b22;">byte</span><span style="color: #707183;">)</span> a;
<span style="color: #228b22;">char</span> <span style="color: #a0522d;">a2</span> = <span style="color: #707183;">(</span><span style="color: #228b22;">char</span><span style="color: #707183;">)</span> <span style="color: #707183;">(</span>a1 + 13<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>$<span style="color: #8b2252;">"{a} -&gt; {a1} -&gt; {a2}"</span><span style="color: #707183;">)</span>;
</pre>
</div>

<p>
使用 checked 来释放危险:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #228b22;">int</span> <span style="color: #a0522d;">a</span> = 1;
<span style="color: #228b22;">byte</span> <span style="color: #a0522d;">b</span> = 0;
<span style="color: #228b22;">byte</span> <span style="color: #a0522d;">c</span> = 0;
<span style="color: #228b22;">byte</span> <span style="color: #a0522d;">d</span> = 0;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#28508;&#22312;&#30340;&#21361;&#38505;</span>
b = <span style="color: #707183;">(</span><span style="color: #228b22;">byte</span><span style="color: #707183;">)</span> a;
c = <span style="color: #707183;">(</span><span style="color: #228b22;">byte</span><span style="color: #707183;">)</span> a;
d = <span style="color: #707183;">(</span><span style="color: #228b22;">byte</span><span style="color: #707183;">)</span> a;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20027;&#21160;&#37322;&#25918;&#21361;&#38505;</span>
b = <span style="color: #a020f0;">checked</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">byte</span><span style="color: #7388d6;">)</span> a<span style="color: #707183;">)</span>;
c = <span style="color: #a020f0;">checked</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">byte</span><span style="color: #7388d6;">)</span> a<span style="color: #707183;">)</span>;
d = <span style="color: #a020f0;">checked</span><span style="color: #707183;">(</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">byte</span><span style="color: #7388d6;">)</span> a<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>b<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25351;&#23450;&#21361;&#38505;&#21306;&#22495;</span>
<span style="color: #a020f0;">checked</span>
<span style="color: #707183;">{</span>
    b = <span style="color: #7388d6;">(</span><span style="color: #228b22;">byte</span><span style="color: #7388d6;">)</span>a;
    c = <span style="color: #7388d6;">(</span><span style="color: #228b22;">byte</span><span style="color: #7388d6;">)</span>a;
    d = <span style="color: #7388d6;">(</span><span style="color: #228b22;">byte</span><span style="color: #7388d6;">)</span>a;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>b<span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga71252b" class="outline-3">
<h3 id="orga71252b"><span class="section-number-3">7.2.</span> 引用类型的隐式和强制转换</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">Person</span> <span style="color: #707183;">{}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">Student</span> : <span style="color: #228b22;">Person</span> <span style="color: #707183;">{}</span>

<span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #707183;">()</span>;
<span style="color: #228b22;">Student</span> <span style="color: #a0522d;">s</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #707183;">()</span>;

<span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #707183;">()</span>;

<span style="color: #228b22;">object</span> <span style="color: #a0522d;">a</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #707183;">()</span>;
a = 2122;
<span style="color: #b22222;">// </span><span style="color: #b22222;">a: object</span>
<span style="color: #228b22;">Student</span> <span style="color: #a0522d;">s2</span> = <span style="color: #707183;">(</span><span style="color: #228b22;">Student</span><span style="color: #707183;">)</span>a;
</pre>
</div>
</div>
</div>

<div id="outline-container-org4c42ddc" class="outline-3">
<h3 id="org4c42ddc"><span class="section-number-3">7.3.</span> 装箱/拆箱 (auto-boxing)</h3>
<div class="outline-text-3" id="text-7-3">
<div class="org-src-container">
<pre class="src src-csx"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#33258;&#21160;&#35013;&#31665;</span>
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 1;
<span style="color: #228b22;">object</span> <span style="color: #a0522d;">o</span> = <span style="color: #008b8b;">null</span>;
o = i;

Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>$<span style="color: #8b2252;">"i: {i}, o: {o}"</span><span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#35013;&#31665;&#20351;&#29992;&#30340;&#26159;&#25968;&#25454;&#30340;&#21103;&#26412;</span>
i = 5;
o = 6;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>$<span style="color: #8b2252;">"i: {i}, o: {o}"</span><span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25286;&#31665;</span>
i = <span style="color: #707183;">(</span><span style="color: #228b22;">int</span><span style="color: #707183;">)</span>o;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6e51e1" class="outline-3">
<h3 id="orgf6e51e1"><span class="section-number-3">7.4.</span> 自定义转换规则</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">Program</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span><span style="color: #909183;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>

        <span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #909183;">()</span>;
        <span style="color: #228b22;">Student</span> <span style="color: #a0522d;">s</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #909183;">()</span>;

        <span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #909183;">()</span>;

        <span style="color: #228b22;">object</span> <span style="color: #a0522d;">a</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #909183;">()</span>;
        <span style="color: #228b22;">Student</span> <span style="color: #a0522d;">s2</span> = <span style="color: #909183;">(</span><span style="color: #228b22;">Student</span><span style="color: #909183;">)</span>a;

        <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22312; C# &#20013;&#65292;&#31867;&#22411;&#36716;&#25442;&#30340;&#35268;&#21017;&#65292;&#26159;&#21487;&#20197;&#33258;&#23450;&#20041;&#30340;</span>
        <span style="color: #228b22;">Student</span> <span style="color: #a0522d;">ss</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #909183;">()</span>;
        ss.id = 222;
        <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = ss;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #228b22;">i</span><span style="color: #909183;">)</span>;

        <span style="color: #228b22;">Student</span> <span style="color: #a0522d;">st</span> = <span style="color: #909183;">(</span><span style="color: #228b22;">Student</span><span style="color: #909183;">)</span>333;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #228b22;">st</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">class</span> <span style="color: #228b22;">Person</span> <span style="color: #7388d6;">{</span> <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">class</span> <span style="color: #228b22;">Student</span> : <span style="color: #228b22;">Person</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">public</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">id</span>;

        <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">implicit</span> <span style="color: #a020f0;">operator</span> <span style="color: #228b22;">int</span> <span style="color: #909183;">(</span><span style="color: #228b22;">Student</span> <span style="color: #a0522d;">s</span><span style="color: #909183;">)</span>
        <span style="color: #909183;">{</span>
            <span style="color: #a020f0;">return</span> s.id;
        <span style="color: #909183;">}</span>
        <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">static</span> <span style="color: #a020f0;">explicit</span> <span style="color: #a020f0;">operator</span> <span style="color: #0000ff;">Student</span><span style="color: #909183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">si</span><span style="color: #909183;">)</span>
        <span style="color: #909183;">{</span>
            <span style="color: #228b22;">var</span> <span style="color: #a0522d;">s</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #709870;">()</span>;
            s.id = si;
            <span style="color: #a020f0;">return</span> s;
        <span style="color: #909183;">}</span>
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
学号 - 学生，转换的示例:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#26222;&#36890;&#20351;&#29992;</span>
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">id</span> = 2323232323;
s = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #707183;">()</span>;
s.id = id;
s.xxx = ksdfj;
s.yyy = kjskdfj;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25277;&#20986;&#20026;&#26041;&#27861;</span>
<span style="color: #228b22;">Student</span> <span style="color: #0000ff;">MakeStudent</span><span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">id</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    s = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Student</span><span style="color: #7388d6;">()</span>;
    s.id = i;
    s.xxx = ksdfj;
    s.yyy = kjskdfj;
<span style="color: #707183;">}</span>
S = <span style="color: #0000ff;">MakeStudent</span><span style="color: #707183;">(</span>id<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25277;&#20986;&#20026;&#31867;&#22411;&#36716;&#25442;</span>
<span style="color: #228b22;">Student</span> <span style="color: #a0522d;">s</span> = <span style="color: #707183;">(</span><span style="color: #228b22;">Student</span><span style="color: #707183;">)</span> id;
</pre>
</div>
</div>
</div>

<div id="outline-container-org07394f5" class="outline-3">
<h3 id="org07394f5"><span class="section-number-3">7.5.</span> 基于 <b>字符串</b> 之间的互相转换</h3>
<div class="outline-text-3" id="text-7-5">
<ul class="org-ul">
<li>核心两种方法: <code>string.Format</code> 用来转换为字符串，<code>type.Parse</code> 用来从字符串转化</li>
<li>可以使用 <code>ToString/TryParse</code> 对上面的两个方法进行补充</li>
</ul>

<p>
简而言之:
</p>
<ul class="org-ul">
<li>将其他类型转换为字符串: <code>string.Format/ToString</code></li>
<li>将字符串转换为其他类型: <code>xxx.Parse/TryParse</code></li>
<li>BCL 中提供了一个叫 <code>Convert</code> 的类，可以实现更多更复杂的转换</li>
</ul>
</div>

<div id="outline-container-orgc241043" class="outline-4">
<h4 id="orgc241043"><span class="section-number-4">7.5.1.</span> string.Format</h4>
<div class="outline-text-4" id="text-7-5-1">
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">r3</span> = <span style="color: #228b22;">string</span>.<span style="color: #0000ff;">Format</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"{0}&#30340;&#26379;&#21451;&#26159;{1}&#65292;&#23427;&#34429;&#28982;&#21482;&#26377;{2}&#23681;&#65292;&#20294;&#26159;&#23427;&#30340;&#25910;&#20837;&#36798;&#21040;{3:C}"</span>, name, friend, age, sal<span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org6fe4451" class="outline-4">
<h4 id="org6fe4451"><span class="section-number-4">7.5.2.</span> type.ToString</h4>
<div class="outline-text-4" id="text-7-5-2">
<p>
因为，string 类型是如此重要，所以在 <b>所有类的基类，即 object 中</b>,
包含了一个默认的 ToString 方法。
</p>

<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">Person</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">private</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">sal</span> = 1000000;

    <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Hahaha</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"hdskfjksjfksjdfkke"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #707183;">()</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>p.<span style="color: #0000ff;">ToString</span><span style="color: #7388d6;">()</span><span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">Program+Person</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">Person</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">private</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">sal</span> = 1000000;

    <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Hahaha</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"hdskfjksjfksjdfkke"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">ToString</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"&#25105;&#23601;&#26159;&#25105;&#65292;&#19981;&#19968;&#26679;&#30340;&#28895;&#28779;.&#25105;&#30340;&#24037;&#36164;: "</span> + <span style="color: #a020f0;">this</span>.sal;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #707183;">()</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>p<span style="color: #707183;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-cs"><span style="color: #b22222;">// </span><span style="color: #b22222;">int</span>
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 112323;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s1</span> = i.<span style="color: #0000ff;">ToString</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"X"</span><span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s1<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">datetime</span>
<span style="color: #228b22;">DateTime</span> <span style="color: #a0522d;">now</span> = DateTime.Now;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s2</span> = now.<span style="color: #0000ff;">ToString</span><span style="color: #707183;">()</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s2<span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s3</span> = now.<span style="color: #0000ff;">ToString</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#29616;&#22312;&#26102;&#38388;: yyyy&#24180;MM&#26376;dd&#26085;&#65292;&#19981;&#21578;&#35785;&#20320;&#20960;&#28857;"</span><span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s3<span style="color: #707183;">)</span>;
<span style="color: #228b22;">CultureInfo</span> <span style="color: #a0522d;">ci</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">CultureInfo</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"zh-CN"</span><span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s4</span> = now.<span style="color: #0000ff;">ToString</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#29616;&#22312;&#26102;&#38388;: yyyy&#24180;MMM ddd&#65292;&#19981;&#21578;&#35785;&#20320;&#20960;&#28857;"</span>, ci<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s4<span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org23edc9b" class="outline-4">
<h4 id="org23edc9b"><span class="section-number-4">7.5.3.</span> type.Parse/TryParse</h4>
<div class="outline-text-4" id="text-7-5-3">
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #b22222;">// </span><span style="color: #b22222;">int</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s1</span> = <span style="color: #8b2252;">"1234343"</span>;
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = <span style="color: #228b22;">int</span>.<span style="color: #0000ff;">Parse</span><span style="color: #707183;">(</span>s1<span style="color: #707183;">)</span> + 1;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>i<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">double</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s2</span> = <span style="color: #8b2252;">"2322222"</span>;
<span style="color: #228b22;">double</span> <span style="color: #a0522d;">d</span> = <span style="color: #228b22;">double</span>.<span style="color: #0000ff;">Parse</span><span style="color: #707183;">(</span>s2<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>d<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">DateTime</span>
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s3</span> = <span style="color: #8b2252;">"1999-02-13"</span>;
<span style="color: #228b22;">DateTime</span> <span style="color: #a0522d;">dt</span> = DateTime.<span style="color: #0000ff;">Parse</span><span style="color: #707183;">(</span>s3<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>dt.Year<span style="color: #707183;">)</span>;
</pre>
</div>

<p>
转换失败，会抛异常:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">s4</span> = <span style="color: #8b2252;">"hello"</span>;
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i2</span> = <span style="color: #228b22;">int</span>.<span style="color: #0000ff;">Parse</span><span style="color: #707183;">(</span>s4<span style="color: #707183;">)</span>;

<span style="color: #a020f0;">try</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">string</span> <span style="color: #a0522d;">s4</span> = <span style="color: #8b2252;">"hello"</span>;
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i2</span> = <span style="color: #228b22;">int</span>.<span style="color: #0000ff;">Parse</span><span style="color: #7388d6;">(</span>s4<span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">catch</span> <span style="color: #707183;">(</span>e<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36716;&#25442;&#19981;&#20102;&#24590;&#20040;&#21150;</span>
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
可以使用 TryParse 进行转化，如果转换失败，会返回 False:
#+begin_src cs
  string s4 = "hello";
</p>

<p>
if (int.TryParse(s4, out int result))
{
    Console.WriteLine(result);
}
</p>

<p>
bool TryMyParse(string s, out int result)
{
    try
    {
        result = int.Parse(s4);
        return true;
    }
    catch
    {
        result = 0;
        return false;
    }
}#+end_src
</p>
</div>
</div>

<div id="outline-container-orgb81e480" class="outline-4">
<h4 id="orgb81e480"><span class="section-number-4">7.5.4.</span> Convert</h4>
<div class="outline-text-4" id="text-7-5-4">
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #228b22;">string</span> <span style="color: #a0522d;">s1</span> = Convert.<span style="color: #0000ff;">ToString</span><span style="color: #707183;">(</span>82738283782, 2<span style="color: #707183;">)</span>;
<span style="color: #228b22;">string</span> <span style="color: #a0522d;">s2</span> = Convert.<span style="color: #0000ff;">ToString</span><span style="color: #707183;">(</span>82738283782, 8<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>s2<span style="color: #707183;">)</span>;

Convert.<span style="color: #0000ff;">TryFromBase64String</span><span style="color: #707183;">()</span>;
</pre>
</div>
</div>
</div>
</div>
</section>

<section id="outline-container-org13746ef" class="outline-2">
<h2 id="org13746ef"><span class="section-number-2">8.</span> 类 (Class)</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-orgf6ff4e3" class="outline-3">
<h3 id="orgf6ff4e3"><span class="section-number-3">8.1.</span> 字段 (Field)</h3>
<div class="outline-text-3" id="text-8-1">
<ul class="org-ul">
<li>作为一个字段，最重要的是 (类型) (名字) = (值)</li>
<li>可以 <b>选择性</b> 使用其他修饰符，为字段增加 <b>额外</b> 的功能或限制:
<ul class="org-ul">
<li>访问修饰符: private/public/protected/internal 等，用来给予外部的访问限制</li>
<li>只读/常量修饰符: const/readonly，用来防止数据被误修改</li>
<li>静态修饰符: static 的作用是，将这个字段的归属权给予类</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org9cf6316" class="outline-3">
<h3 id="org9cf6316"><span class="section-number-3">8.2.</span> 方法 (Method)</h3>
<div class="outline-text-3" id="text-8-2">
</div>
<div id="outline-container-org5653709" class="outline-4">
<h4 id="org5653709"><span class="section-number-4">8.2.1.</span> Basic</h4>
<div class="outline-text-4" id="text-8-2-1">
<p>
方法是一个具备名字的代码块:
</p>
<ul class="org-ul">
<li>通过 <code>方法名()</code> 的方式实现方法调用，
也就是在调用的地方将方法名代表的代码块里的代码进行运行</li>
<li>方法的三要素:
<ol class="org-ol">
<li>一个名字 (方法名)</li>
<li>传入的数据 (传入参数) 入参写在方法名后面的括号里。如果没有入参，括号保持为空即可</li>
<li>传出的数据 (返回值) 方法内部，使用 return 表示返回的数据。在方法名前面，添加返回的类型。
如果方法内部没有任何 return 表示方法没有返回值，需要在方法前面添加 void 表示这种情况</li>
</ol></li>
</ul>
</div>
</div>

<div id="outline-container-orgb851b88" class="outline-4">
<h4 id="orgb851b88"><span class="section-number-4">8.2.2.</span> 方法的重载 (overload)</h4>
<div class="outline-text-4" id="text-8-2-2">
<ul class="org-ul">
<li>一个类中，可以有同名的方法。需要有不同的参数 (这样才能区分调用)</li>
<li>请叙述一下 overload 和 override 有什么区别</li>
</ul>

<p>
方法的示例:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">Program</span>
<span style="color: #707183;">{</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26041;&#27861;&#30340;&#22768;&#26126;&#12289;&#23450;&#20041;</span>
    <span style="color: #228b22;">int</span> <span style="color: #0000ff;">&#22686;&#21152;</span> <span style="color: #7388d6;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">a</span><span style="color: #7388d6;">)</span>  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26041;&#27861;&#21517;&#20026; [&#22686;&#21152;]&#65292;&#20837;&#21442;&#20026; [a]</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">return</span> a + 1;  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36820;&#22238;&#20540;&#20026; [a + 1]</span>
    <span style="color: #7388d6;">}</span>
    <span style="color: #228b22;">double</span> <span style="color: #0000ff;">&#21152;&#27861;</span> <span style="color: #7388d6;">(</span><span style="color: #228b22;">double</span> <span style="color: #a0522d;">a</span>, <span style="color: #228b22;">double</span> <span style="color: #a0522d;">b</span><span style="color: #7388d6;">)</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#20197;&#26377;&#22810;&#20010;&#20837;&#21442;</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">return</span> a + b;
    <span style="color: #7388d6;">}</span>
    <span style="color: #228b22;">double</span> <span style="color: #0000ff;">&#27809;&#26377;&#20837;&#21442;</span> <span style="color: #7388d6;">()</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#20197;&#27809;&#26377;&#20837;&#21442;</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">return</span> 111.111; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36820;&#22238; double &#31867;&#22411;&#30340;&#25968;&#25454;</span>
    <span style="color: #7388d6;">}</span>
    <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#27809;&#26377;&#36820;&#22238;&#25968;&#25454;</span> <span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span><span style="color: #7388d6;">)</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">&#27809;&#26377;&#36820;&#22238;&#25968;&#25454;&#20351;&#29992; void &#34920;&#31034;</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #228b22;">name</span><span style="color: #909183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26041;&#27861;&#20307;&#20869;&#65292;&#27809;&#26377;&#20219;&#20309; return &#35821;&#21477;&#65292;&#25152;&#20197;&#26041;&#27861;&#27809;&#26377;&#36820;&#22238;&#20219;&#20309;&#25968;&#25454;</span>
    <span style="color: #7388d6;">}</span>
    <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#27809;&#26377;&#36820;&#22238;&#20540;&#20063;&#27809;&#26377;&#20837;&#21442;</span> <span style="color: #7388d6;">()</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36825;&#20010;&#26041;&#27861;&#65292;&#23601;&#26159;&#27809;&#26377;&#36820;&#22238;&#20540;&#20063;&#27809;&#26377;&#20837;&#21442;</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"hello, world"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#26041;&#27861;&#30340;&#35843;&#29992;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20351;&#29992;&#26041;&#27861;&#30340;&#21517;&#23383;&#35843;&#29992;&#26041;&#27861;:</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">- &#20837;&#21442;&#30340;&#20010;&#25968;&#21644;&#39034;&#24207;&#35201;&#36319;&#19978;&#36848;&#23450;&#20041;&#30340;&#19968;&#33268;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">- &#36820;&#22238;&#20540;&#30340;&#31867;&#22411;&#35201;&#36319;&#19978;&#36848;&#23450;&#20041;&#30340;&#19968;&#33268;&#65292;&#22914;&#26524; void &#31867;&#22411;&#30340;&#20989;&#25968;&#26159;&#19981;&#33021;&#25509;&#21463;&#20854;&#36820;&#22238;&#20540;&#30340;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#19978;&#36848;&#26041;&#27861;&#23450;&#20041;&#20013;&#30340;&#21442;&#25968;&#65292;&#21448;&#21483;&#24418;&#24335;&#21442;&#25968; (&#24418;&#21442;)</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36825;&#37324;&#35843;&#29992;&#26102;&#20256;&#20837;&#30340;&#21442;&#25968;&#65292;&#21448;&#21483;&#23454;&#38469;&#21442;&#25968; (&#23454;&#21442;)</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20063;&#23601;&#26159;&#65292;&#23454;&#21442;&#35201;&#36319;&#24418;&#21442;&#30456;&#23545;&#24212;!</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">a</span> = &#22686;&#21152;<span style="color: #7388d6;">(</span>11<span style="color: #7388d6;">)</span>;
    <span style="color: #228b22;">double</span> <span style="color: #a0522d;">b</span> = &#21152;&#27861;<span style="color: #7388d6;">(</span>11, 33<span style="color: #7388d6;">)</span>;
    <span style="color: #228b22;">double</span> <span style="color: #a0522d;">c</span> = &#27809;&#26377;&#20837;&#21442;<span style="color: #7388d6;">()</span>;
    &#27809;&#26377;&#36820;&#22238;&#25968;&#25454;<span style="color: #7388d6;">(</span><span style="color: #8b2252;">"H&amp;M"</span><span style="color: #7388d6;">)</span>;
    &#27809;&#26377;&#36820;&#22238;&#20540;&#20063;&#27809;&#26377;&#20837;&#21442;<span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org09ee730" class="outline-4">
<h4 id="org09ee730"><span class="section-number-4">8.2.3.</span> 参数 (值参数/ref/out)</h4>
<div class="outline-text-4" id="text-8-2-3">
<p>
值参数 (默认的):
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 5;
    <span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #7388d6;">()</span>;

    <span style="color: #0000ff;">TestZhi</span><span style="color: #7388d6;">(</span>i, p<span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"out: i: {i}, age: ${p.Age}"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">TestZhi</span><span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">ii</span>, <span style="color: #228b22;">Person</span> <span style="color: #a0522d;">pp</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    ii = ii + 1;
    pp.Age = pp.Age + 18;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"in:  i: {ii}, age: ${pp.Age}"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">Person</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">Age</span> = 18;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
ref:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 5;
    <span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #7388d6;">()</span>;

    <span style="color: #0000ff;">TestZhi</span><span style="color: #7388d6;">(</span><span style="color: #a020f0;">ref</span> <span style="color: #228b22;">i</span>, p<span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"out: i: {i}, age: ${p.Age}"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">TestZhi</span><span style="color: #707183;">(</span><span style="color: #a020f0;">ref</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">ii</span>, <span style="color: #228b22;">Person</span> <span style="color: #a0522d;">pp</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    ii = ii + 1;
    pp.Age = pp.Age + 18;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"in:  i: {ii}, age: ${pp.Age}"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">Person</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">Age</span> = 18;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
out:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span>;
    <span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #7388d6;">()</span>;

    <span style="color: #0000ff;">TestZhi</span><span style="color: #7388d6;">(</span><span style="color: #a020f0;">out</span> <span style="color: #228b22;">i</span>, p<span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"out: i: {i}, age: ${p.Age}"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">TestZhi</span><span style="color: #707183;">(</span><span style="color: #a020f0;">out</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">ii</span>, <span style="color: #228b22;">Person</span> <span style="color: #a0522d;">pp</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    ii = 999;
    pp.Age = pp.Age + 18;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"in:  i: {ii}, age: ${pp.Age}"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">Person</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">Age</span> = 18;
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orged69853" class="outline-4">
<h4 id="orged69853"><span class="section-number-4">8.2.4.</span> out 参数: 用来模拟方法返回多个值的场景</h4>
<div class="outline-text-4" id="text-8-2-4">
<p>
如果不用 out，可以使用 Class 的方式返回多个值，这种方式比较重:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span>;
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">age</span>;
    <span style="color: #228b22;">double</span> <span style="color: #a0522d;">sal</span>;

    <span style="color: #228b22;">Person</span> <span style="color: #a0522d;">p</span> = <span style="color: #0000ff;">GetYourInformation</span><span style="color: #7388d6;">()</span>;
    name = p.Name;
    age = p.Age;
    sal = p.Sal;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">Person</span> <span style="color: #0000ff;">GetYourInformation</span><span style="color: #707183;">()</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a0522d;">Name</span> = <span style="color: #8b2252;">"Kitty"</span>,
        <span style="color: #a0522d;">Age</span> = 19,
        <span style="color: #a0522d;">Sal</span> = 2323323
    <span style="color: #7388d6;">}</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">Person</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">string</span> <span style="color: #a0522d;">Name</span>;
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">Age</span>;
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">Sal</span>;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
而 out 的方法比较轻量级:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span>;
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">age</span>;
    <span style="color: #228b22;">double</span> <span style="color: #a0522d;">sal</span>;

    name = <span style="color: #0000ff;">GetYourInformation</span><span style="color: #7388d6;">(</span><span style="color: #a020f0;">out</span> <span style="color: #228b22;">age</span>, <span style="color: #a020f0;">out</span> <span style="color: #228b22;">sal</span><span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"{name} &#30340;&#24180;&#40836;&#20026; {age} &#25910;&#20837;&#20026; {sal}&#65292;&#24744;&#21487;&#28385;&#24847;?"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">GetYourInformation</span><span style="color: #707183;">(</span><span style="color: #a020f0;">out</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">age</span>, <span style="color: #a020f0;">out</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">sal</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    age = 19;
    sal = 23232;
    <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"Kitty"</span>;
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
甚至可以更简化:
</p>
<div class="org-src-container">
<pre class="src src-cs"><span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span> = <span style="color: #0000ff;">GetYourInformation</span><span style="color: #7388d6;">(</span><span style="color: #a020f0;">out</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">age</span>, <span style="color: #a020f0;">out</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">sal</span><span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>$<span style="color: #8b2252;">"{name} &#30340;&#24180;&#40836;&#20026; {age} &#25910;&#20837;&#20026; {sal}&#65292;&#24744;&#21487;&#28385;&#24847;?"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">GetYourInformation</span><span style="color: #707183;">(</span><span style="color: #a020f0;">out</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">age</span>, <span style="color: #a020f0;">out</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">sal</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    age = 19;
    sal = 23232;
    <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"Kitty"</span>;
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8fb54bd" class="outline-3">
<h3 id="org8fb54bd"><span class="section-number-3">8.3.</span> 属性 (Property)</h3>
<div class="outline-text-3" id="text-8-3">
<p>
属性本身就是 [private Field + public Method] 一种语法糖:
</p>
<ul class="org-ul">
<li>它能减少太多冗余的模板代码；它能简化对实例中数据的可控性的访问，让代码更简洁</li>
<li>但是不要忘了，它跟 getter/setter 方法的本质是一样的。最后编译器还是将我们写的属性代码转换成了 getter/setter 方法的形式</li>
<li>也就是说 <code>r.Width = 333</code> 这样的属性赋值，本质就是方法调用</li>
</ul>

<p>
示例:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">Rect</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">Width</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">get</span>; <span style="color: #a020f0;">set</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">Height</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">get</span>; <span style="color: #a020f0;">set</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">Area</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">get</span>
        <span style="color: #909183;">{</span>
            <span style="color: #a020f0;">return</span> Width * Height;
        <span style="color: #909183;">}</span>
    <span style="color: #7388d6;">}</span>

    <span style="color: #b22222;">// </span><span style="color: #b22222;">private double Height;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">public double GetHeight ()</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">{</span>
    <span style="color: #b22222;">//     </span><span style="color: #b22222;">return Height;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">}</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">public void SetHeight (double h);</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">{</span>
    <span style="color: #b22222;">//     </span><span style="color: #b22222;">Height = h;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">Program</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #228b22;">Rect</span> <span style="color: #a0522d;">r</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Rect</span><span style="color: #909183;">()</span>;
        r.Width = 2000;
        r.Height = 333;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#38754;&#31215;&#26159;: {0}"</span>, r.<span style="color: #228b22;">Area</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9981571" class="outline-3">
<h3 id="org9981571"><span class="section-number-3">8.4.</span> 构造方法/构造器 (Constructor)</h3>
<div class="outline-text-3" id="text-8-4">
</div>
<div id="outline-container-org3ec5c60" class="outline-4">
<h4 id="org3ec5c60"><span class="section-number-4">8.4.1.</span> 对象的实例化</h4>
<div class="outline-text-4" id="text-8-4-1">
<p>
对象的实例化，分为下面几个步骤:
</p>
<ol class="org-ol">
<li>在内存中，分配相应的空间</li>
<li>按照类型进行相关字段的初始化工作</li>
<li>调用相应的 <b>构造方法</b>，进行相关初始化工作</li>
</ol>
</div>
</div>

<div id="outline-container-orgcd7a5ea" class="outline-4">
<h4 id="orgcd7a5ea"><span class="section-number-4">8.4.2.</span> 构造器</h4>
<div class="outline-text-4" id="text-8-4-2">
<p>
所谓的构造方法，就是类中定义的一个特殊方法。它用来对实例空间进行若干初始化工作:
</p>
<ul class="org-ul">
<li>构造方法可以写多个，即可以重载 (overload)</li>
<li>我们也可以不写任何构造方法，那么编译器在编译的时候，会自动帮我们插入一个 <b>无参的空的</b>。
但是，如果你在类中，定义了任何的构造方法，那么编译器就不会帮你再生成了</li>
</ul>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">X</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">X</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">X</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">a</span>, <span style="color: #228b22;">int</span> <span style="color: #a0522d;">b</span><span style="color: #7388d6;">)</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">2</span>
    <span style="color: #7388d6;">{</span>
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">Program</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">new</span> <span style="color: #228b22;">X</span><span style="color: #909183;">()</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22914;&#26524;&#27809;&#26377;&#21442;&#25968;&#65292;&#37027;&#20040;&#20250;&#35843;&#29992;&#26080;&#21442;&#26500;&#36896;&#22120; 1</span>
        <span style="color: #a020f0;">new</span> <span style="color: #228b22;">X</span><span style="color: #909183;">(</span>1, 2<span style="color: #909183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#22238;&#21435;&#35843;&#29992;&#30456;&#24212;&#30340;&#20855;&#22791;&#20004;&#20010;&#21442;&#25968;&#65292;&#24182;&#19988;&#31867;&#22411;&#27491;&#30830;&#30340;&#26500;&#36896;&#22120; 2</span>
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org841d721" class="outline-4">
<h4 id="org841d721"><span class="section-number-4">8.4.3.</span> 构造器链</h4>
<div class="outline-text-4" id="text-8-4-3">
<ul class="org-ul">
<li>如果不显式继承某个类，那么继承的将是 object。即可以忽略掉 <code>: Object</code></li>
<li>如果不显式添加构造器，那么编译器会自动插入一个无参的。即可以省略掉 <code>public Son() {}</code></li>
<li>如果不显式指定构造器顺序，那么任意构造器都会首先执行父类的无参构造器。即可以省略掉 <code>: base()</code></li>
<li>显式指定构造器顺序，需要手动添加 <code>: base(xxx)</code> 或者 <code>: this(xxx)</code></li>
<li>基本的规则是: 从下往上寻找，然后从上往下执行。这样就构成了 <b>构造器链</b></li>
</ul>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">GP</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">GP</span><span style="color: #7388d6;">()</span> : <span style="color: #a020f0;">base</span><span style="color: #7388d6;">()</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">4</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#25105;&#26159;&#20320;&#29239;&#29239;"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">GP</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">address</span><span style="color: #7388d6;">)</span> : <span style="color: #a020f0;">base</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#29239;&#29239;&#25105;&#30340;&#22320;&#22336;&#26159; {0}"</span>, <span style="color: #228b22;">address</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">GP</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span>, <span style="color: #228b22;">string</span> <span style="color: #a0522d;">address</span><span style="color: #7388d6;">)</span> : <span style="color: #a020f0;">base</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#29239;&#29239; {0} &#30340;&#22320;&#22336;&#26159; {0}"</span>, <span style="color: #228b22;">name</span>, <span style="color: #228b22;">address</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">PP</span> : <span style="color: #228b22;">GP</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">PP</span><span style="color: #7388d6;">()</span> : <span style="color: #a020f0;">base</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#25105;&#26159;&#29240;&#29240;"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">PP</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">address</span><span style="color: #7388d6;">)</span> : <span style="color: #a020f0;">base</span><span style="color: #7388d6;">()</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">3</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#29240;&#29240;&#25105;&#30340;&#22320;&#22336;&#26159; {0}"</span>, address<span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">PP</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span>, <span style="color: #228b22;">string</span> <span style="color: #a0522d;">address</span><span style="color: #7388d6;">)</span> : <span style="color: #a020f0;">base</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#29240;&#29240; {0} &#30340;&#22320;&#22336;&#26159; {0}"</span>, name, address<span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">You</span> : <span style="color: #228b22;">PP</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">You</span><span style="color: #7388d6;">()</span> : <span style="color: #a020f0;">base</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#25105;&#30340;&#20799;&#23376;"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">You</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span><span style="color: #7388d6;">)</span> : <span style="color: #a020f0;">this</span><span style="color: #7388d6;">(</span>name, <span style="color: #8b2252;">"&#24191;&#35199;"</span><span style="color: #7388d6;">)</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">1</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span>name<span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">You</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span>, <span style="color: #228b22;">string</span> <span style="color: #a0522d;">addr</span><span style="color: #7388d6;">)</span> : <span style="color: #a020f0;">base</span><span style="color: #7388d6;">(</span>addr<span style="color: #7388d6;">)</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">2</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"{0} &#30340; {1}"</span>, addr, name<span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">Son</span> : <span style="color: #228b22;">You</span>
<span style="color: #707183;">{</span>
<span style="color: #707183;">}</span>

<span style="color: #228b22;">You</span> <span style="color: #a0522d;">u</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">You</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#24352;&#19977;"</span><span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org25cebcf" class="outline-4">
<h4 id="org25cebcf"><span class="section-number-4">8.4.4.</span> 静态构造器</h4>
<div class="outline-text-4" id="text-8-4-4">
<ul class="org-ul">
<li>构造器是用来初始化 <b>对象</b> 的</li>
<li>静态构造器是用来初始化 <b>类</b> 的</li>
<li>对象的初始化工作，是在代码中通过 new Class 的方式触发的</li>
<li>类的初始化工作，是由 CLR 自动执行的，一般来说，你第一次使用到某个类的时候，这个类就会 <b>被</b> 自动加载</li>
<li>静态的构造器，只能有一个，而且不能带任何参数</li>
</ul>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">TipCalculator</span> : <span style="color: #228b22;">CalculatorBase</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">static</span> <span style="color: #0000ff;">TipCalculator</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#25105;&#26159;&#19968;&#20010;&#24102; static &#30340;&#26500;&#36896;&#22120;"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org62bbebf" class="outline-3">
<h3 id="org62bbebf"><span class="section-number-3">8.5.</span> 析构方法/析构器 (Deconstructor)</h3>
<div class="outline-text-3" id="text-8-5">
<div class="org-src-container">
<pre class="src src-csharp">~<span style="color: #0000ff;">TipCalculator</span><span style="color: #707183;">()</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"&#25105;&#27515;&#30340;&#22909;&#24808;&#21834;"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

~&#25991;&#20214;<span style="color: #707183;">()</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">this</span>.<span style="color: #0000ff;">Close</span><span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfa159ce" class="outline-3">
<h3 id="orgfa159ce"><span class="section-number-3">8.6.</span> 静态方法 (Static)</h3>
<div class="outline-text-3" id="text-8-6">
<p>
将归属权，交给类。调用的时候，使用 <code>类名.xxx</code> 方式。
</p>
</div>
</div>

<div id="outline-container-org364c727" class="outline-3">
<h3 id="org364c727"><span class="section-number-3">8.7.</span> 将数据设置为不变的 (const/readonly)</h3>
<div class="outline-text-3" id="text-8-7">
<pre class="example">
通过 private 等操作符可以保护数据的外部访问安全
通过 const/readonly 可以防止内鬼
</pre>


<p>
const:
</p>
<ul class="org-ul">
<li>即常量</li>
<li>基于编译期的替换，运行期是没有任何这个变量的信息的</li>
<li>相对来说，它不需要占用存储，而且不需要运行时检查，所以效率高</li>
<li>它的使用限制较多，比如，只能将一些简单的值赋予它</li>
<li>不能添加 static 修饰，但可以使用 <code>类名.PI</code> 来访问</li>
</ul>

<p>
readonly:
</p>
<ul class="org-ul">
<li>限定变量只能读，不能修改</li>
<li>可以修饰任何的字段，不管是不是静态的</li>
<li>相对来说，需要占用空间、需要运行时检查，效率会低一些</li>
<li><b>注意</b>，使用 readonly 修饰数组等变量，虽然可以防止数组被重新赋值，但不能避免里面的元素被修改</li>
</ul>

<p>
有内鬼，停止交易:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">Congming</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">private</span> <span style="color: #a020f0;">const</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">PI</span> = 3.1415926;
    <span style="color: #a020f0;">private</span> <span style="color: #a020f0;">readonly</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">pppi</span> = 3.14;

    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">double</span> <span style="color: #0000ff;">QiuMianJi</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">double</span> <span style="color: #a0522d;">r</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        pppi = 333;  <span style="color: #b22222;">// </span><span style="color: #b22222;">x</span>
        PI = 333;    <span style="color: #b22222;">// </span><span style="color: #b22222;">x</span>
        <span style="color: #a020f0;">return</span> pppi * r * r;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6d7baba" class="outline-3">
<h3 id="org6d7baba"><span class="section-number-3">8.8.</span> 继承 (Inheritance)</h3>
<div class="outline-text-3" id="text-8-8">
<ul class="org-ul">
<li>继承表示，我的是我的，你的也是我的。使用 <code>:</code> 语法表示继承关系</li>
<li>继承主要用来消除冗余，让逻辑得以 <b>复用</b>。逻辑上来说，跟自然界的分门别类是对应一致的</li>
<li>new 对象的时候，会 <b>开辟空间、初始化字段、调用构造器</b>。如果存在继承关系的话，创建的实例是分为多部分的</li>
<li>调用实例上的某个方法 A，如果 A 调用了另一个方法 B，这时候，优先会使用 A 自身部分上面定义的 B。
如果想让 A 调用的 B 是派生类 <b>最下面</b> 的 B 的话，使用 <code>virutal/override</code> 将 B 设置为 <b>虚函数</b> 即可。
子类中存在的相同方法，如果不是 override 的，那么将会是 new 的。new 可以不写</li>
<li>在 C# 中，只允许有一个父类，即 <b>单继承</b></li>
<li>所有类的根基类是 <b>object</b>。object 中定义了 ToString/GetType/Equal 等方法。因此，所有的对象都拥有这几个方法</li>
<li>在方法中，使用 <b>this</b> 表示当前的对象，使用 <b>base</b> 表示父类部分。base.Xxx 表示调用父类部分的 Xxx</li>
<li>使用 private 修饰的数据不能被继承使用，这时候应该使用 <b>protected</b></li>
</ul>

<p>
基本语法:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">A</span> : <span style="color: #228b22;">object</span> <span style="color: #707183;">{</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Say</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span>Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"hello"</span><span style="color: #909183;">)</span>;<span style="color: #7388d6;">}</span> <span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">B</span> : <span style="color: #228b22;">A</span> <span style="color: #707183;">{}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">C</span> : <span style="color: #228b22;">B</span> <span style="color: #707183;">{</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Say</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span>Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"world"</span><span style="color: #909183;">)</span>;<span style="color: #7388d6;">}</span> <span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">D</span> : <span style="color: #228b22;">C</span> <span style="color: #707183;">{}</span>
<span style="color: #228b22;">D</span> <span style="color: #a0522d;">d</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">D</span><span style="color: #707183;">()</span>;
d.<span style="color: #0000ff;">Say</span><span style="color: #707183;">()</span>;
</pre>
</div>
</div>

<div id="outline-container-org97dd11c" class="outline-4">
<h4 id="org97dd11c"><span class="section-number-4">8.8.1.</span> 虚方法 (virtual/override)</h4>
<div class="outline-text-4" id="text-8-8-1">
<p>
虚函数:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">A</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">Name</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"hello"</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Say</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #a020f0;">this</span>.<span style="color: #0000ff;">Name</span><span style="color: #709870;">()</span><span style="color: #909183;">)</span>; <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">B</span> : <span style="color: #228b22;">A</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">virtual</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">Name</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"world"</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">new</span> <span style="color: #228b22;">void</span> <span style="color: #228b22;">Say</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"heihei"</span> + <span style="color: #0000ff;">Name</span><span style="color: #709870;">()</span><span style="color: #909183;">)</span>; <span style="color: #a020f0;">base</span>.<span style="color: #0000ff;">Say</span><span style="color: #909183;">()</span>; <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">C</span> : <span style="color: #228b22;">B</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">Name</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"who"</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">virtual</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Say</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"hahaha"</span> + <span style="color: #0000ff;">Name</span><span style="color: #709870;">()</span><span style="color: #909183;">)</span>; <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">D</span> : <span style="color: #228b22;">C</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">Name</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"ryou"</span>; <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
<span style="color: #228b22;">var</span> <span style="color: #a0522d;">d</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">D</span><span style="color: #707183;">()</span>;
d.<span style="color: #0000ff;">Say</span><span style="color: #707183;">()</span>;
</pre>
</div>

<p>
虚不虚?
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">A</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">Name</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"hello"</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">virtual</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Say</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #a020f0;">this</span>.<span style="color: #0000ff;">Name</span><span style="color: #709870;">()</span><span style="color: #909183;">)</span>; <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">B</span> : <span style="color: #228b22;">A</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">new</span> <span style="color: #a020f0;">virtual</span> <span style="color: #228b22;">string</span> <span style="color: #228b22;">Name</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"world"</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Say</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"heihei"</span> + <span style="color: #0000ff;">Name</span><span style="color: #709870;">()</span><span style="color: #909183;">)</span>; <span style="color: #a020f0;">base</span>.<span style="color: #0000ff;">Say</span><span style="color: #909183;">()</span>; <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">C</span> : <span style="color: #228b22;">B</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">Name</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"who"</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Say</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"hahaha"</span> + <span style="color: #0000ff;">Name</span><span style="color: #709870;">()</span><span style="color: #909183;">)</span>; <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">D</span> : <span style="color: #228b22;">C</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">Name</span><span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">return</span> <span style="color: #8b2252;">"ryou"</span>; <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #228b22;">A</span> <span style="color: #a0522d;">a</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">D</span><span style="color: #707183;">()</span>;
a.<span style="color: #0000ff;">Say</span><span style="color: #707183;">()</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">GrandPP</span>
<span style="color: #707183;">{</span>

<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">PP</span> : <span style="color: #228b22;">GrandPP</span>
<span style="color: #707183;">{</span>

<span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">You</span> : <span style="color: #228b22;">PP</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">You</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"."</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">You</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span>name<span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">You</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span>, <span style="color: #228b22;">string</span> <span style="color: #a0522d;">addr</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span>name + <span style="color: #8b2252;">":"</span> + addr<span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

<span style="color: #707183;">}</span>
<span style="color: #a020f0;">new</span> <span style="color: #228b22;">You</span><span style="color: #707183;">()</span>;
<span style="color: #a020f0;">new</span> <span style="color: #228b22;">You</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#24352;&#19977;"</span><span style="color: #707183;">)</span>;
<span style="color: #a020f0;">new</span> <span style="color: #228b22;">You</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"&#24352;&#19977;"</span>, <span style="color: #8b2252;">"&#28246;&#21335;"</span><span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org12bc391" class="outline-4">
<h4 id="org12bc391"><span class="section-number-4">8.8.2.</span> 抽象方法 (abstract)</h4>
<div class="outline-text-4" id="text-8-8-2">
<ul class="org-ul">
<li>继承下来的，不一定是权利，也有可能是义务。俗语有云 <b>父债子偿</b></li>
<li>通过在父类中，将某个方法用 <code>abstract</code> 修饰，表示它是债务&#x2026;</li>
<li>抽象方法可以 (1) 约束子类的行为 (2) 将父类中无法实现的功能，交给子类去实现</li>
<li>抽象类是不能被实例化的</li>
</ul>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">abstract</span> <span style="color: #a020f0;">class</span> <span style="color: #228b22;">Baba</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">Money</span> = 0.1;

    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">virtual</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Sanjuhua</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#28418;&#20142;&#30340;&#22899;&#23401;&#23376;&#37117;&#27604;&#36739;&#21361;&#38505;"</span><span style="color: #909183;">)</span>;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#25105;&#26377;&#24456;&#22810;&#38065;&#65292;&#34255;&#22312;&#26576;&#20010;&#22320;&#26041;"</span><span style="color: #909183;">)</span>;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#20294;&#25105;&#19981;&#21578;&#35785;&#20320;&#22312;&#21738;&#37324;"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">abstract</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#33457;&#20809;&#36825;&#20123;&#38065;</span><span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">You</span> : <span style="color: #228b22;">Baba</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Sanjuhua</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#28418;&#20142;&#30340;&#22899;&#23401;&#23376;&#26159;&#20540;&#24471;&#25105;&#20204;&#33457;&#19968;&#29983;&#21435;&#36861;&#27714;&#30340;"</span><span style="color: #909183;">)</span>;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#25105;&#26377;&#24456;&#22810;&#38065;&#65292;&#23601;&#25918;&#22312;&#20013;&#22269;&#38134;&#34892;&#30340;&#38065;&#24211;&#37324;"</span><span style="color: #909183;">)</span>;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#20294;&#19981;&#35201;&#25226;&#38065;&#25918;&#30524;&#37324;&#65292;&#20316;&#20026;&#30495;&#30007;&#20154;&#65292;&#35201;&#25954;&#20110; 996&#65292;&#22857;&#29486;&#20154;&#29983;&#20215;&#20540;"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#33457;&#20809;&#36825;&#20123;&#38065;</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#31532;&#19968;&#22825;&#65292;&#33457;&#20102; 3 &#20159;"</span><span style="color: #909183;">)</span>;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#31532;&#20108;&#22825;&#65292;&#33457;&#20102; 33 &#20159;"</span><span style="color: #909183;">)</span>;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#31532;&#19977;&#22825;&#65292;&#33457;&#20102; 333 &#20159;"</span><span style="color: #909183;">)</span>;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#31532;&#22235;&#22825;&#65292;&#26790;&#37266;&#20102;"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5a5a1dd" class="outline-3">
<h3 id="org5a5a1dd"><span class="section-number-3">8.9.</span> 多态 (Polymorphism)</h3>
<div class="outline-text-3" id="text-8-9">
<p>
多态是一个来自生物学上的概念，<a href="https://baike.baidu.com/item/%E5%A4%9A%E6%80%81%E7%8E%B0%E8%B1%A1">参见百度百科</a>:
</p>
<ul class="org-ul">
<li>在语言中，多态指调用同一个类型的相同方法/属性，会产生不同结果的现象。
产生不同结果的原因是方法实质调用了不同派生类中的不同实现。</li>
<li>虚方法是实现多态性的主要手段，接口和抽象类是多态的充分体现</li>
</ul>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#25209;&#37327;&#22788;&#29702; (&#20851;&#24515;&#30340;&#26159;&#20849;&#24615;)</span>

<span style="color: #228b22;">Animal</span><span style="color: #707183;">[]</span> <span style="color: #a0522d;">animals</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Animal</span><span style="color: #707183;">[</span>3<span style="color: #707183;">]</span>;
animals<span style="color: #707183;">[</span>0<span style="color: #707183;">]</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Animal</span><span style="color: #707183;">()</span>;
animals<span style="color: #707183;">[</span>1<span style="color: #707183;">]</span> = <span style="color: #a020f0;">new</span> &#32654;&#22899;<span style="color: #707183;">()</span>;
animals<span style="color: #707183;">[</span>2<span style="color: #707183;">]</span> = <span style="color: #a020f0;">new</span> &#37326;&#20861;<span style="color: #707183;">()</span>;

<span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; animals.Length; i++<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">Animal</span> <span style="color: #a0522d;">a</span> = animals<span style="color: #7388d6;">[</span>i<span style="color: #7388d6;">]</span>;
    a.<span style="color: #0000ff;">Eat</span><span style="color: #7388d6;">()</span>;
    a.<span style="color: #0000ff;">Sleep</span><span style="color: #7388d6;">()</span>;
    a.<span style="color: #0000ff;">WakeUp</span><span style="color: #7388d6;">()</span>;
    a.<span style="color: #0000ff;">Drink</span><span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#36866;&#37197;&#30340;&#21442;&#25968;&#31867;&#22411;</span>
<span style="color: #a020f0;">interface</span> <span style="color: #228b22;">&#33021;&#24178;&#27963;&#30340;&#19996;&#35199;</span> <span style="color: #707183;">{</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#24178;&#27963;</span><span style="color: #7388d6;">()</span>; <span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">&#20154;</span> : <span style="color: #228b22;">&#33021;&#24178;&#27963;&#30340;&#19996;&#35199;</span> <span style="color: #707183;">{</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#24178;&#27963;</span> <span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> ... <span style="color: #7388d6;">}</span>; <span style="color: #707183;">}</span>
<span style="color: #a020f0;">class</span> <span style="color: #228b22;">&#29482;</span> : <span style="color: #228b22;">&#33021;&#24178;&#27963;&#30340;&#19996;&#35199;</span> <span style="color: #707183;">{</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#24178;&#27963;</span> <span style="color: #7388d6;">()</span> <span style="color: #7388d6;">{</span> ... <span style="color: #7388d6;">}</span>; <span style="color: #707183;">}</span>

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#25307;&#32856;</span> <span style="color: #707183;">(</span><span style="color: #228b22;">&#33021;&#24178;&#27963;&#30340;&#19996;&#35199;</span> <span style="color: #a0522d;">x</span><span style="color: #707183;">)</span> <span style="color: #707183;">{</span>
    x.&#24178;&#27963;<span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>
&#25307;&#32856;<span style="color: #707183;">(</span>&#20154;<span style="color: #707183;">)</span>;
&#25307;&#32856;<span style="color: #707183;">(</span>&#29482;<span style="color: #707183;">)</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#36866;&#37197;&#30340;&#36820;&#22238;&#20540; (&#32422;&#23450;&#36319;&#23454;&#29616;&#30340;&#21644;&#35856;)</span>

<span style="color: #228b22;">Dog</span> <span style="color: #0000ff;">GiveADog</span><span style="color: #707183;">()</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">return</span> <span style="color: #a020f0;">new</span> &#20108;&#21704;<span style="color: #7388d6;">()</span>;
<span style="color: #707183;">}</span>
<span style="color: #228b22;">Animal</span> <span style="color: #a0522d;">aaa</span> = <span style="color: #0000ff;">GiveADog</span><span style="color: #707183;">()</span>;

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#25509;&#21475;&#19982;&#22810;&#24577;</span>

<span style="color: #228b22;">IHelpable</span> <span style="color: #a0522d;">xxx</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">TipCalculator</span><span style="color: #707183;">(</span>222<span style="color: #707183;">)</span>;
xxx.<span style="color: #0000ff;">Help</span><span style="color: #707183;">()</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org89daf1e" class="outline-3">
<h3 id="org89daf1e"><span class="section-number-3">8.10.</span> 静态类/static</h3>
<div class="outline-text-3" id="text-8-10">
<p>
限制里面所有的方法，必须是静态的。典型的代表是 Math 类。
</p>
</div>
</div>

<div id="outline-container-org668ec2f" class="outline-3">
<h3 id="org668ec2f"><span class="section-number-3">8.11.</span> 密封类/sealed</h3>
<div class="outline-text-3" id="text-8-11">
<p>
这就从语法上，避免了某个类被继承的可能。
</p>
</div>
</div>

<div id="outline-container-org0aa2e60" class="outline-3">
<h3 id="org0aa2e60"><span class="section-number-3">8.12.</span> 分部类/partial</h3>
<div class="outline-text-3" id="text-8-12">
<p>
让类可以写成多部分。在编译的环节，编译器将会帮助我们自动合并之后再编译。
</p>

<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">partial</span> <span style="color: #a020f0;">class</span> <span style="color: #228b22;">MyLove</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#20320;&#24819;&#25105;&#21527;</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">partial</span> <span style="color: #a020f0;">class</span> <span style="color: #228b22;">MyLove</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#25105;&#24819;&#20320;</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd68a159" class="outline-3">
<h3 id="orgd68a159"><span class="section-number-3">8.13.</span> 基类 Object</h3>
<div class="outline-text-3" id="text-8-13">
</div>
<div id="outline-container-org6899a12" class="outline-4">
<h4 id="org6899a12"><span class="section-number-4">8.13.1.</span> ToString</h4>
<div class="outline-text-4" id="text-8-13-1">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">TipCalculator</span> : <span style="color: #228b22;">CalculatorBase</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #a020f0;">override</span> <span style="color: #228b22;">string</span> <span style="color: #0000ff;">ToString</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">return</span> $<span style="color: #8b2252;">"&#25105;&#26159;&#19968;&#20010;&#36134;&#21333;&#31867;&#65292;&#20256;&#20837;&#30340;&#21442;&#25968;&#26159; {Bill}"</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span><span style="color: #8b2252;">"{0}"</span>, <span style="color: #a020f0;">new</span> <span style="color: #228b22;">TipCalculator</span><span style="color: #7388d6;">(</span>200<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>
</div>
</section>

<section id="outline-container-orgfda2215" class="outline-2">
<h2 id="orgfda2215"><span class="section-number-2">9.</span> 接口 (Interface)</h2>
<div class="outline-text-2" id="text-9">
<ul class="org-ul">
<li>接口本质就是一个可以进行 <b>多继承</b> 的纯的抽象类。它是单继承的一种例外</li>
<li>使用 interface 关键词声明接口，接口里面只能包含方法。按照习惯，一般使用 IXxx 的方式命名接口</li>
<li>不需要使用 public 修饰符，因为接口里所有方法默认都是公开的。方法不需要有方法体</li>
<li>接口实际上就是一种 <b>合同</b>，它起到的作用是制定统一的 <b>规则</b></li>
<li>接口有很多好处: blahblahblah&#x2026; 面向接口编程是一种好的编程实践</li>
</ul>
</div>

<div id="outline-container-org1599161" class="outline-3">
<h3 id="org1599161"><span class="section-number-3">9.1.</span> IComparable 接口使用示例</h3>
<div class="outline-text-3" id="text-9-1">
<p>
IComparable 用来为两个对象进行比较提供比较的规则:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">Person</span> : <span style="color: #228b22;">IComparable</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">string</span> <span style="color: #a0522d;">Name</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">get</span>; <span style="color: #a020f0;">set</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">double</span> <span style="color: #a0522d;">Salary</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">get</span>; <span style="color: #a020f0;">set</span>; <span style="color: #7388d6;">}</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">int</span> <span style="color: #a0522d;">Age</span> <span style="color: #7388d6;">{</span> <span style="color: #a020f0;">get</span>; <span style="color: #a020f0;">set</span>; <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">public</span> <span style="color: #0000ff;">Person</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span>, <span style="color: #228b22;">double</span> <span style="color: #a0522d;">sal</span>, <span style="color: #228b22;">int</span> <span style="color: #a0522d;">age</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        Name = name;
        Salary = sal;
        Age = age;
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">int</span> <span style="color: #0000ff;">CompareTo</span><span style="color: #7388d6;">(</span><span style="color: #228b22;">object</span>? <span style="color: #a0522d;">obj</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #228b22;">var</span> <span style="color: #a0522d;">wo</span> = <span style="color: #a020f0;">this</span>;
        <span style="color: #228b22;">var</span> <span style="color: #a0522d;">ni</span> = <span style="color: #909183;">(</span><span style="color: #228b22;">Person</span><span style="color: #909183;">)</span> obj;

        <span style="color: #b22222;">// </span><span style="color: #b22222;">if (wo.Salary &gt; ni.Salary) return -1;</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">if (wo.Salary &lt; ni.Salary) return 1;</span>
        <span style="color: #b22222;">// </span><span style="color: #b22222;">return 0;</span>
        <span style="color: #a020f0;">return</span> wo.Salary - ni.Salary;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #707183;">(</span><span style="color: #228b22;">string</span><span style="color: #7388d6;">[]</span> <span style="color: #a0522d;">args</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">var</span> <span style="color: #a0522d;">p1</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"a-&#23567;&#26126;"</span>, 20000, 50<span style="color: #7388d6;">)</span>;
    <span style="color: #228b22;">var</span> <span style="color: #a0522d;">p2</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"c-&#23567;&#24352;"</span>, 7000, 25<span style="color: #7388d6;">)</span>;
    <span style="color: #228b22;">var</span> <span style="color: #a0522d;">p3</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"b-&#23567;&#29579;"</span>, 15000, 35<span style="color: #7388d6;">)</span>;
    <span style="color: #228b22;">var</span> <span style="color: #a0522d;">p4</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"d-&#23567;&#32418;"</span>, 7500, 19<span style="color: #7388d6;">)</span>;
    <span style="color: #228b22;">var</span> <span style="color: #a0522d;">p5</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"e-&#23567;&#24378;"</span>, 5000, 22<span style="color: #7388d6;">)</span>;

    <span style="color: #228b22;">var</span> <span style="color: #a0522d;">persons</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Person</span><span style="color: #7388d6;">[]</span> <span style="color: #7388d6;">{</span>p1, p2, p3, p4, p5<span style="color: #7388d6;">}</span>;

    Array.<span style="color: #0000ff;">Sort</span><span style="color: #7388d6;">(</span>persons<span style="color: #7388d6;">)</span>;

    <span style="color: #a020f0;">foreach</span> <span style="color: #7388d6;">(</span><span style="color: #228b22;">var</span> <span style="color: #a0522d;">p</span> <span style="color: #a020f0;">in</span> persons<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span>$<span style="color: #8b2252;">"{p.Name}: {p.Age} &#23681;, &#25910;&#20837;&#20026; {p.Salary}"</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org38d4328" class="outline-2">
<h2 id="org38d4328"><span class="section-number-2">10.</span> BCL (Base-Class Library) 基础类库</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-orge42088e" class="outline-3">
<h3 id="orge42088e"><span class="section-number-3">10.1.</span> Console/控制台</h3>
<div class="outline-text-3" id="text-10-1">
<p>
相关方法和属性:
</p>
<ul class="org-ul">
<li>Console.Write/WriteLine，用来向控制台输出内容</li>
<li>Console.Clear，用来清空屏幕内容</li>
<li>Console.ForegroundColor/BackgroudColor/ResetColor，用来设置控制台颜色</li>
<li>Console.ReadLine，用来从控制台读取用户输入的字符串</li>
<li>Console.ReadKey，用来读取按键，返回一个 ConsoleKeyInfo 对象</li>
<li>Console.Beep，用来让控制台发出声音</li>
</ul>

<p>
相关类和结构:
</p>
<ul class="org-ul">
<li>Console</li>
<li>ConsoleColor</li>
<li>ConsoleKey/ConsoleKeyInfo</li>
</ul>

<p>
示例:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span class="linenr"> 1: </span>Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">()</span>;
<span class="linenr"> 2: </span><span style="color: #a020f0;">while</span> <span style="color: #707183;">(</span><span style="color: #008b8b;">true</span><span style="color: #707183;">)</span> <span style="color: #b22222;">// </span><span style="color: #b22222;">&#36890;&#36807; while &#24490;&#29615;&#21487;&#20197;&#23454;&#29616;&#19981;&#26029;&#36755;&#20837;&#19981;&#26029;&#30475;&#21040;&#36755;&#20837;&#32467;&#26524;&#30340;&#36807;&#31243;</span>
<span class="linenr"> 3: </span><span style="color: #707183;">{</span>
<span class="linenr"> 4: </span>    <span style="color: #b22222;">// </span><span style="color: #b22222;">ReadKey &#26159;&#24494;&#36719;&#23553;&#35013;&#22312; Console &#37324;&#30340;&#19968;&#20010;&#26041;&#27861;&#65292;&#29992;&#26469;&#35835;&#21462;&#25511;&#21046;&#21488;&#19978;&#30340;&#25353;&#38190;</span>
<span class="linenr"> 5: </span>    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25105;&#20204;&#19981;&#38656;&#35201;&#20851;&#24515;&#23427;&#24590;&#20040;&#23454;&#29616;&#30340;&#65292;&#25105;&#20204;&#21482;&#38656;&#35201;&#20851;&#24515;&#23427;&#22914;&#20309;&#20351;&#29992;</span>
<span class="linenr"> 6: </span>    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#24494;&#36719;&#22312;&#23454;&#29616;&#37324;&#65292;&#23558;&#25105;&#20204;&#25353;&#19979;&#30340;&#38190;&#30340;&#20449;&#24687;&#65292;&#23553;&#35013;&#21040;&#20102;&#19968;&#20010;&#21483; ConsoleKeyInfo &#30340;&#25968;&#25454;&#21253;&#37324; (&#23454;&#20363;&#23545;&#35937;)</span>
<span class="linenr"> 7: </span>    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#35843;&#29992; ReadKey &#20043;&#21518;&#65292;&#23601;&#21487;&#20197;&#36890;&#36807;&#36825;&#20010;&#23454;&#20363;&#23545;&#35937; key &#25152;&#25552;&#20379;&#30340;&#21487;&#35775;&#38382;&#25509;&#21475;&#21028;&#26029;&#25353;&#38190;&#20449;&#24687;&#20102;</span>
<span class="linenr"> 8: </span>    <span style="color: #228b22;">ConsoleKeyInfo</span> <span style="color: #a0522d;">key</span> = Console.<span style="color: #0000ff;">ReadKey</span><span style="color: #7388d6;">(</span><span style="color: #008b8b;">true</span><span style="color: #7388d6;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">true &#30340;&#24847;&#24605;&#26159;&#65292;&#19981;&#22312;&#23631;&#24149;&#19978;&#26174;&#31034;&#38190;&#20837;&#30340;&#23383;&#31526;</span>
<span class="linenr"> 9: </span>    <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>key.Key == ConsoleKey.D1<span style="color: #7388d6;">)</span>
<span class="linenr">10: </span>    <span style="color: #7388d6;">{</span>
<span class="linenr">11: </span>        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#24744;&#36755;&#20837;&#20102;&#19968;&#20010; 1"</span><span style="color: #909183;">)</span>;
<span class="linenr">12: </span>    <span style="color: #7388d6;">}</span>
<span class="linenr">13: </span>    <span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>key.Key == ConsoleKey.S<span style="color: #7388d6;">)</span>
<span class="linenr">14: </span>    <span style="color: #7388d6;">{</span>
<span class="linenr">15: </span>        Console.<span style="color: #0000ff;">Beep</span><span style="color: #909183;">()</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">Beep &#26159;&#24494;&#36719;&#23454;&#29616;&#22312; Console &#37324;&#30340;&#19968;&#20010;&#26041;&#27861;&#65292;&#29992;&#26469;&#35753;&#25511;&#21046;&#21488;&#21457;&#20986;&#22768;&#38899;</span>
<span class="linenr">16: </span>    <span style="color: #7388d6;">}</span>
<span class="linenr">17: </span>    <span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>key.KeyChar == <span style="color: #8b2252;">'d'</span><span style="color: #7388d6;">)</span>
<span class="linenr">18: </span>    <span style="color: #7388d6;">{</span>
<span class="linenr">19: </span>        Console.<span style="color: #0000ff;">Beep</span><span style="color: #909183;">(</span>600, 200<span style="color: #909183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">Beep &#26041;&#27861;&#26159;&#37325;&#36733;&#30340;&#65292;&#23427;&#21487;&#20197;&#25658;&#24102;&#21442;&#25968;</span>
<span class="linenr">20: </span>    <span style="color: #7388d6;">}</span>
<span class="linenr">21: </span>    <span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>key.KeyChar == <span style="color: #8b2252;">'f'</span><span style="color: #7388d6;">)</span>
<span class="linenr">22: </span>    <span style="color: #7388d6;">{</span>
<span class="linenr">23: </span>        Console.<span style="color: #0000ff;">Beep</span><span style="color: #909183;">(</span>200, 200<span style="color: #909183;">)</span>;
<span class="linenr">24: </span>    <span style="color: #7388d6;">}</span>
<span class="linenr">25: </span>    <span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>key.Key == ConsoleKey.Enter<span style="color: #7388d6;">)</span>
<span class="linenr">26: </span>    <span style="color: #7388d6;">{</span>
<span class="linenr">27: </span>        <span style="color: #a020f0;">break</span>;
<span class="linenr">28: </span>    <span style="color: #7388d6;">}</span>
<span class="linenr">29: </span>    <span style="color: #a020f0;">else</span>
<span class="linenr">30: </span>    <span style="color: #7388d6;">{</span>
<span class="linenr">31: </span>        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span>$<span style="color: #8b2252;">"key: {key}, keyChar: {key.KeyChar}, key: {key.Key}"</span><span style="color: #909183;">)</span>;
<span class="linenr">32: </span>    <span style="color: #7388d6;">}</span>
<span class="linenr">33: </span><span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd098591" class="outline-3">
<h3 id="orgd098591"><span class="section-number-3">10.2.</span> Random/Thread</h3>
<div class="outline-text-3" id="text-10-2">
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #228b22;">ConsoleColor</span><span style="color: #707183;">[]</span> <span style="color: #a0522d;">colors</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">ConsoleColor</span><span style="color: #707183;">[]</span>
<span style="color: #707183;">{</span>
    ConsoleColor.Red, ConsoleColor.Green, ConsoleColor.Yellow
<span style="color: #707183;">}</span>;

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0;
<span style="color: #a020f0;">while</span> <span style="color: #707183;">(</span><span style="color: #008b8b;">true</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">Console.WriteLine("hello {0}", DateTime.Now);</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">var timer = new Timer(null, TimeSpan(1), TimeSpan(2));</span>
    Thread.<span style="color: #0000ff;">Sleep</span><span style="color: #7388d6;">(</span>1000<span style="color: #7388d6;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#39064;&#22806;&#35805;&#65292;&#36825;&#20010; 1000 &#27627;&#31186;&#24182;&#19981;&#26159;&#38750;&#24120;&#20934;&#30830;</span>
    <span style="color: #b22222;">// </span><span style="color: #b22222;">Task.Delay(1000).Wait();</span>

    <span style="color: #b22222;">//</span><span style="color: #b22222;">Console.WriteLine(colors[i]);</span>
    <span style="color: #b22222;">//</span><span style="color: #b22222;">i = i + 1;</span>
    <span style="color: #b22222;">//</span><span style="color: #b22222;">if (i == 3) i = 0;</span>

    <span style="color: #b22222;">//</span><span style="color: #b22222;">Console.WriteLine(colors[i]);</span>
    <span style="color: #b22222;">//</span><span style="color: #b22222;">i = (i + 1) % 3;</span>

    <span style="color: #b22222;">//</span><span style="color: #b22222;">Console.WriteLine(colors[(i++) % 3]);</span>

    System.<span style="color: #228b22;">Random</span> <span style="color: #a0522d;">random</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">System</span>.<span style="color: #0000ff;">Random</span><span style="color: #7388d6;">()</span>;
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">r</span> = random.<span style="color: #0000ff;">Next</span><span style="color: #7388d6;">(</span>colors.Length<span style="color: #7388d6;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">Next(3): 0, 1, 2</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>colors<span style="color: #909183;">[</span>r<span style="color: #909183;">]</span><span style="color: #7388d6;">)</span>;

    Console.<span style="color: #0000ff;">Clear</span><span style="color: #7388d6;">()</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#28165;&#31354;&#23631;&#24149;</span>
    Console.<span style="color: #0000ff;">ResetColor</span><span style="color: #7388d6;">()</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#37325;&#32622;&#39068;&#33394;</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd147bfd" class="outline-3">
<h3 id="orgd147bfd"><span class="section-number-3">10.3.</span> IDisposable/资源</h3>
<div class="outline-text-3" id="text-10-3">
<ul class="org-ul">
<li>资源，是指需要在操作系统中打开，用完之后，需要手动释放的对象</li>
<li>为什么需要手动释放呢？因为 .NET 平台不是万能的。虽然 .NET 平台有垃圾回收器，你不再需要的
对象，它会自动帮你清理掉，但是有些东西它是无法确定你到底还需不需要，所以无法帮助你自动处理。
你也只能手动释放或关闭</li>
<li>对于一些资源，必须要手动释放或关闭</li>
</ul>

<p>
对于普通的对象，是可以被 GC 自动回收的:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#21019;&#24314;&#30340;&#20219;&#20309;&#23545;&#35937;&#65292;&#37117;&#26159;&#21487;&#20197;&#34987;&#22403;&#22334;&#22238;&#25910;&#22120; (GC) &#33258;&#21160;&#37322;&#25918;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#22240;&#27492;&#65292;&#25105;&#20204;&#21482;&#38656;&#35201; new &#28982;&#21518;&#20351;&#29992;&#23601;&#21487;&#20197;&#20102;&#65292;&#20854;&#20182;&#30340;&#20869;&#23384;&#31649;&#29702;&#26080;&#38656;&#20320;&#20851;&#24515;</span>
<span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; 100000000; i++<span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">var</span> <span style="color: #a0522d;">a</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">Book</span><span style="color: #7388d6;">()</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#21019;&#24314;&#22810;&#23569;&#20010;&#37117;&#20250;&#34987;&#33258;&#21160;&#37322;&#25918;&#65292;&#32477;&#23545;&#23433;&#20840;</span>
<span style="color: #707183;">}</span>
</pre>
</div>

<p>
但是对于一些依赖系统的资源，必须要手动释放:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #b22222;">// </span><span style="color: #b22222;">&#20687;&#25991;&#20214;&#36825;&#26679;&#30340;&#36164;&#28304;&#65292;&#25171;&#24320;&#20043;&#21518;&#65292;&#24517;&#39035;&#35201;&#25163;&#21160;&#37322;&#25918;</span>
<span style="color: #228b22;">var</span> <span style="color: #a0522d;">fs</span> = File.<span style="color: #0000ff;">OpenRead</span><span style="color: #707183;">(</span>fileName<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>5/0<span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">&#20195;&#34920;&#20351;&#29992; (2)</span>
fs.<span style="color: #0000ff;">Close</span><span style="color: #707183;">()</span>;             <span style="color: #b22222;">// </span><span style="color: #b22222;">&#25163;&#21160;&#20851;&#38381;/&#37322;&#25918;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#19978;&#36848;&#30340;&#20195;&#30721;&#26159;&#26377;&#38382;&#39064;&#30340;&#65292;&#22240;&#20026;&#65292;&#22914;&#26524; (2) &#20986;&#29616;&#38169;&#35823;&#30340;&#35805;&#65292;&#37027;&#20040;&#37322;&#25918;&#30340;&#35821;&#21477;&#23601;&#26080;&#27861;&#25191;&#34892;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20026;&#20102;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#65292;&#21487;&#20197;&#20351;&#29992; finally &#35821;&#27861;&#65292;&#23545;&#25972;&#20010;&#36164;&#28304;&#37322;&#25918;&#30340;&#20195;&#30721;&#36827;&#34892;&#37325;&#26500;</span>
<span style="color: #228b22;">FileStream</span> <span style="color: #a0522d;">fs</span> = <span style="color: #008b8b;">null</span>;
<span style="color: #a020f0;">try</span>
<span style="color: #707183;">{</span>
    fs = File.<span style="color: #0000ff;">OpenRead</span><span style="color: #7388d6;">(</span>fileName<span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>fs<span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>5/0<span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span><span style="color: #8b2252;">"&#20854;&#20182;&#20320;&#25152;&#38656;&#35201;&#20570;&#30340;&#20107;&#24773;"</span><span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>
<span style="color: #a020f0;">finally</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">if</span> <span style="color: #7388d6;">(</span>fs != <span style="color: #008b8b;">null</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">try</span>
        <span style="color: #909183;">{</span>
            fs.<span style="color: #0000ff;">Close</span><span style="color: #709870;">()</span>;
        <span style="color: #909183;">}</span>
        <span style="color: #a020f0;">catch</span>
        <span style="color: #909183;">{</span>
            Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #709870;">(</span><span style="color: #8b2252;">"&#20851;&#38381;&#22833;&#36133;"</span><span style="color: #709870;">)</span>;
        <span style="color: #909183;">}</span>
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#21487;&#20197;&#20351;&#29992; using &#23545;&#19978;&#36848;&#20195;&#30721;&#36827;&#34892;&#31616;&#21270;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#24517;&#39035;&#35753; FileStream &#37324;&#38754;&#23454;&#29616;&#19968;&#20010;&#21483; Dispose &#30340;&#26041;&#27861;</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">&#20026;&#20102;&#20445;&#35777;&#20320;&#24517;&#39035;&#23454;&#29616;&#19968;&#20010; Dispose &#26041;&#27861;&#65292;&#20320;&#24517;&#39035;&#35201;&#23454;&#29616; IDisposable &#25509;&#21475;</span>
<span style="color: #a020f0;">using</span> <span style="color: #707183;">(</span><span style="color: #228b22;">FileStream</span> <span style="color: #a0522d;">fs</span> = File.<span style="color: #0000ff;">OpenRead</span><span style="color: #7388d6;">(</span>fileName<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #707183;">{</span>
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>fs<span style="color: #7388d6;">)</span>;
    Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #7388d6;">(</span>5/0<span style="color: #7388d6;">)</span>;
<span style="color: #707183;">}</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">&#26368;&#26032;&#30340; C# &#29256;&#26412;&#21448;&#32473;&#20102;&#26032;&#30340;&#31958;</span>
<span style="color: #a020f0;">using</span> <span style="color: #a0522d;">FileStream</span> f<span style="color: #a0522d;">s</span> = <span style="color: #a0522d;">File</span>.<span style="color: #a0522d;">OpenRead</span><span style="color: #707183;">(</span><span style="color: #a0522d;">fileName</span><span style="color: #707183;">)</span>; <span style="color: #b22222;">// </span><span style="color: #b22222;">fs &#22312;&#21518;&#38754;&#30896;&#21040; } &#21518;&#65292;&#20250;&#33258;&#21160;&#37322;&#25918;</span>
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>fs<span style="color: #707183;">)</span>;
Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">(</span>5/0<span style="color: #707183;">)</span>;
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org7906523" class="outline-2">
<h2 id="org7906523"><span class="section-number-2">11.</span> 技巧和示例</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org723d270" class="outline-3">
<h3 id="org723d270"><span class="section-number-3">11.1.</span> 求余</h3>
<div class="outline-text-3" id="text-11-1">
<p>
求余经常用来将某个数 <b>转换</b> 为 0-N 区间的一个数。
</p>

<p>
示例一，结合循环使用:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span class="linenr">1: </span><span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; 1000; i++<span style="color: #707183;">)</span>
<span class="linenr">2: </span><span style="color: #707183;">{</span>
<span class="linenr">3: </span>    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">f</span> = <span style="color: #7388d6;">(</span><span style="color: #909183;">(</span>i % 8<span style="color: #909183;">)</span> * 30<span style="color: #7388d6;">)</span> + 100;
<span class="linenr">4: </span>    Console.<span style="color: #0000ff;">Beep</span><span style="color: #7388d6;">(</span>f, 50<span style="color: #7388d6;">)</span>;
<span class="linenr">5: </span>    Thread.<span style="color: #0000ff;">Sleep</span><span style="color: #7388d6;">(</span>800 - <span style="color: #909183;">(</span>i % 8<span style="color: #909183;">)</span> * 50<span style="color: #7388d6;">)</span>;
<span class="linenr">6: </span><span style="color: #707183;">}</span>
</pre>
</div>

<p>
示例二，求余和数组的结合使用:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span class="linenr">1: </span><span style="color: #228b22;">int</span><span style="color: #707183;">[]</span> <span style="color: #a0522d;">freqs</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">int</span><span style="color: #707183;">[]</span> <span style="color: #707183;">{</span> 200, 300, 100, 600 <span style="color: #707183;">}</span>;
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; 1000; i++<span style="color: #707183;">)</span>
<span class="linenr">4: </span><span style="color: #707183;">{</span>
<span class="linenr">5: </span>    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">f</span> = freqs<span style="color: #7388d6;">[</span>i % freqs.Length<span style="color: #7388d6;">]</span>;
<span class="linenr">6: </span>    Console.<span style="color: #0000ff;">Beep</span><span style="color: #7388d6;">(</span>f, 50<span style="color: #7388d6;">)</span>;
<span class="linenr">7: </span>    Thread.<span style="color: #0000ff;">Sleep</span><span style="color: #7388d6;">(</span>800 - <span style="color: #909183;">(</span>i % freqs.Length<span style="color: #909183;">)</span> * 50<span style="color: #7388d6;">)</span>;
<span class="linenr">8: </span><span style="color: #707183;">}</span>
</pre>
</div>

<p>
示例三:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span class="linenr"> 1: </span><span style="color: #b22222;">// </span><span style="color: #b22222;">&#38500;&#20102;&#22768;&#38899;&#22806;&#65292;&#28155;&#21152;&#35270;&#35273;&#25928;&#26524;</span>
<span class="linenr"> 2: </span><span style="color: #b22222;">// </span><span style="color: #b22222;">&#21407;&#29702;&#26159;&#19968;&#26679;&#30340;</span>
<span class="linenr"> 3: </span><span style="color: #228b22;">int</span><span style="color: #707183;">[]</span> <span style="color: #a0522d;">freqs</span> = <span style="color: #a020f0;">new</span> <span style="color: #707183;">[]</span> <span style="color: #707183;">{</span> 200, 300, 100, 600 <span style="color: #707183;">}</span>;
<span class="linenr"> 4: </span><span style="color: #228b22;">ConsoleColor</span><span style="color: #707183;">[]</span> <span style="color: #a0522d;">colors</span> = <span style="color: #a020f0;">new</span><span style="color: #707183;">[]</span> <span style="color: #707183;">{</span> ConsoleColor.Red, ConsoleColor.Green, ConsoleColor.Blue, ConsoleColor.Yellow <span style="color: #707183;">}</span>;
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #a020f0;">for</span> <span style="color: #707183;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; 1000; i++<span style="color: #707183;">)</span>
<span class="linenr"> 7: </span><span style="color: #707183;">{</span>
<span class="linenr"> 8: </span>    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">p</span> = i % freqs.Length;
<span class="linenr"> 9: </span>    <span style="color: #a020f0;">for</span> <span style="color: #7388d6;">(</span><span style="color: #228b22;">int</span> <span style="color: #a0522d;">j</span> = 0; j &lt; freqs.Length; j++<span style="color: #7388d6;">)</span>
<span class="linenr">10: </span>    <span style="color: #7388d6;">{</span>
<span class="linenr">11: </span>        <span style="color: #a020f0;">if</span> <span style="color: #909183;">(</span>j == p<span style="color: #909183;">)</span>
<span class="linenr">12: </span>        <span style="color: #909183;">{</span>
<span class="linenr">13: </span>            Console.ForegroundColor = colors<span style="color: #709870;">[</span>p<span style="color: #709870;">]</span>;
<span class="linenr">14: </span>        <span style="color: #909183;">}</span>
<span class="linenr">15: </span>        <span style="color: #a020f0;">else</span>
<span class="linenr">16: </span>        <span style="color: #909183;">{</span>
<span class="linenr">17: </span>            Console.<span style="color: #0000ff;">ResetColor</span><span style="color: #709870;">()</span>;
<span class="linenr">18: </span>        <span style="color: #909183;">}</span>
<span class="linenr">19: </span>        Console.<span style="color: #0000ff;">SetCursorPosition</span><span style="color: #909183;">(</span>j * 3, 0<span style="color: #909183;">)</span>;
<span class="linenr">20: </span>        Console.<span style="color: #0000ff;">Write</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#9679;"</span><span style="color: #909183;">)</span>;
<span class="linenr">21: </span>    <span style="color: #7388d6;">}</span>
<span class="linenr">22: </span>    Console.<span style="color: #0000ff;">Beep</span><span style="color: #7388d6;">(</span>freqs<span style="color: #909183;">[</span>p<span style="color: #909183;">]</span>, 50<span style="color: #7388d6;">)</span>;
<span class="linenr">23: </span>
<span class="linenr">24: </span>    Thread.<span style="color: #0000ff;">Sleep</span><span style="color: #7388d6;">(</span>500 - <span style="color: #909183;">(</span>p<span style="color: #909183;">)</span> * 50<span style="color: #7388d6;">)</span>;
<span class="linenr">25: </span><span style="color: #707183;">}</span>
<span class="linenr">26: </span>Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #707183;">()</span>;
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org8a80c1e" class="outline-2">
<h2 id="org8a80c1e"><span class="section-number-2">12.</span> 模拟题</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org6400c8e" class="outline-3">
<h3 id="org6400c8e"><span class="section-number-3">12.1.</span> 继承相关</h3>
<div class="outline-text-3" id="text-12-1">
<p>
请问下面程序的输出是什么:
</p>
<div class="org-src-container">
<pre class="src src-csharp"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">A</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span> = <span style="color: #8b2252;">"aaa"</span>;

    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Name</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#25105;&#26159; {0}"</span>, <span style="color: #228b22;">name</span><span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#33258;&#25105;&#20171;&#32461;</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #0000ff;">Name</span><span style="color: #909183;">()</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">B</span> : <span style="color: #228b22;">A</span>
<span style="color: #707183;">{</span>
    <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Name</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"&#20320;&#26159; {0}"</span>, name<span style="color: #909183;">)</span>;
    <span style="color: #7388d6;">}</span>

    <span style="color: #228b22;">string</span> <span style="color: #a0522d;">name</span> = <span style="color: #8b2252;">"bbb"</span>;

    <span style="color: #a020f0;">public</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">&#33258;&#25105;&#20171;&#32461;</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #a020f0;">this</span>.<span style="color: #0000ff;">Name</span><span style="color: #909183;">()</span>;
        Console.<span style="color: #0000ff;">WriteLine</span><span style="color: #909183;">(</span><span style="color: #8b2252;">"----"</span><span style="color: #909183;">)</span>;
        <span style="color: #a020f0;">base</span>.<span style="color: #0000ff;">Name</span><span style="color: #909183;">()</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>

<span style="color: #a020f0;">class</span> <span style="color: #228b22;">Program</span>
<span style="color: #707183;">{</span>
    <span style="color: #a020f0;">static</span> <span style="color: #228b22;">void</span> <span style="color: #0000ff;">Main</span><span style="color: #7388d6;">()</span>
    <span style="color: #7388d6;">{</span>
        <span style="color: #228b22;">B</span> <span style="color: #a0522d;">b</span> = <span style="color: #a020f0;">new</span> <span style="color: #228b22;">B</span><span style="color: #909183;">()</span>;
        b.&#33258;&#25105;&#20171;&#32461;<span style="color: #909183;">()</span>;
    <span style="color: #7388d6;">}</span>
<span style="color: #707183;">}</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org0993f51" class="outline-3">
<h3 id="org0993f51"><span class="section-number-3">12.2.</span> 重载 (overload) 和 重写 (override) 有啥区别 (15 分)</h3>
<div class="outline-text-3" id="text-12-2">
<p>
重构 = 重新构造 = 将代码进行重写，让结构发生变化的行为
= 一般来说，是因为现有的代码不合理，所以呢，重新调整一下
= 一般来说，重构只是为了改变代码结构或代码质量，它不会对程序的运行逻辑进行改变
</p>
</div>
</div>
</section>

<section id="outline-container-orgb8b093b" class="outline-2">
<h2 id="orgb8b093b"><span class="section-number-2">13.</span> 问题 (仅作参考)</h2>
<div class="outline-text-2" id="text-13">
</div>
<div id="outline-container-org0931609" class="outline-3">
<h3 id="org0931609"><span class="section-number-3">13.1.</span> string 和 StringBuilder 有什么区别</h3>
<div class="outline-text-3" id="text-13-1">
<ul class="org-ul">
<li>string 是一种预定义类型，它表达的是字符的有序组合</li>
<li>StringBuilder 是定义在 BCL 中的类型，它主要用来进行字符串的拼接</li>
<li>string 是不可变的，所以在进行拼接等操作的时候，效率会非常低</li>
<li>StringBuilder 是可变的一种类型，所以在字符串拼接的时候，效率相对高多了</li>
<li>因此，在进行字符串拼接的操作的时候，我们一般使用 StringBuilder 进行构建，从而提升效率</li>
</ul>
</div>
</div>

<div id="outline-container-org5f8661c" class="outline-3">
<h3 id="org5f8661c"><span class="section-number-3">13.2.</span> 什么是抽象类，抽象类有什么用处</h3>
</div>
<div id="outline-container-orgddf3ea3" class="outline-3">
<h3 id="orgddf3ea3"><span class="section-number-3">13.3.</span> 什么是接口，什么是面向接口编程，面向接口编程有什么好处</h3>
</div>
<div id="outline-container-org156522f" class="outline-3">
<h3 id="org156522f"><span class="section-number-3">13.4.</span> 什么是静态类，什么是密封类，什么是分部类</h3>
</div>
<div id="outline-container-org51f1e72" class="outline-3">
<h3 id="org51f1e72"><span class="section-number-3">13.5.</span> 什么是类，什么是对象，对象的实例化过程是怎么样的</h3>
</div>
<div id="outline-container-org53c5fb1" class="outline-3">
<h3 id="org53c5fb1"><span class="section-number-3">13.6.</span> 什么是面向对象编程，面向对象有什么特点，有什么好处</h3>
</div>
<div id="outline-container-org7f77498" class="outline-3">
<h3 id="org7f77498"><span class="section-number-3">13.7.</span> 什么是字段，什么是方法，什么是属性。属性有什么好处</h3>
</div>
<div id="outline-container-org1453cfa" class="outline-3">
<h3 id="org1453cfa"><span class="section-number-3">13.8.</span> 什么是封装，什么是继承，什么是多态</h3>
</div>
<div id="outline-container-org7cbe124" class="outline-3">
<h3 id="org7cbe124"><span class="section-number-3">13.9.</span> 什么是虚方法，它有什么用处</h3>
</div>
<div id="outline-container-orga4100f5" class="outline-3">
<h3 id="orga4100f5"><span class="section-number-3">13.10.</span> 什么是组合，它跟继承有什么区别，分别用在什么场景</h3>
</div>
<div id="outline-container-org49d491a" class="outline-3">
<h3 id="org49d491a"><span class="section-number-3">13.11.</span> 什么是 DRY，代码复用的手段有哪些</h3>
</div>
<div id="outline-container-org6186468" class="outline-3">
<h3 id="org6186468"><span class="section-number-3">13.12.</span> Parse/TryParse 有啥区别</h3>
<div class="outline-text-3" id="text-13-12">
<ul class="org-ul">
<li>这两个都是用来将字符串转换为其他类型</li>
<li>遇到转换失败的时候</li>
<li>Parse 会直接抛出异常</li>
<li>而 TryParse，会根据是否转换成功返回 True/False,
它不会抛出异常</li>
</ul>
</div>
</div>

<div id="outline-container-org6aa9caa" class="outline-3">
<h3 id="org6aa9caa"><span class="section-number-3">13.13.</span> 什么是装箱拆箱</h3>
<div class="outline-text-3" id="text-13-13">
<ul class="org-ul">
<li>装箱是将值类型转换为 object 的过程</li>
<li>拆箱是将装箱后的 object 转换为对应的值类型的过程</li>
</ul>
</div>
</div>

<div id="outline-container-org98ec2cf" class="outline-3">
<h3 id="org98ec2cf"><span class="section-number-3">13.14.</span> 什么是值类型/引用类型</h3>
<div class="outline-text-3" id="text-13-14">
<ul class="org-ul">
<li>变量位置保存的是类型实例自身，这样的类型叫 <b>值类型</b></li>
<li>变量位置保存的是类型实例的引用，这样的类型叫 <b>引用类型</b></li>
</ul>
</div>
</div>

<div id="outline-container-org3f909ac" class="outline-3">
<h3 id="org3f909ac"><span class="section-number-3">13.15.</span> is/as 分别是干啥的</h3>
<div class="outline-text-3" id="text-13-15">
<ul class="org-ul">
<li>is 用来判断左边的实例是否是右边的类型。是的 true，不是的话 false。
它常用来跟显式转换配合使用</li>
<li>as 和显式转换相似，但它不会抛出异常，如果成功返回转换结果，失败返回 null</li>
</ul>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
<p class="author">Author: 悟饭</p>
<p class="date">Created: 2021-06-17</p>
<p class="validation">Go ahead, never stop.</p>
</div>
</body>
</html>
