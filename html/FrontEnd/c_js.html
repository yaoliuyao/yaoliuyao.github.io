<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2021-01-22 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JavaScript (ECMAScript)</title>
<meta name="generator" content="Org mode">
<meta name="author" content="孙悟空">
<link rel='stylesheet' href='/html/asset/common.css?3344' />
<link rel='stylesheet' href='/yaoliusan/html/asset/common.css?3344' />
<script src='https://cdn.bootcss.com/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
<script src='/html/asset/common.js'></script>
<script src='/yaoliusan/html/asset/common.js'></script>

<style>
 /* From: https://endlessparentheses.com/public/css/endless.css */
 .special-kbd {
   color: #333;
   background-color: #f7f7f7;
   border: 1px solid #ccc;
   border-radius: 6px;
   box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
   display: inline-block;
   font-family: 'Droid Sans Mono', monospace;
   font-size: 80%;
   font-weight: normal;
   line-height: inherit;
   margin: 2px .1em;
   padding: .04em .4em;
   text-shadow: 0 1px 0 #fff;
   word-spacing: -3px;
 }
</style>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",
        "HTML-CSS": { scale: 100, linebreaks: { automatic: "false" }, webFont: "TeX" },
        SVG: {scale: 100, linebreaks: { automatic: "false" }, font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"}, MultLineWidth: "85%", TagSide: "right", TagIndent: ".8em" }
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML" async></script>
</head>
<body>
<div id="content">
<header>
<h1 class="title">JavaScript (ECMAScript)</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org05cf837">1. Hello</a>
<ul>
<li><a href="#org5fd613a">1.1. 基本示例 (Hello World)</a></li>
<li><a href="#org850f76f">1.2. 在浏览器中使用 JavaScript</a>
<ul>
<li><a href="#org10c05c3">1.2.1. 内嵌在 html 代码中</a></li>
<li><a href="#orgd032130">1.2.2. 作为外部的 JS 文件存在</a></li>
<li><a href="#org247c790">1.2.3. [示例] 创建一个网页，点击按钮刷新节点的时间</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc5b3bef">2. 概述</a></li>
<li><a href="#org36a0593">3. 变量 (Variable)</a>
<ul>
<li><a href="#orgb0d2862">3.1. 变量的声明的若干方式</a></li>
</ul>
</li>
<li><a href="#org3d5a5dc">4. 类型 (Type)</a>
<ul>
<li><a href="#org1e1c821">4.1. number</a>
<ul>
<li><a href="#org8acbd90">4.1.1. 声明</a></li>
<li><a href="#orgba6a3b4">4.1.2. 运算</a></li>
<li><a href="#orge06b926">4.1.3. NaN (Not a Number)</a></li>
<li><a href="#orgd18fc50">4.1.4. Infinity</a></li>
<li><a href="#org928e0b3">4.1.5. Number/parseInt/parseFloat</a></li>
<li><a href="#org6bd49bc">4.1.6. 0.30000000000000004</a></li>
</ul>
</li>
<li><a href="#org8e359d1">4.2. string</a></li>
<li><a href="#org835c233">4.3. boolean</a></li>
<li><a href="#orge208e92">4.4. function</a>
<ul>
<li><a href="#orgf8ad4a1">4.4.1. 基本的声明与使用</a></li>
<li><a href="#org982c134">4.4.2. 函数的定义</a></li>
<li><a href="#org9ef1120">4.4.3. 函数是一等公民 (回调函数)</a></li>
<li><a href="#org4f78780">4.4.4. 递归函数</a></li>
<li><a href="#orgc73eb49">4.4.5. 变量的提升 (var)</a></li>
<li><a href="#orgde19667">4.4.6. 变量的作用域 (var)</a></li>
<li><a href="#orgf204ba5">4.4.7. ES6 提出了两个进行变量定义的关键词 let/const</a></li>
<li><a href="#orgbac46d7">4.4.8. 词法作用域 (Lexical Scope)</a></li>
<li><a href="#org1d03ff1">4.4.9. 闭包 (Closure)</a></li>
</ul>
</li>
<li><a href="#org68f1482">4.5. undefined (null is not a type)</a></li>
<li><a href="#org3bcd342">4.6. Object</a>
<ul>
<li><a href="#org9535300">4.6.1. 封装</a></li>
<li><a href="#org24c85dc">4.6.2. 继承 (基于原型链)</a></li>
<li><a href="#org6486ad4">4.6.3. 使用构造函数，简化对象的创建</a></li>
<li><a href="#orgda73d90">4.6.4. ES5 中的 Object.create</a></li>
<li><a href="#orgb97d321">4.6.5. ES6 中的 class 语法糖</a></li>
<li><a href="#orgf8778ac">4.6.6. Object 对象</a></li>
</ul>
</li>
<li><a href="#org7d77cf2">4.7. 运算符优先级</a></li>
</ul>
</li>
<li><a href="#org4daeb45">5. 标准内置对象 (Global Objects)</a>
<ul>
<li><a href="#org05554ea">5.1. Number/String/Boolean/Function</a></li>
<li><a href="#org78071d0">5.2. Array</a>
<ul>
<li><a href="#org87f4400">5.2.1. 数组的创建</a></li>
<li><a href="#org9f38470">5.2.2. 数组的基本用法</a></li>
<li><a href="#org487a04b">5.2.3. 字符串跟数组的美好友谊</a></li>
<li><a href="#org2731040">5.2.4. Array 与 function 的美好生活</a></li>
<li><a href="#org001aa7f">5.2.5. ES6 添加的 Array 的一些静态方法</a></li>
<li><a href="#org8e39272">5.2.6. [示例] 常规操作</a></li>
</ul>
</li>
<li><a href="#orgd3778e4">5.3. Math</a></li>
<li><a href="#orgcba0cfb">5.4. Date</a></li>
<li><a href="#org0d90981">5.5. RegExp</a>
<ul>
<li><a href="#orgc48eafc">5.5.1. 补充</a></li>
</ul>
</li>
<li><a href="#org73bb012">5.6. JSON</a></li>
<li><a href="#org73f5761">5.7. Symbol</a></li>
<li><a href="#orgdff56a0">5.8. Set/Map/WeakSet/WeakMap</a></li>
<li><a href="#orgbd0c062">5.9. ArrayBuffer/DataView</a></li>
<li><a href="#org259d289">5.10. Promise/async</a></li>
</ul>
</li>
<li><a href="#org0f41f4b">6. 执行逻辑</a>
<ul>
<li><a href="#org1ccd777">6.1. 顺序执行</a></li>
<li><a href="#org9f3de9b">6.2. 分支判断</a>
<ul>
<li><a href="#orgf03ad7a">6.2.1. IF/ELSE</a></li>
<li><a href="#orgf451752">6.2.2. Switch/Case</a></li>
<li><a href="#org590a99a">6.2.3. 三目运算</a></li>
</ul>
</li>
<li><a href="#orgd502b43">6.3. 循环迭代</a></li>
</ul>
</li>
<li><a href="#orga2528f9">7. 作用域及模块化</a>
<ul>
<li><a href="#orga80e8d0">7.1. var: 古老的函数级别作用域</a></li>
<li><a href="#org75b39f9">7.2. let/const: 块级作用域的华丽登场</a></li>
<li><a href="#orga1035c4">7.3. &lt;script src="xxx.js"&gt; 划文件而治</a></li>
<li><a href="#org87fb211">7.4. 模块化的第三方解决方案 CommonJS/AMD</a></li>
<li><a href="#orgaf28753">7.5. 终于，在 ES6 中，推出了标准化的模块写法</a></li>
</ul>
</li>
<li><a href="#org233b37b">8. ES6 快速预览</a>
<ul>
<li><a href="#org3816569">8.1. 对象的扩展</a></li>
<li><a href="#org52f5a1b">8.2. 块级作用域</a></li>
<li><a href="#orgf6518a9">8.3. 函数默认值</a></li>
<li><a href="#org193b20c">8.4. spread/rest</a></li>
<li><a href="#org7409380">8.5. destructuring</a></li>
<li><a href="#org3e34d21">8.6. Arrow Function</a></li>
<li><a href="#org35a02a5">8.7. 循环</a></li>
<li><a href="#org8a3b206">8.8. 模板字符串</a></li>
</ul>
</li>
<li><a href="#org5b7fea9">9. 其他</a>
<ul>
<li><a href="#orgcd45828">9.1. 严格模式 (strict mode)</a></li>
<li><a href="#org5110638">9.2. 异常处理</a></li>
<li><a href="#org4ee5858">9.3. Object.defineProperty / Proxy</a></li>
</ul>
</li>
<li><a href="#orgca645cf">10. 问题集锦</a>
<ul>
<li><a href="#orgd505c42">10.1. 运算符优先级</a></li>
<li><a href="#org3ee723b">10.2. 正则表达式</a></li>
<li><a href="#org3042b26">10.3. 从文件名取后缀名</a></li>
<li><a href="#orgeb15508">10.4. undefine/null</a></li>
<li><a href="#orga666a39">10.5. 数字 + 字符串 + NaN</a></li>
<li><a href="#org5f24467">10.6. 浮点数计算</a></li>
<li><a href="#org91dc91d">10.7. 求取斐波那契数列的某项 [递归]</a></li>
<li><a href="#orgc042940">10.8. 自增运算符</a></li>
</ul>
</li>
</ul>
</div>
</nav>


<section id="outline-container-org05cf837" class="outline-2">
<h2 id="org05cf837"><span class="section-number-2">1</span> Hello</h2>
<div class="outline-text-2" id="text-1">
<p>
<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript</a>
</p>

<p>
浏览器发展史:
</p>
<ol class="org-ol">
<li>网景浏览器</li>
<li>IE 浏览器</li>
<li>Chrome 浏览器</li>
</ol>

<p>
JavaScript 发展史:
</p>
<ol class="org-ol">
<li>JavaScript</li>
<li>ES5</li>
<li>ES6</li>
<li>Node.js</li>
</ol>

<p>
整个 JavaScript 的学习，分为三部分:
</p>
<ol class="org-ol">
<li>ECMAScript 语言核心</li>
<li>BOM 操作</li>
<li>DOM 操作</li>
</ol>
</div>

<div id="outline-container-org5fd613a" class="outline-3">
<h3 id="org5fd613a"><span class="section-number-3">1.1</span> 基本示例 (Hello World)</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/First_steps/What_is_JavaScript">https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/First_steps/What_is_JavaScript</a>
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #c678dd; font-weight: bold;">!DOCTYPE</span> html&gt;
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">html</span> <span style="color: #61afef;">lang</span>=<span style="color: #98be65;">"en"</span><span style="color: #8c8c8c;">&gt;</span>
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">head</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">meta</span> <span style="color: #61afef;">charset</span>=<span style="color: #98be65;">"UTF-8"</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">meta</span> <span style="color: #61afef;">name</span>=<span style="color: #98be65;">"viewport"</span> <span style="color: #61afef;">content</span>=<span style="color: #98be65;">"width=device-width, initial-scale=1.0"</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">title</span><span style="color: #8c8c8c;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">first blood</span><span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">title</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">style</span><span style="color: #8c8c8c;">&gt;</span>
        <span style="color: #61afef;">.xiaoming </span><span style="color: #8c8c8c;">{</span>
            <span style="color: #c678dd; font-weight: bold;">font-size</span>: 30pt;
            <span style="color: #c678dd; font-weight: bold;">font-family</span>: &#23435;&#20307;;
            <span style="color: #c678dd; font-weight: bold;">font-weight</span>: 400;
            <span style="color: #c678dd; font-weight: bold;">color</span>:<span style="color: #ffffff; background-color: #ff0000;">red</span>
        <span style="color: #8c8c8c;">}</span>
    <span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">style</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">type</span>=<span style="color: #98be65;">"text/javascript"</span><span style="color: #8c8c8c;">&gt;</span>
        <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">bianyanse</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
            <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">new_name</span> = prompt<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#35831;&#36755;&#20837;&#24744;&#24819;&#35201;&#30340;&#21517;&#23383;!"</span><span style="color: #93a8c6;">)</span>;
            xiaoming.style.color = <span style="color: #98be65;">"green"</span>;
            xiaoming.style.background = <span style="color: #98be65;">"red"</span>;
            xiaoming.innerText = new_name;
        <span style="color: #8c8c8c;">}</span>
    <span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">head</span><span style="color: #8c8c8c;">&gt;</span>
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">body</span><span style="color: #8c8c8c;">&gt;</span>
    &#31034;&#20363;:
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">p</span><span style="color: #8c8c8c;">&gt;</span>
        <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">span</span> <span style="color: #61afef;">id</span>=<span style="color: #98be65;">"xiaoming"</span>
         <span style="color: #61afef;">class</span>=<span style="color: #98be65;">"xiaoming"</span>
         <span style="color: #61afef;">onclick</span>=<span style="color: #98be65;">"bianyanse()"</span><span style="color: #8c8c8c;">&gt;</span>&#23567;&#26126;<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">span</span><span style="color: #8c8c8c;">&gt;</span>&#26159;&#20010;&#22909;&#21516;&#23398;&#12290;
    <span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">p</span><span style="color: #8c8c8c;">&gt;</span>
<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">body</span><span style="color: #8c8c8c;">&gt;</span>
<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">html</span><span style="color: #8c8c8c;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org850f76f" class="outline-3">
<h3 id="org850f76f"><span class="section-number-3">1.2</span> 在浏览器中使用 JavaScript</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-org10c05c3" class="outline-4">
<h4 id="org10c05c3"><span class="section-number-4">1.2.1</span> 内嵌在 html 代码中</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
可以在 html 文档的任意部位添加 JavaScript 代码:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">head</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>...&lt;/scirpt&gt;
&lt;script&gt;...&lt;/scirpt&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script&gt;...&lt;/scirpt&gt;
&lt;div&gt;hello&lt;/div&gt;
&lt;script&gt;...&lt;/scirpt&gt;
&lt;/body&gt;
</pre>
</div>

<p>
只不过，一定要注意，JS 代码需要使用 script 标签包围:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #687080; font-style: italic;">&lt;!-- </span><span style="color: #687080; font-style: italic;">&#36825;&#37324;&#23384;&#22312;&#30340;&#26159; Html &#20195;&#30721;&#65292;&#25105;&#26159;&#27880;&#37322; </span><span style="color: #687080; font-style: italic;">--&gt;</span>
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">type</span>=<span style="color: #98be65;">"text/javascript"</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36825;&#37324;&#23384;&#22312;&#30340;&#26159;&#23436;&#20840;&#30340; JavaScript &#20195;&#30721;</span>
  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20351;&#29992; // &#20316;&#20026;&#27880;&#37322;&#30340;&#24320;&#22987;</span>
  <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 2;
  alert<span style="color: #8c8c8c;">(</span>a<span style="color: #8c8c8c;">)</span>;
<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>

<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">....</span>
<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
</pre>
</div>

<p>
另外:
</p>
<ul class="org-ul">
<li>如果 script 标签不闭合，会导致页面渲染出问题</li>
<li>浏览器渲染 html 是从上到下的，所以，前面的 script 会比后面的先执行</li>
<li>一个页面中可以有多个 script 块</li>
<li>一般来说，会将 script 放到 head 中，但是为了渲染速度，很多时候，会放到 body 的最后</li>
</ul>
</div>
</div>

<div id="outline-container-orgd032130" class="outline-4">
<h4 id="orgd032130"><span class="section-number-4">1.2.2</span> 作为外部的 JS 文件存在</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
引入外部 JavaScript 脚本的语法:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #687080; font-style: italic;">&lt;!-- </span><span style="color: #687080; font-style: italic;">&#21152;&#36733; html &#25991;&#20214;&#30456;&#21516;&#30446;&#24405;&#30340; hello.js &#25991;&#20214; </span><span style="color: #687080; font-style: italic;">--&gt;</span>
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">src</span>=<span style="color: #98be65;">"hello.js"</span><span style="color: #8c8c8c;">&gt;&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">src</span>=<span style="color: #98be65;">"./hello.js"</span><span style="color: #8c8c8c;">&gt;&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>

<span style="color: #687080; font-style: italic;">&lt;!-- </span><span style="color: #687080; font-style: italic;">/html/aaa/bbb/hello.html </span><span style="color: #687080; font-style: italic;">--&gt;</span>
<span style="color: #687080; font-style: italic;">&lt;!-- </span><span style="color: #687080; font-style: italic;">/html/js/hello.js </span><span style="color: #687080; font-style: italic;">--&gt;</span>
<span style="color: #687080; font-style: italic;">&lt;!-- </span><span style="color: #687080; font-style: italic;">&#38169;&#35823;&#30340;&#31034;&#20363;&#65306; /html/hello.html </span><span style="color: #687080; font-style: italic;">--&gt;</span>
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">src</span>=<span style="color: #98be65;">"../../js/hello.js"</span><span style="color: #8c8c8c;">&gt;&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>

<span style="color: #687080; font-style: italic;">&lt;!-- </span><span style="color: #687080; font-style: italic;">&#32477;&#23545;&#36335;&#24452; </span><span style="color: #687080; font-style: italic;">--&gt;</span>
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">src</span>=<span style="color: #98be65;">"/html/hello.js"</span><span style="color: #8c8c8c;">&gt;&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>

<span style="color: #687080; font-style: italic;">&lt;!-- </span><span style="color: #687080; font-style: italic;">&#19968;&#23450;&#27880;&#24847;&#65292;&#26631;&#31614;&#35201;&#38381;&#21512;&#12290;&#20808;&#20004;&#31181;&#20889;&#27861;&#37117;&#26159;&#38169;&#35823;&#30340; </span><span style="color: #687080; font-style: italic;">--&gt;</span>
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">src</span>=<span style="color: #98be65;">"hello.js"</span><span style="color: #8c8c8c;">&gt;</span>
&lt;script src=<span style="color: #98be65;">"hello.js"</span>/&gt;
</pre>
</div>

<p>
也可以直接使用外部的链接作为 JS 脚本直接使用:
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #c678dd; font-weight: bold;">!doctype</span> html&gt;
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">html</span> <span style="color: #61afef;">lang</span>=<span style="color: #98be65;">"en"</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">head</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">meta</span> <span style="color: #61afef;">charset</span>=<span style="color: #98be65;">"UTF-8"</span>/<span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">title</span><span style="color: #8c8c8c;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">&#24341;&#20837;&#22806;&#37096;&#30340; JS</span><span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">title</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">src</span>=<span style="color: #98be65;">"https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"</span><span style="color: #8c8c8c;">&gt;&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">head</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">body</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
     alert<span style="color: #8c8c8c;">(</span>$<span style="color: #8c8c8c;">)</span>;
    <span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">body</span><span style="color: #8c8c8c;">&gt;</span>
<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">html</span><span style="color: #8c8c8c;">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org247c790" class="outline-4">
<h4 id="org247c790"><span class="section-number-4">1.2.3</span> [示例] 创建一个网页，点击按钮刷新节点的时间</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
首先，创建一个网页 aaa.html，确定其中的「内容」和「结构」:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">html</span> <span style="color: #61afef;">lang</span>=<span style="color: #98be65;">"en"</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">head</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">meta</span> <span style="color: #61afef;">charset</span>=<span style="color: #98be65;">"UTF-8"</span>/<span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">title</span><span style="color: #8c8c8c;">&gt;</span><span style="font-weight: bold; text-decoration: underline;">Time</span><span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">title</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">head</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">body</span><span style="color: #8c8c8c;">&gt;</span>
    &#29616;&#22312;&#26102;&#38388;&#26159;:
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">p</span> <span style="color: #61afef;">id</span>=<span style="color: #98be65;">"time_node"</span><span style="color: #8c8c8c;">&gt;</span>No time now<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">p</span><span style="color: #8c8c8c;">&gt;</span>
    <span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">button</span> <span style="color: #61afef;">id</span>=<span style="color: #98be65;">"time_button"</span><span style="color: #8c8c8c;">&gt;</span>&#21047;&#26032;&#26102;&#38388;<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">button</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">body</span><span style="color: #8c8c8c;">&gt;</span>
<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">html</span><span style="color: #8c8c8c;">&gt;</span>
</pre>
</div>

<p>
其次，添加样式，使用外部 css 文件 aaa.css:
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #61afef;">p </span><span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">color</span>: <span style="color: #ffffff; background-color: #ff0000;">red</span>;
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>
然后，添加交互逻辑，使用外部 JavaScript 文件 aaa.js:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">showTime</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    node_time.innerText = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #93a8c6;">()</span>;
<span style="color: #8c8c8c;">}</span>
node_button = showTime;
</pre>
</div>

<p>
最后，确保将 aaa.css 和 aaa.js 添加到 html 中。要注意添加的位置:
</p>
<div class="org-src-container">
<pre class="src src-html">...
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">link</span> <span style="color: #61afef;">rel</span>=<span style="color: #98be65;">"stylesheet"</span> <span style="color: #61afef;">href</span>=<span style="color: #98be65;">"hello.css"</span><span style="color: #8c8c8c;">&gt;</span>
...
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">src</span>=<span style="color: #98be65;">"hello.js"</span><span style="color: #8c8c8c;">&gt;&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
...
</pre>
</div>

<hr>

<p>
上述就是编写一个网页的基本流程。
</p>

<p>
将「样式」和「交互逻辑」从页面中 分离 出来，这样结构更加分明，
方便分工协作，而且有益于维护和重构。
</p>
</div>
</div>
</div>
</section>

<section id="outline-container-orgc5b3bef" class="outline-2">
<h2 id="orgc5b3bef"><span class="section-number-2">2</span> 概述</h2>
<div class="outline-text-2" id="text-2">
<p>
JavaScript 语法上特别像 Java，实质上更像 Scheme，另外它的基于原型 (prototype) 的对象系统，是来自于 Self。
</p>

<p>
JavaScript 网络第一语言:
</p>
<ul class="org-ul">
<li>定义数据的时候，不需要指定类型</li>
<li>是一门 <b>弱类型</b> 的语言</li>
<li>是一门 <b>动态类型</b> 的语言</li>
<li>一切都是变量！！！函数跟数据一样的地位，函数是一等公民 (First Class)</li>
<li>一切都是对象！！！</li>
</ul>


<div  class='mc11'>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">aaa</span> = 333;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">int aaa = 333;</span>

aaa = <span style="color: #98be65;">"hello"</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">java &#20250;&#25253;&#38169;</span>

print<span style="color: #8c8c8c;">(</span>aaa<span style="color: #8c8c8c;">)</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Java &#20250;&#30830;&#23450; aaa &#32943;&#23450;&#26159; int</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. &#21872;&#21990;</span>
<span style="color: #c678dd; font-weight: bold;">package</span> com.xxx.<span style="color: #da8548; font-weight: bold;">yyy</span>;
<span style="color: #c678dd; font-weight: bold;">public</span> <span style="color: #c678dd; font-weight: bold;">class</span> <span style="color: #61afef;">Asd</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">public</span> <span style="color: #61afef;">int</span> <span style="color: #61afef;">getAge</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">return</span> 18;
    <span style="color: #93a8c6;">}</span>
    <span style="color: #c678dd; font-weight: bold;">public</span> <span style="color: #c678dd; font-weight: bold;">static</span> <span style="color: #61afef;">void</span> <span style="color: #61afef;">main</span> <span style="color: #93a8c6;">(</span><span style="color: #61afef;">String</span>... <span style="color: #61afef;">arg</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #61afef;">int</span> <span style="color: #61afef;">aaa</span> = 1; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. &#24517;&#39035;&#25163;&#21160;&#25351;&#23450;&#31867;&#22411;&#65292;&#22914;&#26524;&#24573;&#30053;&#30452;&#25509;&#25253;&#38169;</span>
        aaa = <span style="color: #98be65;">"hello"</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3. &#24378;&#31867;&#22411;&#12289;&#38745;&#24577;&#31867;&#22411;</span>
        System.out.println<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"hello, world"</span><span style="color: #b0b1a3;">)</span>;

        <span style="color: #61afef;">Asd</span> <span style="color: #61afef;">asd</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Asd</span><span style="color: #b0b1a3;">()</span>;
        asd.getAge<span style="color: #b0b1a3;">()</span>;
        System.out.println<span style="color: #b0b1a3;">(</span>getAge<span style="color: #b0b1a3;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">error!</span>
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

</div>

<p>
函数是一等公民:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">aaa</span> = 1;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">zzz</span> = <span style="color: #98be65;">"hello world"</span>;
zzz = <span style="color: #98be65;">"&#20320;&#22909;&#65292;&#19990;&#30028;"</span>;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">bbb</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#25105;&#26159; bbb"</span><span style="color: #93a8c6;">)</span>;
    <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #98be65;">"hello"</span>;
<span style="color: #8c8c8c;">}</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var bbb = function bbb () {</span>
<span style="color: #687080; font-style: italic;">//     </span><span style="color: #687080; font-style: italic;">alert("&#25105;&#26159; bbb");</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">}</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">fff</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">f</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    f<span style="color: #93a8c6;">()</span>;
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#25105;&#25509;&#21463;&#30340;&#36825;&#20010;&#20989;&#25968;"</span> + f<span style="color: #b0b1a3;">()</span> + <span style="color: #98be65;">"&#30495;&#30340;&#22909;"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>

fff<span style="color: #8c8c8c;">(</span>bbb<span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var ccc = bbb;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var ddd = ccc;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var eee = ddd;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">eee();</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">alert(aaa);</span>
</pre>
</div>

<details class="details"> <summary class="detail-summary"> <span class="detail-title">执行步骤</span> </summary> <div class="detail-body"> <div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#39034;&#24207;&#25191;&#34892;&#65292;&#20174;&#19978;&#32780;&#19979;&#65292;&#20808; bbb &#23450;&#20041;&#65292;&#21518; fff &#23450;&#20041;&#65292;&#35843;&#29992; fff(bbb)</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. &#25105;&#35201;&#23450;&#20041;&#19968;&#20010;&#21517;&#23383;&#20026; bbb &#30340;&#20989;&#25968;&#12290;&#37324;&#38754;&#26159;&#20160;&#20040;&#25105;&#19981;&#30693;&#36947;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">bbb</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#25105;&#26159; bbb"</span><span style="color: #93a8c6;">)</span>;
    <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #98be65;">"hello"</span>;
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. &#25105;&#35201;&#23450;&#20041;&#19968;&#20010;&#21517;&#23383;&#20026; fff &#24102;&#19968;&#20010;&#21442;&#25968;&#30340;&#20989;&#25968;&#12290;&#37324;&#38754;&#26159;&#20160;&#20040;&#25105;&#19981;&#30693;&#36947;&#65292;&#25105;&#20063;&#19981;&#24819;&#30693;&#36947;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">fff</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">f</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    f<span style="color: #93a8c6;">()</span>;
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#25105;&#25509;&#21463;&#30340;&#36825;&#20010;&#20989;&#25968;"</span> + f<span style="color: #b0b1a3;">()</span> + <span style="color: #98be65;">"&#30495;&#30340;&#22909;"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3. &#35843;&#29992;&#21517;&#23383;&#20026; fff &#30340;&#20989;&#25968;&#65292;&#23558; bbb &#21890;&#32473;&#23427;</span>
fff<span style="color: #8c8c8c;">(</span>bbb<span style="color: #8c8c8c;">)</span>;
</pre>
</div>
 </div> </details>
</div>
</section>

<section id="outline-container-org36a0593" class="outline-2">
<h2 id="org36a0593"><span class="section-number-2">3</span> 变量 (Variable)</h2>
<div class="outline-text-2" id="text-3">
<p>
变量的的定义:
</p>
<ul class="org-ul">
<li>使用关键词 var (variable)</li>
<li>在 ES6 中，建议使用 let/const 定义变量和常量</li>
<li>变量实质上就是数据地址的一个别名</li>
<li>另一种说法，变量是数据的一个容器</li>
<li>让反复使用同一个数据，成为了可能</li>
</ul>

<p>
另外:
</p>
<ul class="org-ul">
<li>声明变量千万不要丢掉 var/let/const!!!</li>
<li>变量的名字，建议您一定要取得有意义</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 1;
alert<span style="color: #8c8c8c;">(</span>a<span style="color: #8c8c8c;">)</span>;   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">b</span>;
alert<span style="color: #8c8c8c;">(</span>b<span style="color: #8c8c8c;">)</span>;   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">undefined&#65292;&#22768;&#26126;&#20102;&#65292;&#20294;&#26159;&#27809;&#26377;&#36171;&#20540;</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21517;&#23383;&#35201;&#26377;&#24847;&#20041;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">shengao</span> = 1;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xs_xingm</span> = <span style="color: #98be65;">'lll'</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xsXingm</span> = <span style="color: #98be65;">'lll'</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21453;&#38754;&#20363;&#23376;:</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">ksdjksdjfksjdkfjsdlkjfksdjfkjalkfdjlksdajflkdsajlkfj</span> = 1;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">i</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">j</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xs</span>-skdfjskd = <span style="color: #98be65;">'kkk'</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22810;&#20010;&#36171;&#20540;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">i</span> = 1, <span style="color: #61afef;">j</span>, <span style="color: #61afef;">k</span> = 1;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">i</span> = j = k = 1;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#24555;&#25463;&#26041;&#24335;</span>
i = i + 1;
i++;
++i;
i = i - 1;
i--;
--i;
i = i + 2;
i += 2;
i /= 2;
i *= 2;
i -= 2;
</pre>
</div>
</div>

<div id="outline-container-orgb0d2862" class="outline-3">
<h3 id="orgb0d2862"><span class="section-number-3">3.1</span> 变量的声明的若干方式</h3>
<div class="outline-text-3" id="text-3-1">
<p>
第一种:
</p>
<div class="org-src-container">
<pre class="src src-js">a = 1;
</pre>
</div>

<p>
第二种:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 1;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span>;
a = 1;
</pre>
</div>

<p>
第三种:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">a</span> = 1;
a++;

<span style="color: #c678dd; font-weight: bold;">const</span> <span style="color: #61afef;">pi</span> = 3.142;
pi++;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Error!</span>
</pre>
</div>

<p>
小结:
</p>
<ul class="org-ul">
<li>勿用 1</li>
<li>优先级: const &gt; let &gt; var</li>
</ul>
</div>
</div>
</section>

<section id="outline-container-org3d5a5dc" class="outline-2">
<h2 id="org3d5a5dc"><span class="section-number-2">4</span> 类型 (Type)</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>原始类型 (Primitive Type): number/string/boolean/function/undefined</li>
<li>对象(Object): Array/Object/&#x2026;/null</li>
</ul>
</div>

<div id="outline-container-org1e1c821" class="outline-3">
<h3 id="org1e1c821"><span class="section-number-3">4.1</span> number</h3>
<div class="outline-text-3" id="text-4-1">
<p>
在 JS 中，number 表示一切数字，包括整数和浮点数。全都是 64 位。
</p>
</div>

<div id="outline-container-org8acbd90" class="outline-4">
<h4 id="org8acbd90"><span class="section-number-4">4.1.1</span> 声明</h4>
<div class="outline-text-4" id="text-4-1-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">int a = 1;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">number a = 1;</span>

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 1;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">b</span> = 1.2;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c</span> = 0.0000004;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">d</span> = 12323232323;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">f</span> = 0o12345;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">8 &#36827;&#21046;&#30340;&#34920;&#29616;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">e</span> = 0xffffff; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">16 &#36827;&#21046;&#30340;&#34920;&#29616;</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#29992;&#26469;&#26597;&#30475;&#20854;&#22522;&#26412;&#31867;&#22411;</span>
<span style="color: #c678dd; font-weight: bold;">typeof</span> a; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">"number"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgba6a3b4" class="outline-4">
<h4 id="orgba6a3b4"><span class="section-number-4">4.1.2</span> 运算</h4>
<div class="outline-text-4" id="text-4-1-2">
<ul class="org-ul">
<li>+ - x / %</li>
<li>around/ceil/floor</li>
<li>power/exp/sqrt</li>
<li>sin/cos/tan/log/ln</li>
<li>random</li>
</ul>
</div>
</div>

<div id="outline-container-orge06b926" class="outline-4">
<h4 id="orge06b926"><span class="section-number-4">4.1.3</span> NaN (Not a Number)</h4>
<div class="outline-text-4" id="text-4-1-3">
<ul class="org-ul">
<li>表示不是一个数字</li>
<li>跟其他数字进行数学计算的结果还是 NaN</li>
<li>NaN 本质是一个 Number 上的属性，它表示一个不可知数字</li>
</ul>

<p>
进行数学计算的顺序是:
</p>
<ol class="org-ol">
<li><p>
首先，将运算符两边的 <b>元素</b> 都强制转换为 Number，然后进行计算
</p>
<pre class="example">
'3' * '5a'
</pre></li>
<li>如果在转换时，有一个转换失败了，那么运算的结果直接是 NaN</li>
<li><p>
加法例外，只要做不了数学运算，就强制转换为字符串拼接
</p>
<pre class="example">
'3' + '5'
3 + '5'
</pre></li>
<li><p>
如果一个结果无法表示，那么结果也会被表示为 NaN
</p>
<pre class="example">
Math.sqrt(-1)
</pre></li>
</ol>

<p>
如果要判断某个变量是否为 NaN。这两个有什么区别:
</p>
<ul class="org-ul">
<li>isNaN()</li>
<li>Number.isNaN()</li>
</ul>
</div>
</div>

<div id="outline-container-orgd18fc50" class="outline-4">
<h4 id="orgd18fc50"><span class="section-number-4">4.1.4</span> Infinity</h4>
<div class="outline-text-4" id="text-4-1-4">
<pre class="example">
5 / 0
</pre>
</div>
</div>

<div id="outline-container-org928e0b3" class="outline-4">
<h4 id="org928e0b3"><span class="section-number-4">4.1.5</span> Number/parseInt/parseFloat</h4>
<div class="outline-text-4" id="text-4-1-5">
<p>
parseInt 和 parseFloat 只转化第一个无效字符之前的字符串:
</p>
<div class="org-src-container">
<pre class="src src-js">Number<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"123"</span><span style="color: #8c8c8c;">)</span>;      <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">123</span>
parseInt<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"123"</span><span style="color: #8c8c8c;">)</span>;    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">123</span>

Number<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"123abc"</span><span style="color: #8c8c8c;">)</span>;   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">NaN</span>
parseInt<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"123abc"</span><span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">123</span>

Number<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"abc123"</span><span style="color: #8c8c8c;">)</span>;   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">NaN</span>
parseInt<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"abc123"</span><span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">NaN</span>

Number<span style="color: #8c8c8c;">(</span><span style="color: #da8548; font-weight: bold;">null</span><span style="color: #8c8c8c;">)</span>;       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">0</span>
parseInt<span style="color: #8c8c8c;">(</span><span style="color: #da8548; font-weight: bold;">null</span><span style="color: #8c8c8c;">)</span>;     <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">NaN</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6bd49bc" class="outline-4">
<h4 id="org6bd49bc"><span class="section-number-4">4.1.6</span> 0.30000000000000004</h4>
<div class="outline-text-4" id="text-4-1-6">
<ul class="org-ul">
<li>浮点数计算偏差，典型的 \(0.1 + 0.2 \ne 0.3\)</li>
<li>如果存在过大的数，是不能使用 Number 来表示的；使用内置的对象 BigInt 可以解决之</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org8e359d1" class="outline-3">
<h3 id="org8e359d1"><span class="section-number-3">4.2</span> string</h3>
<div class="outline-text-3" id="text-4-2">
<p>
字符串的字面表达:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21452;&#24341;&#21495;&#12289;&#21333;&#24341;&#21495;&#65292;&#37117;&#26159;&#23383;&#31526;&#20018;</span>

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">b</span> = <span style="color: #98be65;">'&#23383;&#31526;&#20018;'</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c</span> = <span style="color: #98be65;">"&#23383;&#31526;&#20018;"</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c1</span> = &#8216;hello&#8217;; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#19981;&#33021;&#20351;&#29992;&#20013;&#25991;&#29366;&#24577;&#30340;&#24341;&#21495;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">d</span> = <span style="color: #98be65;">```&#27169;&#26495;&#23383;&#31526;&#20018;${c} ${c.length + 1}&#24456;&#22909;&#29992;```</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21487;&#20197;&#23884;&#20837;&#21464;&#37327;&#65307;&#21487;&#20197;&#22810;&#34892;</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25645;&#37197;&#20351;&#29992;&#65292;for your free</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var e = 'there're some body crying.'</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">e</span> = <span style="color: #98be65;">"there're some body crying."</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var f = "&#21452;&#21495; " &#26159;&#19968;&#20010;&#29992;&#26469;&#21253;&#25324;&#23383;&#31526;&#24418;&#25104;&#20018;&#30340;&#19968;&#31181;&#35821;&#27861;&#31526;&#21495;"</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">f</span> = <span style="color: #98be65;">'&#21452;&#21495; " &#26159;&#19968;&#20010;&#29992;&#26469;&#21253;&#25324;&#23383;&#31526;&#24418;&#25104;&#20018;&#30340;&#19968;&#31181;&#35821;&#27861;&#31526;&#21495;'</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var g = "&#21452;&#24341;&#21495; " &#26159;&#36825;&#26679;&#30340;&#65292;&#20294;&#26159; &#21333;&#24341;&#21495; ' &#26377;&#26159;&#36825;&#26679;&#30340;"</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36716;&#20041;&#23383;&#31526;&#26159;&#20320;&#30340;&#22909;&#26379;&#21451;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">h</span> = <span style="color: #98be65;">'\n\n\n\tffff\n'</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36716;&#20041;&#23383;&#31526;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">g</span> = <span style="color: #98be65;">"&#21452;&#24341;&#21495; \" &#26159;&#36825;&#26679;&#30340;&#65292;&#20294;&#26159; &#21333;&#24341;&#21495; \' &#26377;&#26159;&#36825;&#26679;&#30340;"</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">i</span> = <span style="color: #98be65;">'\\\''</span>
</pre>
</div>

<p>
因为字符串本身就是一个对象，所以它遵循对象的使用方式:
</p>
<pre class="example">
sss.length    // 属性
sss.charAt(1) // 方法
</pre>


<div class="org-src-container">
<pre class="src src-js"><span style="color: #98be65;">"Hello"</span>.charAt<span style="color: #8c8c8c;">(</span>1<span style="color: #8c8c8c;">)</span>             <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">'e'</span>
<span style="color: #98be65;">"hello"</span>.charCodeAt<span style="color: #8c8c8c;">(</span>1<span style="color: #8c8c8c;">)</span>         <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">101</span>

<span style="color: #98be65;">"Hello"</span>.concat<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">" world"</span><span style="color: #8c8c8c;">)</span>      <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36830;&#25509;: "Hello" + " World"</span>
d.getFullYear<span style="color: #8c8c8c;">()</span>.concat<span style="color: #8c8c8c;">(</span>d.getMonth<span style="color: #93a8c6;">()</span>.concat<span style="color: #93a8c6;">(</span>d.getDay<span style="color: #b0b1a3;">()</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#27491;&#21017;&#34920;&#36798;&#24335;</span>
<span style="color: #98be65;">"Hel000lo"</span>.match<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">/\d/</span><span style="color: #8c8c8c;">)</span>;       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36820;&#22238;&#31532;&#19968;&#20010;&#21305;&#37197;&#30340;&#39033;</span>
<span style="color: #98be65;">"Hel000lo"</span>.match<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">/\d/</span>g<span style="color: #8c8c8c;">)</span>;      <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36820;&#22238;&#25152;&#26377;&#21305;&#37197;&#30340;&#39033;</span>
<span style="color: #98be65;">"Hel000lo"</span>.search<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">/\d/</span><span style="color: #8c8c8c;">)</span>;      <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25628;&#32034;&#28385;&#36275;&#26465;&#20214;&#30340;&#24207;&#21495;</span>
<span style="color: #98be65;">"Hel lo"</span>.replace<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">/\s/</span>g, <span style="color: #98be65;">""</span><span style="color: #8c8c8c;">)</span>;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#27491;&#21017;&#26367;&#25442;</span>
<span style="color: #98be65;">"Hello"</span>.search<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"e"</span><span style="color: #8c8c8c;">)</span>;          <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25628;&#32034;&#12289;&#23547;&#25214;</span>
<span style="color: #98be65;">"Hello"</span>.replace<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"o"</span>, <span style="color: #98be65;">"O"</span><span style="color: #8c8c8c;">)</span>;    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21442;&#25968;&#21487;&#20197;&#26159;&#23383;&#31526;&#20018;&#65292;&#20063;&#21487;&#20197;&#26159;&#27491;&#21017;&#34920;&#36798;&#24335;&#23545;&#35937;</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25628;&#32034;&#12289;&#20301;&#32622;</span>
<span style="color: #98be65;">"Hello"</span>.startsWith<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'h'</span><span style="color: #8c8c8c;">)</span>       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">false</span>
<span style="color: #98be65;">"Hello"</span>.startsWith<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'H'</span><span style="color: #8c8c8c;">)</span>       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true &#26159;&#19981;&#26159;&#29992;&#20160;&#20040;&#24320;&#22987;</span>
<span style="color: #98be65;">"Hello"</span>.endsWith<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'lo'</span><span style="color: #8c8c8c;">)</span>        <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true &#26159;&#19981;&#26159;&#29992;&#20160;&#20040;&#32467;&#23614;</span>
<span style="color: #98be65;">"hello world"</span>.indexOf<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"world"</span><span style="color: #8c8c8c;">)</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">6&#65292;&#27880;&#24847;: (1) &#24207;&#21495;&#26159;&#20174; 0 &#24320;&#22987;&#30340; (2) &#22914;&#26524;&#19981;&#23384;&#22312;&#65292;&#36820;&#22238; -1 (3) &#22823;&#23567;&#20889;&#25935;&#24863;&#30340;</span>
<span style="color: #98be65;">"hello world"</span>.indexOf<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"World"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello wOrLd"</span>.toUpperCase<span style="color: #8c8c8c;">()</span>.indexOf<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"WORLD"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello wOrLd"</span>.toLowerCase<span style="color: #8c8c8c;">()</span>.indexOf<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"world"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello WoRLd"</span>.search<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">/world/</span>i<span style="color: #8c8c8c;">)</span>  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20351;&#29992; i &#26469;&#34920;&#31034;&#19981;&#32771;&#34385;&#22823;&#23567;&#20889;</span>
<span style="color: #98be65;">"hello world"</span>.includes<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"world"</span><span style="color: #8c8c8c;">)</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true, ES6</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23376;&#23383;&#31526;&#20018; (&#20102;&#35299;&#26377;&#20160;&#20040;&#21306;&#21035;)</span>
<span style="color: #98be65;">"hello world"</span>.substring<span style="color: #8c8c8c;">(</span>3<span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello world"</span>.substring<span style="color: #8c8c8c;">(</span>3, 5<span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello world"</span>.substring<span style="color: #8c8c8c;">(</span>3, -3<span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello world"</span>.substr<span style="color: #8c8c8c;">(</span>3<span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello world"</span>.substr<span style="color: #8c8c8c;">(</span>3, 1<span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello world"</span>.slice<span style="color: #8c8c8c;">()</span>       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21019;&#24314;&#19968;&#20010; s &#30340;&#21103;&#26412;</span>
<span style="color: #98be65;">"hello world"</span>.slice<span style="color: #8c8c8c;">(</span>3<span style="color: #8c8c8c;">)</span>      <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21482;&#26159;&#22797;&#21046;&#20174;&#31532; 3 &#20301;&#24320;&#22987;&#30340;&#23383;&#31526;&#20018;</span>
<span style="color: #98be65;">"hello world"</span>.slice<span style="color: #8c8c8c;">(</span>3, 5<span style="color: #8c8c8c;">)</span>   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20174;&#21738;&#20799;&#21040;&#21738;&#20799;&#65292;&#36827;&#34892;&#22797;&#21046;</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#34917;&#20805;&#12289;&#25130;&#26029;</span>
<span style="color: #98be65;">"hello"</span>.padStart<span style="color: #8c8c8c;">(</span>10<span style="color: #8c8c8c;">)</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#34917;&#40784;</span>
<span style="color: #98be65;">"hello"</span>.padStart<span style="color: #8c8c8c;">(</span>10, <span style="color: #98be65;">"-"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello"</span>.padEnd<span style="color: #8c8c8c;">(</span>10<span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">"hello"</span>.padEnd<span style="color: #8c8c8c;">(</span>10, <span style="color: #98be65;">"-"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">" hello    "</span>.trim<span style="color: #8c8c8c;">()</span>
<span style="color: #98be65;">" hello    "</span>.trimStart<span style="color: #8c8c8c;">()</span>
<span style="color: #98be65;">" hello    "</span>.trimEnd<span style="color: #8c8c8c;">()</span>

<span style="color: #98be65;">"x"</span>.repeat<span style="color: #8c8c8c;">(</span>1000<span style="color: #8c8c8c;">)</span>   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21019;&#24314;&#37325;&#22797;&#22810;&#23569;&#27425;&#30340;&#19968;&#20010;&#23383;&#31526;&#20018;</span>
</pre>
</div>

<p>
<code>+</code> 是一个重载 (overload) 的运算符:
</p>
<ul class="org-ul">
<li>在其中一个是字符串的时候，它表示字符串的拼接</li>
<li>如果两边都是 Number 的时候，它表示数学运算的加法</li>
</ul>
</div>
</div>

<div id="outline-container-org835c233" class="outline-3">
<h3 id="org835c233"><span class="section-number-3">4.3</span> boolean</h3>
<div class="outline-text-3" id="text-4-3">
<p>
用来配合 if/while 进行条件判断的，只有两个值:
</p>
<ul class="org-ul">
<li>true</li>
<li>false</li>
</ul>

<p>
布尔类型的运算:
</p>
<ul class="org-ul">
<li>否，! true</li>
<li>与，false &amp;&amp; true</li>
<li>或，false ||  true</li>
<li>搭配使用 false || (! true) || ((! true) &amp;&amp; (false || true))</li>
</ul>

<p>
创建 boolean 类型:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">b</span> = <span style="color: #da8548; font-weight: bold;">true</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c</span> = <span style="color: #da8548; font-weight: bold;">false</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">d</span> = !b;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">e</span> = b &amp;&amp; d;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36890;&#36807;&#36827;&#34892;&#21028;&#26029;&#65292;&#21487;&#20197;&#24471;&#21040;&#24067;&#23572;&#20540;</span>
2222 == 3333
2222 != 3333
2222 &gt; 3333
2222 &lt; 3333
2222 &lt;= 3333
<span style="color: #98be65;">'2222'</span> == <span style="color: #98be65;">'2222'</span>
<span style="color: #98be65;">'2222'</span>.length &gt; 3
<span style="color: #98be65;">'2222'</span>.includes<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'2'</span><span style="color: #8c8c8c;">)</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">JS &#26159;&#19968;&#38376;&#24369;&#31867;&#22411;&#30340;&#35821;&#35328;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21518;&#32493;&#20351;&#29992;&#30340;&#26102;&#20505;&#65292;&#35831;&#22823;&#23478;&#21153;&#24517;&#20248;&#20808;&#20351;&#29992; === &#36827;&#34892;&#21028;&#26029;</span>
2222 == <span style="color: #98be65;">'2222'</span>  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21482;&#27604;&#36739;&#20540;&#65292;&#19981;&#27604;&#36739;&#31867;&#22411;</span>
2222 === <span style="color: #98be65;">'2222'</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26082;&#27604;&#36739;&#31867;&#22411;&#65292;&#21448;&#27604;&#36739;&#20540;&#12290;&#30495;&#31561;</span>
2222 !== <span style="color: #98be65;">'2222'</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22914;&#26524;&#26465;&#20214;&#26159;&#20854;&#20182;&#31867;&#22411;&#30340;&#35805;&#65292;&#20250;&#24378;&#21046;&#36716;&#25442;&#20026; boolean &#31867;&#22411;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">- &#22914;&#26524;&#26159;&#25968;&#23383;&#65292;&#19988;&#20026; 0/NaN &#30340;&#35805;&#65292;&#20250;&#30475;&#20570; false&#65292;&#20854;&#20182; true</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">- &#22914;&#26524;&#26159;&#23383;&#31526;&#20018;&#65292;&#37027;&#20040;&#20026; "" &#30340;&#35805;&#65292;&#30475;&#20570; false</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">- &#22914;&#26524;&#31867;&#22411;&#26159; undefined&#65292;&#25110;&#32773;&#36171;&#20540;&#20026; null &#30340;&#35805;&#65292;&#30475;&#20570; false</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xxx</span> = <span style="color: #da8548; font-weight: bold;">null</span>;
<span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>xxx<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
   console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#23558; A &#24403;&#20316; true &#26469;&#30475;&#24453;"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #8c8c8c;">{</span>
   console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#23558; A &#24403;&#20316; false &#26469;&#30475;&#24453;"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>!xxx<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span> alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#23427;&#19981;&#26159; 0&#65292;&#23427;&#20063;&#19981;&#26159; ''&#65292;&#23427;&#19981;&#26159; null&#65292;&#23427;&#20063;&#19981;&#26159; undefined..."</span><span style="color: #93a8c6;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge208e92" class="outline-3">
<h3 id="orge208e92"><span class="section-number-3">4.4</span> function</h3>
<div class="outline-text-3" id="text-4-4">
</div>
<div id="outline-container-orgf8ad4a1" class="outline-4">
<h4 id="orgf8ad4a1"><span class="section-number-4">4.4.1</span> 基本的声明与使用</h4>
<div class="outline-text-4" id="text-4-4-1">
<p>
函数就是 <b>执行逻辑</b> 的一种封装。
</p>

<p>
数学中的函数:
\[
f(x) = x^3 + 2x^2 + 1
\]
</p>

<p>
类比之下，函数最重要的元素:
</p>
<ol class="org-ol">
<li>函数的名字（功能）</li>
<li>函数必须要有输入值 (输入参数，简称入参)</li>
<li>函数必须要有输出值 (输出值，又称返回值)</li>
</ol>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">mysum</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span><span style="color: #c678dd; font-weight: bold;">typeof</span> a === <span style="color: #98be65;">"string"</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        a = Number<span style="color: #b0b1a3;">(</span>a<span style="color: #b0b1a3;">)</span>
    <span style="color: #93a8c6;">}</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>isNaN<span style="color: #b0b1a3;">(</span>a<span style="color: #b0b1a3;">)</span> || isNaN<span style="color: #b0b1a3;">(</span>b<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"error! NaN"</span><span style="color: #b0b1a3;">)</span>;
        <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #da8548; font-weight: bold;">NaN</span>;
    <span style="color: #93a8c6;">}</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> a + b + b + b + b;
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hahaha"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">doNothing</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">'aaa'</span><span style="color: #93a8c6;">)</span>;
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">'bbb'</span><span style="color: #93a8c6;">)</span>;
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">return undefined;</span>
<span style="color: #8c8c8c;">}</span>

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">doNothing</span> = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hello"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> 1;
<span style="color: #8c8c8c;">}</span>

<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
    console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"woyebuzhidaowoshizale"</span><span style="color: #b0b1a3;">)</span>;
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)()</span>;

<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
    console.log<span style="color: #b0b1a3;">(</span>a + b<span style="color: #b0b1a3;">)</span>;
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)()</span>;

<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
    console.log<span style="color: #b0b1a3;">(</span>a + b<span style="color: #b0b1a3;">)</span>;
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)(</span>2, 3<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
举例说明:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22768;&#26126;&#20102;&#19968;&#20010;&#21464;&#37327;&#65292;&#20026; getBMI</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">getBMI &#20195;&#34920;&#20102;&#19968;&#27573;&#23553;&#35013;&#30340;&#36923;&#36753;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36825;&#27573;&#36923;&#36753; *&#25551;&#36848;&#20102;* &#22914;&#20309;&#21435;&#33719;&#21462; BMI</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36825;&#27573;&#20195;&#30721;&#19981;&#20250;&#34987;&#25191;&#34892;&#65292;&#20294;&#26159;&#34987;&#20445;&#23384;&#20026; getBMI &#30340;&#21517;&#23383;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#31561;&#21518;&#38754;&#65292;&#20986;&#29616; getBMI() &#24773;&#20917;&#30340;&#26102;&#20505;&#65292;&#25165;&#20250;&#35843;&#29992;&#37324;&#38754;&#30340;&#36923;&#36753;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36825;&#20010; getBMI &#23601;&#26159;&#19968;&#20010;&#20989;&#25968;</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20989;&#25968;&#21487;&#20197;&#30475;&#20570;&#19968;&#20010;&#40657;&#31665;&#23376;&#65292;&#20320;&#22914;&#26524;&#21482;&#26159;&#19968;&#20010;&#35843;&#29992;&#32773;&#65292;&#20320;&#19981;&#38656;&#35201;&#20851;&#24515;&#37324;&#38754;&#24590;&#20040;&#23454;&#29616;&#30340;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">getBMI</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. &#33719;&#21462;&#29992;&#25143;&#30340;&#36523;&#39640;&#12289;&#20307;&#37325;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. &#36827;&#34892;&#20102;&#19968;&#20123;&#21015;&#30340;&#36716;&#25442;&#21644;&#35745;&#31639;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3. &#24471;&#21040; BMI &#30340;&#32467;&#35770;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">4. &#36820;&#22238;&#32467;&#26524;</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hehe"</span><span style="color: #93a8c6;">)</span>;
    <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #98be65;">"ksdjfksd"</span>;
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">getBMI</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">h</span>, <span style="color: #61afef;">w</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. &#36827;&#34892;&#20102;&#19968;&#20123;&#21015;&#30340;&#36716;&#25442;&#21644;&#35745;&#31639;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3. &#24471;&#21040; BMI &#30340;&#32467;&#35770;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">4. &#36820;&#22238;&#32467;&#26524;</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hehe"</span><span style="color: #93a8c6;">)</span>;
    <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #98be65;">"ksdjfksd"</span>;
<span style="color: #8c8c8c;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org982c134" class="outline-4">
<h4 id="org982c134"><span class="section-number-4">4.4.2</span> 函数的定义</h4>
<div class="outline-text-4" id="text-4-4-2">
<p>
function -&gt; Function
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1, &#20256;&#32479;&#26041;&#24335;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">aaa</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #da8548; font-weight: bold;">this</span><span style="color: #93a8c6;">)</span>;       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">this: &#35841;&#35843;&#29992;&#30340;&#25105;</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #da8548; font-weight: bold;">arguments</span><span style="color: #93a8c6;">)</span>;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">arguments: &#25152;&#26377;&#20837;&#21442;&#26500;&#25104;&#30340;&#25968;&#32452;</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> a + b;
<span style="color: #8c8c8c;">}</span>
aaa<span style="color: #8c8c8c;">()</span>;
window.aaa<span style="color: #8c8c8c;">()</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2, &#21464;&#37327;&#26041;&#24335;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">aaa</span> = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> a + b;
<span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3, &#38754;&#21521;&#23545;&#35937;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">aaa</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Function</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"a"</span>, <span style="color: #98be65;">"b"</span>, <span style="color: #98be65;">"a + b"</span><span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">4, &#31661;&#22836;&#20989;&#25968; (&#31616;&#27905;+this)</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">aaa</span> = <span style="color: #8c8c8c;">(</span>a, b<span style="color: #8c8c8c;">)</span> =&gt; <span style="color: #8c8c8c;">{</span>
  <span style="color: #c678dd; font-weight: bold;">return</span> a + b;
<span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">aaa</span> = <span style="color: #8c8c8c;">(</span>a, b<span style="color: #8c8c8c;">)</span> =&gt; a + b;

aaa<span style="color: #8c8c8c;">(</span>2, 3<span style="color: #8c8c8c;">)</span>;     <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">this: window</span>
xxx.aaa<span style="color: #8c8c8c;">(</span>2, 3<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">this: xxx</span>
</pre>
</div>

<p>
Arguments:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">myAdd</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
  <span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">sum</span> = 0;
  <span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #93a8c6;">(</span><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">i</span> = 0; i &lt; <span style="color: #da8548; font-weight: bold;">arguments</span>.length; i++<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
    sum += <span style="color: #da8548; font-weight: bold;">arguments</span><span style="color: #b0b1a3;">[</span>i<span style="color: #b0b1a3;">]</span>;
  <span style="color: #93a8c6;">}</span>
  <span style="color: #c678dd; font-weight: bold;">return</span> sum;
<span style="color: #8c8c8c;">}</span>

myAdd<span style="color: #8c8c8c;">(</span>2, 3<span style="color: #8c8c8c;">)</span>;
myAdd<span style="color: #8c8c8c;">(</span>2, 3, 4, 6, 8<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
apply/call/bind 强行改变 function 内部 this 的值:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">p</span> = <span style="color: #8c8c8c;">{</span>
    x: 1
<span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">o</span> = <span style="color: #8c8c8c;">{</span>
    x: 2,
    <span style="color: #61afef;">a</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #da8548; font-weight: bold;">this</span>.x + a + b<span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>;

o.a<span style="color: #8c8c8c;">(</span>1, 1<span style="color: #8c8c8c;">)</span>;   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">4</span>

o.a.call<span style="color: #8c8c8c;">(</span>p, 1, 1<span style="color: #8c8c8c;">)</span>;    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3</span>
o.a.apply<span style="color: #8c8c8c;">(</span>p, <span style="color: #93a8c6;">[</span>1, 1<span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3</span>
o.a.bind<span style="color: #8c8c8c;">(</span>p, 1, 1<span style="color: #8c8c8c;">)()</span>   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">b</span> = o.a.bind<span style="color: #8c8c8c;">(</span>p, 1, 1<span style="color: #8c8c8c;">)</span>; b<span style="color: #8c8c8c;">()</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3</span>

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">b</span> = document.write; b<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"hello"</span><span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Error</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c</span> = document.write.bind<span style="color: #8c8c8c;">(</span>document<span style="color: #8c8c8c;">)</span>; c<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"hello"</span><span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">OK</span>
</pre>
</div>

<p>
古语有云:
</p>
<pre class="example" id="org7abc39f">
函数内部有 this，默认指向调用者
如果调用在顶层，this 的值是 window
强行指定 this 值，请你使用 apply/call/bind
</pre>
</div>
</div>

<div id="outline-container-org9ef1120" class="outline-4">
<h4 id="org9ef1120"><span class="section-number-4">4.4.3</span> 函数是一等公民 (回调函数)</h4>
<div class="outline-text-4" id="text-4-4-3">
<p>
函数作为另一个函数的参数的情况，叫回调函数。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23558;&#38169;&#35823;&#30340;&#36923;&#36753;&#65292;&#36319;&#20027;&#24178;&#36923;&#36753;&#25319;&#21512;&#22312;&#19968;&#36215;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20989;&#25968;&#30340;&#20195;&#30721;&#38750;&#24120;&#27515;&#26495;&#65292;&#32780;&#19988;&#19981;&#20415;&#20110;&#32500;&#25252;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22240;&#27492;&#65292;&#25105;&#20204;&#30340;&#24605;&#36335;&#26159;&#65292;&#23558;&#21487;&#20197;&#39057;&#32321;&#21464;&#21270;&#30340;&#38750;&#20027;&#35201;&#36923;&#36753;&#20998;&#31163;&#20986;&#21435;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20998;&#31163;&#30340;&#36884;&#24452;&#65292;&#23601;&#26159;&#23558;&#20854;&#36716;&#25442;&#20026; &#20837;&#21442;&#65292;&#22238;&#35843;&#20989;&#25968;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">mysum</span><span style="color: #8c8c8c;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>isNaN<span style="color: #b0b1a3;">(</span>a<span style="color: #b0b1a3;">)</span> || isNaN<span style="color: #b0b1a3;">(</span>b<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#20986;&#38169;&#20102;&#65292;&#19981;&#33021;&#26159; NaN &#21834;"</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #da8548; font-weight: bold;">null</span>;
    <span style="color: #93a8c6;">}</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> a + b;
<span style="color: #8c8c8c;">}</span>


<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">f &#26159;&#19968;&#20010;&#20989;&#25968;&#65292;&#23427;&#29992;&#26469;&#34920;&#31034;&#20986;&#38169;&#30340;&#26102;&#20505;&#30340;&#36923;&#36753;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36890;&#36807;&#22238;&#35843;&#20989;&#25968;&#23454;&#29616;&#20102;&#36923;&#36753;&#30340;&#20998;&#31163;&#65292;&#28789;&#27963;&#36890;&#36807;&#20256;&#21442;&#30340;&#26041;&#24335;&#36827;&#34892;&#35843;&#29992;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">mysum2</span><span style="color: #8c8c8c;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span>, <span style="color: #61afef;">f</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>isNaN<span style="color: #b0b1a3;">(</span>a<span style="color: #b0b1a3;">)</span> || isNaN<span style="color: #b0b1a3;">(</span>b<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">return</span> f<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#20986;&#38169;&#20102;&#65292;&#19981;&#33021;&#26159; NaN &#21834;"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #93a8c6;">}</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> a + b;
<span style="color: #8c8c8c;">}</span>
mysum2<span style="color: #8c8c8c;">(</span>1, <span style="color: #98be65;">'hello'</span>, console.log<span style="color: #8c8c8c;">)</span>


<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25105;&#20204;&#19968;&#33324;&#20250;&#20351;&#29992;&#65292;&#36171;&#20104;&#40664;&#35748;&#20540;&#30340;&#26041;&#24335;&#65292;&#26469;&#31616;&#21270;&#35843;&#29992;&#30340;&#26102;&#20505;&#21442;&#25968;&#36755;&#20837;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22768;&#26126;&#30340;&#20989;&#25968;&#65292;&#22914;&#26524;&#35843;&#29992;&#30340;&#26102;&#20505;&#65292;&#20256;&#20837;&#21442;&#25968;&#36807;&#23569;&#30340;&#26102;&#20505;&#65292;&#22810;&#20313;&#30340;&#20837;&#21442;&#23558;&#34987;&#36171;&#20540;&#20026; undefined</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">mysum3</span><span style="color: #8c8c8c;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span>, <span style="color: #61afef;">f</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">console.log("f &#30340;&#31867;&#22411;&#26159;", typeof f);</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>!f<span style="color: #93a8c6;">)</span> f = console.log;
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>isNaN<span style="color: #b0b1a3;">(</span>a<span style="color: #b0b1a3;">)</span> || isNaN<span style="color: #b0b1a3;">(</span>b<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">return</span> f<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#20986;&#38169;&#20102;&#65292;&#19981;&#33021;&#26159; NaN &#21834;"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #93a8c6;">}</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> a + b;
<span style="color: #8c8c8c;">}</span>
mysum3<span style="color: #8c8c8c;">(</span>1, <span style="color: #98be65;">'hello'</span><span style="color: #8c8c8c;">)</span>;        <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">f &#26159; undefined&#65292;&#25152;&#20197;&#22312;&#20989;&#25968;&#20869;&#37096;&#65292;&#20351;&#29992; console.log &#26367;&#20195;&#20102;&#23427;</span>
mysum3<span style="color: #8c8c8c;">(</span>1, <span style="color: #98be65;">'hello'</span>, alert<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">f &#26159; alert</span>
</pre>
</div>

<p>
借助函数参数，进行链式处理:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">chuli</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">a</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #93a8c6;">(</span><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">i</span> = 1; i &lt; <span style="color: #da8548; font-weight: bold;">arguments</span>.length; i++<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        a = <span style="color: #da8548; font-weight: bold;">arguments</span><span style="color: #b0b1a3;">[</span>i<span style="color: #b0b1a3;">](</span>a<span style="color: #b0b1a3;">)</span>;
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #da8548; font-weight: bold;">arguments</span><span style="color: #97b098;">[</span>i<span style="color: #97b098;">]</span> + <span style="color: #98be65;">": "</span> + a<span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> a;
<span style="color: #8c8c8c;">}</span>

<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">jia2</span> = x =&gt; x + 2; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">let jia2 = function (hello) { return hello + 2 }</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">cheng3</span> = x =&gt; x * 3;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">pingfang</span> = x =&gt; x * x;

chuli<span style="color: #8c8c8c;">(</span>3, jia2, cheng3, <span style="color: #93a8c6;">(</span>x<span style="color: #93a8c6;">)</span> =&gt; x - 5, x =&gt; x*x*x*x, pingfang<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<ul class="org-ul">
<li>Callback Hell</li>
</ul>
</div>
</div>

<div id="outline-container-org4f78780" class="outline-4">
<h4 id="org4f78780"><span class="section-number-4">4.4.4</span> 递归函数</h4>
<div class="outline-text-4" id="text-4-4-4">
<p>
不断调用自己，千层套娃:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">rec</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hello"</span><span style="color: #93a8c6;">)</span>;
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>Math.random<span style="color: #b0b1a3;">()</span> &gt; 0.999<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">return</span>;
    <span style="color: #93a8c6;">}</span>
    rec<span style="color: #93a8c6;">()</span>;
<span style="color: #8c8c8c;">}</span>
rec<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<p>
计算从 0 到 1000 的和，不使用循环:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">s</span><span style="color: #8c8c8c;">(</span><span style="color: #61afef;">i</span><span style="color: #8c8c8c;">){</span>
    <span style="color: #c678dd; font-weight: bold;">if</span><span style="color: #93a8c6;">(</span>i == 1<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> 1; <span style="color: #93a8c6;">}</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">if(i == 2) { return 3; }</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> i + s<span style="color: #93a8c6;">(</span>i - 1<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
s<span style="color: #8c8c8c;">(</span>1000<span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#35299;&#26512; s(10) &#30340;&#22522;&#26412;&#35745;&#31639;&#27493;&#39588;:</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">return 10 + s(9)</span>
<span style="color: #687080; font-style: italic;">//             </span><span style="color: #687080; font-style: italic;">9 + s(8)</span>
<span style="color: #687080; font-style: italic;">//                 </span><span style="color: #687080; font-style: italic;">8 + s(7)</span>
<span style="color: #687080; font-style: italic;">//                     </span><span style="color: #687080; font-style: italic;">7 + s(6)</span>
<span style="color: #687080; font-style: italic;">//                         </span><span style="color: #687080; font-style: italic;">6 + s(5)</span>
<span style="color: #687080; font-style: italic;">//                             </span><span style="color: #687080; font-style: italic;">5 + s(4)</span>
<span style="color: #687080; font-style: italic;">//                                 </span><span style="color: #687080; font-style: italic;">4 + s(3)</span>
<span style="color: #687080; font-style: italic;">//                                     </span><span style="color: #687080; font-style: italic;">3 + s(2)</span>
<span style="color: #687080; font-style: italic;">//                                         </span><span style="color: #687080; font-style: italic;">2 + s(1)</span>
<span style="color: #687080; font-style: italic;">//                                             </span><span style="color: #687080; font-style: italic;">1</span>
<span style="color: #687080; font-style: italic;">//                                         </span><span style="color: #687080; font-style: italic;">3</span>
<span style="color: #687080; font-style: italic;">//                                     </span><span style="color: #687080; font-style: italic;">6</span>
<span style="color: #687080; font-style: italic;">//                                 </span><span style="color: #687080; font-style: italic;">10</span>
<span style="color: #687080; font-style: italic;">//                             </span><span style="color: #687080; font-style: italic;">15</span>
<span style="color: #687080; font-style: italic;">//                         </span><span style="color: #687080; font-style: italic;">21</span>
<span style="color: #687080; font-style: italic;">//                     </span><span style="color: #687080; font-style: italic;">28</span>
<span style="color: #687080; font-style: italic;">//                 </span><span style="color: #687080; font-style: italic;">36</span>
<span style="color: #687080; font-style: italic;">//             </span><span style="color: #687080; font-style: italic;">45</span>
<span style="color: #687080; font-style: italic;">//         </span><span style="color: #687080; font-style: italic;">55</span>
<span style="color: #687080; font-style: italic;">/// </span><span style="color: #687080; font-style: italic;">10 + 9 + 8 + 7 + 6 + 5 + 4 + 3 + 2 + 1</span>
</pre>
</div>

<p>
关于递归:
</p>
<ul class="org-ul">
<li>它是计算机进行计算更加本质的一种行为</li>
<li>它可以完全替换掉循环语句</li>
<li>烧脑，不够直观</li>
<li>烧内存，爆栈。没有递归做进一步优化，尾递归优化</li>
<li>递归必须要有边界条件 ！！！</li>
</ul>
</div>
</div>

<div id="outline-container-orgc73eb49" class="outline-4">
<h4 id="orgc73eb49"><span class="section-number-4">4.4.5</span> 变量的提升 (var)</h4>
<div class="outline-text-4" id="text-4-4-5">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">aaa</span>;

console.log<span style="color: #8c8c8c;">(</span>a<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">undefined</span>
a = 1000; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var a = 1000;</span>

bbb<span style="color: #8c8c8c;">()</span>;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">bbb</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#29616;&#22312;&#21602;?"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>

aaa<span style="color: #8c8c8c;">()</span>;

aaa = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">'&#37027;&#29616;&#22312;&#21602;?'</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde19667" class="outline-4">
<h4 id="orgde19667"><span class="section-number-4">4.4.6</span> 变量的作用域 (var)</h4>
<div class="outline-text-4" id="text-4-4-6">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 9;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">x</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 10;
    console.log<span style="color: #93a8c6;">(</span>a<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
x<span style="color: #8c8c8c;">()</span>;

console.log<span style="color: #8c8c8c;">(</span>a<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 9;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">x</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span>a<span style="color: #93a8c6;">)</span>;
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 10;

    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var a;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">console.log(a);</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">a = 10;</span>
<span style="color: #8c8c8c;">}</span>
x<span style="color: #8c8c8c;">()</span>;

console.log<span style="color: #8c8c8c;">(</span>a<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 9;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">x</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 10;
    console.log<span style="color: #93a8c6;">(</span>a<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
x<span style="color: #8c8c8c;">()</span>;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">y</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span>a<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
y<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 9;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">x</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 10;
    console.log<span style="color: #93a8c6;">(</span>a<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
x<span style="color: #8c8c8c;">()</span>;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">y</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span>a<span style="color: #93a8c6;">)</span>;
    a = 22
<span style="color: #8c8c8c;">}</span>
y<span style="color: #8c8c8c;">()</span>;
console.log<span style="color: #8c8c8c;">(</span>a<span style="color: #8c8c8c;">)</span>;
x<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">z</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span>a<span style="color: #93a8c6;">)</span>;
    a = 33;
<span style="color: #8c8c8c;">}</span>
z<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">z</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    a = 33;
    console.log<span style="color: #93a8c6;">(</span>a<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
z<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">z</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    a = 33;
    console.log<span style="color: #93a8c6;">(</span>a<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
z<span style="color: #8c8c8c;">()</span>;
console.log<span style="color: #8c8c8c;">(</span>a<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">z</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #93a8c6;">(</span><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">i</span> = 1; i &lt; 10; i++<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #687080; font-style: italic;">//</span><span style="color: #687080; font-style: italic;">...</span>
    <span style="color: #93a8c6;">}</span>
    console.log<span style="color: #93a8c6;">(</span>i<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
z<span style="color: #8c8c8c;">()</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">console.log(i);</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">z</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">i</span> = 999;
    <span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #93a8c6;">(</span><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">i</span> = 1; i &lt; 10; i++<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #687080; font-style: italic;">//</span><span style="color: #687080; font-style: italic;">...</span>
    <span style="color: #93a8c6;">}</span>
    console.log<span style="color: #93a8c6;">(</span>i<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
z<span style="color: #8c8c8c;">()</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">console.log(i);</span>
</pre>
</div>

<ul class="org-ul">
<li>使用 var 定义的变量，它是有作用范围的。默认的范围是函数级别</li>
<li>优先使用 const/let</li>
</ul>
</div>
</div>

<div id="outline-container-orgf204ba5" class="outline-4">
<h4 id="orgf204ba5"><span class="section-number-4">4.4.7</span> ES6 提出了两个进行变量定义的关键词 let/const</h4>
<div class="outline-text-4" id="text-4-4-7">
<p>
区别:
</p>
<ul class="org-ul">
<li>块级别的作用域</li>
<li>优先使用 const，在数据需要修改的时候，使用 let，迫不得已 var</li>
<li>千万不能忘掉 var 的原理跟使用方式，因为面试需要</li>
</ul>

<p>
举例，Java 中的块级作用域:
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">int</span> <span style="color: #61afef;">i</span> = 0; i &lt; 11; i++<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    System.out.print<span style="color: #93a8c6;">(</span>i<span style="color: #93a8c6;">)</span>;
    <span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #93a8c6;">(</span><span style="color: #61afef;">int</span> <span style="color: #61afef;">j</span> = 0; j &lt; 11; j++<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        System.out.print<span style="color: #b0b1a3;">(</span>j<span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
    System.out.print<span style="color: #93a8c6;">(</span>j<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
System.out.print<span style="color: #8c8c8c;">(</span>i<span style="color: #8c8c8c;">)</span>;

<span style="color: #8c8c8c;">{</span>
    <span style="color: #61afef;">int</span> <span style="color: #61afef;">iii</span> = 222;
<span style="color: #8c8c8c;">}</span>
System.out.print<span style="color: #8c8c8c;">(</span>iii<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
let 使用的是块级作用域，它可以完全避免 var 带来的一些列问题:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">z</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #93a8c6;">(</span><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">i</span> = 1; i &lt; 10; i++<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
    <span style="color: #93a8c6;">}</span>
    console.log<span style="color: #93a8c6;">(</span>i<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
z<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<p>
const 是初始化之后，不能再重新赋值的 <b>常量</b>:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">const</span> <span style="color: #61afef;">a</span> = 1;
a = 2;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25253;&#38169;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbac46d7" class="outline-4">
<h4 id="orgbac46d7"><span class="section-number-4">4.4.8</span> 词法作用域 (Lexical Scope)</h4>
<div class="outline-text-4" id="text-4-4-8">
<p>
即静态绑定。
</p>

<p>
函数使用的自由变量 (引用到外部的变量)，在定义的时候就开始绑定了。
比如，下面的例子，函数 hello 中的 a 在 hello 声明的时候就绑定了外层的 a (即 'Dog')。
</p>

<p>
词法作用域的好处是:
</p>
<ul class="org-ul">
<li>函数定义时绑定了某个变量，后面就不会发生变化</li>
<li>便于理解、便于调试，不容易出错</li>
</ul>

<p>
基本现在所有的语言都是基于词法作用域的。
</p>

<p>
青梅竹马胜过千军万马:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = <span style="color: #98be65;">'Dog'</span>;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">hello</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hello, "</span> + a<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
a = <span style="color: #98be65;">"Sheep"</span>;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">test</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = <span style="color: #98be65;">'Cat'</span>;
    hello<span style="color: #93a8c6;">()</span>;
<span style="color: #8c8c8c;">}</span>

test<span style="color: #8c8c8c;">()</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d03ff1" class="outline-4">
<h4 id="org1d03ff1"><span class="section-number-4">4.4.9</span> 闭包 (Closure)</h4>
<div class="outline-text-4" id="text-4-4-9">
<p>
闭包的根源是 <b>词法作用域</b>！
</p>


<p>
主要目的:
</p>
<ul class="org-ul">
<li>为了保护变量，不被外部修改</li>
<li>为了使数据在内存中驻留</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">aaa</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">name</span> = <span style="color: #98be65;">"tom"</span>;
    console.log<span style="color: #93a8c6;">(</span>name<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
aaa<span style="color: #8c8c8c;">()</span>;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">aaa</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">name</span> = <span style="color: #98be65;">"tom"</span>;
    <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">inner</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
        console.log<span style="color: #b0b1a3;">(</span>name<span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> inner;
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">inner_fun</span> = aaa<span style="color: #8c8c8c;">()</span>;
inner_fun<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<p>
举个例子:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20256;&#32479;&#23454;&#29616;:</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">count &#26159;&#26292;&#38706;&#30340;&#65292;&#21487;&#33021;&#34987;&#31713;&#25913;&#30340;&#65292;&#26159;&#38750;&#24120;&#19981;&#23433;&#20840;&#30340;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">count</span> = 1;
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">incrCount</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#26377;&#19968;&#20010;..."</span><span style="color: #93a8c6;">)</span>;
    <span style="color: #c678dd; font-weight: bold;">return</span> count++;
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20351;&#29992;&#38381;&#21253;&#23454;&#29616;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. &#20445;&#25252; count &#30340;&#23433;&#20840;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. &#33021;&#22815;&#30830;&#20445; count &#22312;&#20989;&#25968;&#35843;&#29992;&#20043;&#21518;&#20250;&#19968;&#30452;&#23384;&#22312;&#65292;&#19981;&#20250;&#34987;&#37322;&#25918;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">Counter</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">count1</span> = 1;
    <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">incr</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">return</span> ++count1;
    <span style="color: #93a8c6;">}</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> incr;
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c</span> = Counter<span style="color: #8c8c8c;">()</span>;
c<span style="color: #8c8c8c;">()</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36827;&#19968;&#27493;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">Counter</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">count</span> = 0;
    <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #61afef;">incr</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span>
            <span style="color: #c678dd; font-weight: bold;">return</span> ++count;
        <span style="color: #b0b1a3;">}</span>,
        <span style="color: #61afef;">get</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span>
            <span style="color: #c678dd; font-weight: bold;">return</span> count
        <span style="color: #b0b1a3;">}</span>,
        <span style="color: #61afef;">reset</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span>
            count = 0;
            <span style="color: #c678dd; font-weight: bold;">return</span> count;
        <span style="color: #b0b1a3;">}</span>,
        <span style="color: #61afef;">derc</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span>
            <span style="color: #c678dd; font-weight: bold;">return</span> --count;
        <span style="color: #b0b1a3;">}</span>
    <span style="color: #93a8c6;">}</span>;
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c</span> = Counter<span style="color: #8c8c8c;">()</span>;
c.incr<span style="color: #8c8c8c;">()</span>;
c.incr<span style="color: #8c8c8c;">()</span>;
c.decr<span style="color: #8c8c8c;">()</span>;
c.get<span style="color: #8c8c8c;">()</span>;
c.reset<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<p>
另外，了解:
</p>
<ul class="org-ul">
<li>闭包可能会引发内存泄漏的问题 [小问题]</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org68f1482" class="outline-3">
<h3 id="org68f1482"><span class="section-number-3">4.5</span> undefined (null is not a type)</h3>
<div class="outline-text-3" id="text-4-5">
<ul class="org-ul">
<li>undefined 表示的是变量已经声明，但是没有赋值！</li>
<li>null 不是一种类型，而是一个 <b>object</b> 对象，它表示将某个变量置空</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">aaaaa</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">bbbbb</span> = <span style="color: #da8548; font-weight: bold;">null</span>;
<span style="color: #c678dd; font-weight: bold;">typeof</span> aaaaa; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#31867;&#22411;&#20026; undefined; &#20540;&#26159; undefined</span>
<span style="color: #c678dd; font-weight: bold;">typeof</span> bbbbb; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#31867;&#22411;&#20026; object; &#20540;&#26159; null</span>
</pre>
</div>


<figure id="org989223f">
<img src="img/undefined-vs-null.png" alt="undefined-vs-null.png">

</figure>
</div>
</div>

<div id="outline-container-org3bcd342" class="outline-3">
<h3 id="org3bcd342"><span class="section-number-3">4.6</span> Object</h3>
<div class="outline-text-3" id="text-4-6">
</div>
<div id="outline-container-org9535300" class="outline-4">
<h4 id="org9535300"><span class="section-number-4">4.6.1</span> 封装</h4>
<div class="outline-text-4" id="text-4-6-1">
<p>
Array 是一种集合:
</p>
<ul class="org-ul">
<li>表述简单 [xx, yy, zz]</li>
<li>使用简单 xx[1,3,4] 以数字下标的方式访问 顺序</li>
<li>缺点: arr[102]</li>
</ul>

<p>
Object 也是一种集合:
</p>
<ul class="org-ul">
<li>下标再也不是数字，而是字符串了</li>
</ul>

<p>
对象的基本表述:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">arr</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Array</span><span style="color: #8c8c8c;">()</span>;
arr<span style="color: #8c8c8c;">[</span>1<span style="color: #8c8c8c;">]</span> = <span style="color: #98be65;">'tom'</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">arr</span> = <span style="color: #8c8c8c;">[</span>1, 2, 3 ,5, <span style="color: #98be65;">'laohu'</span><span style="color: #8c8c8c;">]</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">var arr = { 0:1, 1:2, 2:3, 3:5, 4:'laohu' };</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Key-Value &#38190;-&#20540;</span>

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">obj</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Object</span><span style="color: #8c8c8c;">()</span>;
obj<span style="color: #8c8c8c;">[</span><span style="color: #98be65;">'name'</span><span style="color: #8c8c8c;">]</span> = <span style="color: #98be65;">'tom'</span>;
obj.age = 123;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">obj</span> = <span style="color: #8c8c8c;">{</span> <span style="color: #98be65;">"name"</span>: <span style="color: #98be65;">'tom'</span>, <span style="color: #98be65;">"age"</span>, 123  <span style="color: #8c8c8c;">}</span>;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">obj</span> = <span style="color: #8c8c8c;">{</span>
    <span style="color: #98be65;">"name"</span>: <span style="color: #98be65;">'tom'</span>,
    <span style="color: #98be65;">"age"</span>: 123,
    <span style="color: #98be65;">"greet"</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> alert<span style="color: #b0b1a3;">(</span>222<span style="color: #b0b1a3;">)</span> <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">obj</span> = <span style="color: #8c8c8c;">{</span>
    name: <span style="color: #98be65;">'tom'</span>,
    age: 123,
    <span style="color: #61afef;">greet</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> alert<span style="color: #b0b1a3;">(</span>222<span style="color: #b0b1a3;">)</span> <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#35775;&#38382;</span>
console.log<span style="color: #8c8c8c;">(</span>obj.name<span style="color: #8c8c8c;">)</span>;
alert<span style="color: #8c8c8c;">(</span>obj.age<span style="color: #8c8c8c;">)</span>;
alert<span style="color: #8c8c8c;">(</span>obj<span style="color: #93a8c6;">[</span><span style="color: #98be65;">"age"</span><span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>;
obj.greet<span style="color: #8c8c8c;">()</span>;  <span style="color: #687080; font-style: italic;">/// </span><span style="color: #687080; font-style: italic;">obj["greet"]()</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36171;&#20540;&#12289;&#28155;&#21152;&#26032;&#30340;&#20803;&#32032;</span>
obj.age = obj.age + 1;
obj.age++;
obj.school = <span style="color: #98be65;">'nfit'</span>;
</pre>
</div>

<p>
Java 中创建对象方式 [参考]:
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #c678dd; font-weight: bold;">public</span> <span style="color: #c678dd; font-weight: bold;">class</span> <span style="color: #61afef;">Person</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">public</span> <span style="color: #61afef;">void</span> <span style="color: #61afef;">eat</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{}</span>
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#39318;&#20808;&#65292;&#38656;&#35201;&#21019;&#24314;&#19968;&#20010;&#31867;</span>
<span style="color: #c678dd; font-weight: bold;">public</span> <span style="color: #c678dd; font-weight: bold;">class</span> <span style="color: #61afef;">Student</span> <span style="color: #c678dd; font-weight: bold;">extends</span> <span style="color: #61afef;">Person</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">public</span> <span style="color: #61afef;">String</span> <span style="color: #61afef;">name</span>;
    <span style="color: #c678dd; font-weight: bold;">public</span> <span style="color: #61afef;">String</span> <span style="color: #61afef;">age</span>;

    <span style="color: #c678dd; font-weight: bold;">public</span> <span style="color: #61afef;">void</span> <span style="color: #61afef;">greet</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
        System.out.println<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"hello "</span> + <span style="color: #c678dd; font-weight: bold;">this</span>.name<span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25509;&#19979;&#26469;&#65292;&#23454;&#20363;&#21270;</span>
<span style="color: #61afef;">Student</span> <span style="color: #61afef;">xiaoming</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Student</span><span style="color: #8c8c8c;">()</span>;
xiaoming.eat<span style="color: #8c8c8c;">()</span>;

</pre>
</div>
</div>
</div>

<div id="outline-container-org24c85dc" class="outline-4">
<h4 id="org24c85dc"><span class="section-number-4">4.6.2</span> 继承 (基于原型链)</h4>
<div class="outline-text-4" id="text-4-6-2">
<p>
JS 中，基于原型链的继承:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">animal</span> = <span style="color: #8c8c8c;">{</span>
    <span style="color: #61afef;">play</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"ooOOoooo..."</span><span style="color: #b0b1a3;">)</span> <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">person</span> = <span style="color: #8c8c8c;">{</span>
    <span style="color: #61afef;">eat</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">'&#19968;&#23450;&#35201;&#21507;&#39281;&#21834;'</span><span style="color: #b0b1a3;">)</span> <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaoming</span> = <span style="color: #8c8c8c;">{</span>
    name: <span style="color: #98be65;">"xiaoming"</span>,
    age: 22
<span style="color: #8c8c8c;">}</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">prototype (&#21407;&#22411;&#65292;&#29240;&#29240;) &#26159;&#36890;&#36807; __proto__ &#23646;&#24615;&#25351;&#23450;&#30340;!</span>
xiaoming.__proto__ = person;
person.__proto__ = animal;
animal.__proto__ = Object;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21487;&#20197;&#21160;&#24577;&#25913;&#21464;&#26576;&#20010; object &#30340;&#29240;&#29240;:</span>
xiaoming.__proto__ = animal;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25442;&#23436;&#29240;&#29240;&#20043;&#21518;&#65292;&#19979;&#38754;&#30340;&#25191;&#34892;&#23601;&#20250;&#25253;&#38169;</span>
xiaoming.eat<span style="color: #8c8c8c;">()</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21487;&#20197;&#38543;&#26102;&#23558;&#29240;&#29240;&#25442;&#22238;&#26469;</span>
xiaoming.__proto__ = person;
xiaoming.eat<span style="color: #8c8c8c;">()</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">ok</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25105;&#20204;&#21487;&#20197;&#38543;&#26102;&#22312;&#20219;&#20309;&#30340; object &#19978;&#28155;&#21152;&#23646;&#24615;&#12289;&#26041;&#27861;:</span>
person.study = <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span> console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">'hello, xuexi'</span><span style="color: #93a8c6;">)</span>; <span style="color: #8c8c8c;">}</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#28982;&#21518;&#65292;study &#23601;&#20250;&#34987; xiaoming &#32473;&#32487;&#25215;</span>
xiaoming.study<span style="color: #8c8c8c;">()</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25152;&#20197;&#65292;JS &#20013;&#65292;&#26041;&#27861;&#12289;&#23646;&#24615;&#30340;&#35843;&#29992;&#65292;&#23601;&#26159;&#19981;&#26029;&#25214;&#29240;&#29240;&#30340;&#36807;&#31243;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#39318;&#20808;&#26597;&#30475;&#33258;&#36523;&#23545;&#35937;&#26377;&#27809;&#26377;&#30456;&#24212;&#30340;&#23646;&#24615;&#26041;&#27861;&#65292;&#22914;&#26524;&#26377;&#65292;&#21017;&#36820;&#22238;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22914;&#26524;&#27809;&#26377;&#65292;&#36890;&#36807; __proto__ &#21435;&#23547;&#25214;&#20854;&#29238;&#65292;&#28982;&#21518;&#26597;&#30475;&#20854;&#29238;&#26377;&#27809;&#26377;&#36825;&#20010;&#23646;&#24615;&#26041;&#27861;&#65292;&#26377;&#21017;&#36820;&#22238;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22914;&#26524;&#27809;&#26377;&#65292;&#27589;&#31181;&#24490;&#29615;&#65292;&#30693;&#36947;&#25214;&#21040;&#22836;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#39034;&#24207;:</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. xiaoming.xxx()</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. xiaoming.__proto__.xxx() / person.xxx()</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3. xiaoming.__proto__.__proto__.xxx() / animal.xxx()</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">4. xiaoming.__proto__.__proto__.__proto__.xxx() / Object.xxx()</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">5. &#22914;&#26524;&#20877;&#25214;&#19981;&#21040;&#65292;&#37027;&#23601;&#21482;&#33021;&#25253;&#38169;&#20102;</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36825;&#26679;&#19968;&#31181;&#26041;&#24335;&#65292;&#23601;&#26159;&#22522;&#20110;&#21407;&#22411;&#38142;&#30340;&#23545;&#35937;&#27169;&#22411;&#12290;(Prototype-Based OOP)</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#31616;&#21333;&#12289;&#31895;&#26292;&#12289;&#38750;&#24120;&#38750;&#24120;&#28789;&#27963;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Self/Lua &#37117;&#26159;&#22522;&#20110;&#21407;&#22411;&#38142;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6486ad4" class="outline-4">
<h4 id="org6486ad4"><span class="section-number-4">4.6.3</span> 使用构造函数，简化对象的创建</h4>
<div class="outline-text-4" id="text-4-6-3">
<p>
如果想构建结果类似的 object 数据，普通的写法有点罗嗦:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">person</span> = <span style="color: #8c8c8c;">{</span>
    <span style="color: #61afef;">eat</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#26159;&#37240;&#30340;"</span><span style="color: #b0b1a3;">)</span>; <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#19968;&#20010;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">tom</span> = <span style="color: #8c8c8c;">{</span>
    name: <span style="color: #98be65;">"tom"</span>,
    age: 18,
    <span style="color: #61afef;">lol</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#24536;&#20046;&#25152;&#20197;"</span><span style="color: #b0b1a3;">)</span> <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
tom.__proto__ = person;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#19968;&#20010;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaoming</span> = <span style="color: #8c8c8c;">{</span>
    name: <span style="color: #98be65;">"xiaoming"</span>,
    age: 19,
    <span style="color: #61afef;">lol</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#24536;&#20046;&#25152;&#20197;"</span><span style="color: #b0b1a3;">)</span> <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
xiaoming.__proto__ = person;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21448;&#19968;&#20010;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaohong</span> = <span style="color: #8c8c8c;">{</span>
    name: <span style="color: #98be65;">"xiaohong"</span>,
    age: 16,
    <span style="color: #61afef;">lol</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#24536;&#20046;&#25152;&#20197;"</span><span style="color: #b0b1a3;">)</span> <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
xiaohong.__proto__ = person;
</pre>
</div>

<p>
为了让事情变得简化，我们可以写一个函数来帮助我们创建新对象，即使用函数消除冗余:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">person</span> = <span style="color: #8c8c8c;">{</span>
    <span style="color: #61afef;">eat</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#26159;&#37240;&#30340;"</span><span style="color: #b0b1a3;">)</span>; <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">createStudent</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">name</span>, <span style="color: #61afef;">age</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">s</span> = <span style="color: #93a8c6;">{</span>
        name: name,
        age: age,
        <span style="color: #61afef;">lol</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span> console.log<span style="color: #97b098;">(</span><span style="color: #98be65;">'&#22909;&#29609;'</span><span style="color: #97b098;">)</span> <span style="color: #b0b1a3;">}</span>
    <span style="color: #93a8c6;">}</span>;
    s.__proto__ = person;
    <span style="color: #c678dd; font-weight: bold;">return</span> s;
<span style="color: #8c8c8c;">}</span>

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaohong</span> = createStudent<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"&#23567;&#32418;"</span>, 16<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaolan</span> = createStudent<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"&#23567;lan"</span>, 19<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaozi</span> = createStudent<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"&#23567;&#32043;"</span>, 19<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
上面的解决方案已经足够好了，但是因为这种使用方法实在常见，JS 内部就给提供了下面一种语法糖，简直甜死了:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">Person</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #da8548; font-weight: bold;">this</span>.eat = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#26159;&#37240;&#30340;"</span><span style="color: #b0b1a3;">)</span>; <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Syntax Suger, &#35821;&#27861;&#31958;&#65292;&#26500;&#36896;&#20989;&#25968;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">Student</span><span style="color: #8c8c8c;">(</span><span style="color: #61afef;">name</span>, <span style="color: #61afef;">age</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #da8548; font-weight: bold;">this</span>.name = name; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">window</span>
    <span style="color: #da8548; font-weight: bold;">this</span>.age = age;
    <span style="color: #da8548; font-weight: bold;">this</span>.lol = <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"kkk"</span><span style="color: #b0b1a3;">)</span> <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
Student.<span style="color: #da8548; font-weight: bold;">prototype</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Person</span><span style="color: #8c8c8c;">()</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">xiaohong.__proto__ == Student.prototype</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaohong</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Student</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"&#23567;&#32418;"</span>, 15<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaolan</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Student</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"&#23567;&#20848;"</span>, 12<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaogreen</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Student</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"&#23567;&#21346;"</span>, 15<span style="color: #8c8c8c;">)</span>;

xiaohong.study = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span> console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#30171;&#23450;&#24605;&#30171;&#65292;&#22909;&#22909;&#23398;&#20064;"</span><span style="color: #93a8c6;">)</span> <span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>
于是，使用函数作为构造方法的方式，就有点类似 Java 中的 class/instance 方式了，使用简单:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">Phone</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">name</span>, <span style="color: #61afef;">price</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #da8548; font-weight: bold;">this</span>.name = name;
    <span style="color: #da8548; font-weight: bold;">this</span>.price = price;
    <span style="color: #da8548; font-weight: bold;">this</span>.show = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #da8548; font-weight: bold;">this</span>.name + <span style="color: #98be65;">" &#25163;&#26426;&#30340;&#20215;&#26684;&#20026;: &#65509;"</span> + <span style="color: #da8548; font-weight: bold;">this</span>.price + <span style="color: #98be65;">"&#20803;"</span><span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">iphone</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Phone</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"iphoneX"</span>, 5555<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">huawei</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Phone</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"huawei"</span>, 4444<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaomi</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Phone</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"xiaomi"</span>, 6666<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">samsung</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Phone</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"samsung"</span>, 9999<span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#19977;&#26143;&#25163;&#26426;&#21487;&#33021;&#20250;&#29190;&#28856;&#65292;&#25152;&#20197;&#65292;&#28155;&#21152;&#29190;&#28856;&#30340;&#36923;&#36753;&#65292;&#21363;&#19968;&#20010;&#20989;&#25968;</span>
samsung.baozha = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>Math.random<span style="color: #b0b1a3;">()</span> &gt; 0.9<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        alert<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#29190;&#28856;&#20102;"</span><span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #93a8c6;">{</span>
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#21035;&#20900;&#26505;&#25105;&#65292;&#25105;&#25165;&#19981;&#20250;&#36825;&#27425;&#29190;&#28856;&#21602;."</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>;
samsung.baozha<span style="color: #8c8c8c;">()</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22914;&#26524;&#24819;&#20026;&#27599;&#20010;&#26500;&#36896;&#20986;&#26469;&#30340;&#23545;&#35937;&#65292;&#37117;&#28155;&#21152;&#21516;&#26679;&#30340;&#21151;&#33021;&#65292;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#37027;&#20040;&#21482;&#38656;&#35201;&#20026;&#20182;&#20204;&#20849;&#21516;&#30340;&#29240;&#29240;&#65292;&#28155;&#21152;&#27492;&#23646;&#24615;&#25110;&#26041;&#27861;&#21363;&#21487;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#27604;&#22914;&#35828;&#65292;&#21028;&#26029;&#27599;&#20010;&#25163;&#26426;&#26159;&#21542;&#25903;&#25345; 5G&#65292;&#25105;&#20204;&#21482;&#38656;&#35201;&#20026;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36825;&#20123;&#25163;&#26426;&#30340;&#29240;&#29240; (Phone.prototype) &#28155;&#21152; isSupport5G &#26041;&#27861;&#21363;&#21487;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Phone.prototype &#20195;&#34920; &#20351;&#29992; Phone &#21019;&#24314;&#20986;&#26469;&#30340;&#23545;&#35937;&#30340;&#29241;</span>
Phone.<span style="color: #da8548; font-weight: bold;">prototype</span>.isSupport5G = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
   <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #da8548; font-weight: bold;">this</span>.price &gt; 5000;
   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">this &#25351;&#30340;&#26159;&#65292;&#35843;&#29992;&#30340;&#26102;&#20505;&#30340;&#23545;&#35937;</span>
   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#27604;&#22914;&#65292;&#21518;&#38754;&#25105;&#35843;&#29992; huawei.isSupport5G() &#37027;&#20040; this &#25351;&#30340;&#23601;&#26159; huawei &#23545;&#35937;</span>
<span style="color: #8c8c8c;">}</span>
huawei.isSupport5G<span style="color: #8c8c8c;">()</span>;
samsung.isSupport5G<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<p>
因此可以说，使用内置构造函数构建对象，跟自己写一个普通函数来构建对象，实际上是等价的:
</p>


<div  class='mc11'>
<div>
<p>

</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26500;&#36896;&#20989;&#25968;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">Phone</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">name</span>, <span style="color: #61afef;">price</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #da8548; font-weight: bold;">this</span>.name = name;
    <span style="color: #da8548; font-weight: bold;">this</span>.price = price;
    <span style="color: #da8548; font-weight: bold;">this</span>.show = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #da8548; font-weight: bold;">this</span>.name + <span style="color: #98be65;">" &#20215;&#26684;: &#65509;"</span> + <span style="color: #da8548; font-weight: bold;">this</span>.price<span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20197;&#26500;&#36896;&#20989;&#25968;&#20026;&#27169;&#26495;&#65292;&#21019;&#24314; iphone &#23545;&#35937;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26032;&#21019;&#24314;&#30340;&#23545;&#35937;&#26377; name/price/show &#23646;&#24615;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20854;&#29238;&#20146; (__proto__) &#20026; Phone.prototype</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">iphone</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Phone</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"iphoneX"</span>, 5555<span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20026;&#25152;&#26377;&#20351;&#29992; Phone &#26500;&#24314;&#20986;&#26469;&#30340;&#23545;&#35937;&#28155;&#21152;&#20849;&#21516;&#26041;&#27861;:</span>
Phone.<span style="color: #da8548; font-weight: bold;">prototype</span>.hello = <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">'hello'</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">}</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">yes</span>
iphone.hello<span style="color: #8c8c8c;">()</span>;
</pre>
</div>
<p>
使用「构造函数 + new」构建对象。
</p>

<p>

</div>
<div>

</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26222;&#36890;&#20989;&#25968;</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">createPhone</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">name</span>, <span style="color: #61afef;">price</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">p</span> = <span style="color: #93a8c6;">{</span>
        name: name,
        price: price,
        <span style="color: #61afef;">show</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span>
            console.log<span style="color: #97b098;">(</span><span style="color: #da8548; font-weight: bold;">this</span>.name + <span style="color: #98be65;">"&#20215;&#26684;: &#65509;"</span> + <span style="color: #da8548; font-weight: bold;">this</span>.price<span style="color: #97b098;">)</span>
        <span style="color: #b0b1a3;">}</span>
    <span style="color: #93a8c6;">}</span>;
    p.__proto__ = createPhone.die; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20026;&#20854;&#25351;&#23450;&#29238;&#20146;</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> p;
<span style="color: #8c8c8c;">}</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22312; createPhone &#30340; die &#23646;&#24615;&#19978;&#32465;&#23450;&#19968;&#20010;&#23545;&#35937;&#20316;&#20026;&#25152;&#26377;&#26032;&#24314;&#23545;&#35937;&#30340;&#29238;&#20146;</span>
createPhone.die = <span style="color: #8c8c8c;">{</span> constructor: createPhone <span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36890;&#36807;&#36825;&#20010;&#26222;&#36890;&#20989;&#25968;&#26500;&#24314;&#20986;&#26469;&#30340; iphone &#23545;&#35937;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20855;&#26377;&#23646;&#24615; name/price/show</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#24182;&#19988;&#20854;&#29238;&#20146; (__proto__) &#20026; createPhone.die</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">iphone</span> = createPhone<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"iphoneX"</span>, 5555<span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20026;&#25152;&#26377;&#20351;&#29992; createPhone &#26500;&#24314;&#20986;&#26469;&#30340;&#23545;&#35937;&#28155;&#21152;&#20849;&#21516;&#26041;&#27861;:</span>
createPhone.die.hello = <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span> console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">'hello'</span><span style="color: #93a8c6;">)</span> <span style="color: #8c8c8c;">}</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">yes</span>
iphone.hello<span style="color: #8c8c8c;">()</span>;
</pre>
</div>
<p>
自行创建普通函数，借助这个函数完成对象的构建。
</p>

</div>

</div>

<p>
<b>instanceof</b> 用来判断是否是某个对象:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">Student</span><span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{}</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">tom</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Student</span><span style="color: #8c8c8c;">()</span>;

<span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>tom <span style="color: #c678dd; font-weight: bold;">instanceof</span> <span style="color: #61afef;">Student</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span> console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#23398;&#20064;&#65292;&#22825;&#22825;&#21521;&#19978;"</span><span style="color: #93a8c6;">)</span> <span style="color: #8c8c8c;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda73d90" class="outline-4">
<h4 id="orgda73d90"><span class="section-number-4">4.6.4</span> ES5 中的 Object.create</h4>
<div class="outline-text-4" id="text-4-6-4">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">person</span> = <span style="color: #8c8c8c;">{}</span>;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">student</span> = <span style="color: #8c8c8c;">{}</span>; student.__proto__ = person;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">student</span> = Object.create<span style="color: #8c8c8c;">(</span>person<span style="color: #8c8c8c;">)</span>;
Object.assign<span style="color: #8c8c8c;">(</span>student, <span style="color: #93a8c6;">{</span> name: <span style="color: #98be65;">"xxx"</span>, age: 18 <span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb97d321" class="outline-4">
<h4 id="orgb97d321"><span class="section-number-4">4.6.5</span> ES6 中的 class 语法糖</h4>
<div class="outline-text-4" id="text-4-6-5">
<p>
一定要注意，这只是一种 <b>语法糖</b> ！
</p>

<p>
在 JS 中是不存在真正的类的。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">class</span> Person <span style="color: #8c8c8c;">{</span>
    constructor<span style="color: #93a8c6;">(</span>name, address<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26500;&#36896;&#20989;&#25968;</span>
        <span style="color: #da8548; font-weight: bold;">this</span>.name = name;
        <span style="color: #da8548; font-weight: bold;">this</span>.address = address;
    <span style="color: #93a8c6;">}</span>
    eat<span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26041;&#27861;</span>
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"Please eat."</span><span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
    drink<span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26041;&#27861;</span>
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"Please drink."</span><span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">class</span> Student <span style="color: #c678dd; font-weight: bold;">extends</span> Person <span style="color: #8c8c8c;">{}</span>

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">xiaoming</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Person</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'xiaoming'</span>, <span style="color: #98be65;">'China'</span><span style="color: #8c8c8c;">)</span>;
xiaoming.eat<span style="color: #8c8c8c;">()</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf8778ac" class="outline-4">
<h4 id="orgf8778ac"><span class="section-number-4">4.6.6</span> Object 对象</h4>
<div class="outline-text-4" id="text-4-6-6">
<p>
hasOwnProperty 用来判断某个属性是否定义在某个对象自身上:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">p</span> = <span style="color: #8c8c8c;">{</span> a: 1 <span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">q</span> = <span style="color: #8c8c8c;">{</span> b: 1 <span style="color: #8c8c8c;">}</span>;
p.__proto__ = q;

p.hasOwnProperty<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"b"</span><span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">false</span>
p.hasOwnProperty<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"a"</span><span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true</span>
</pre>
</div>

<p>
Object.assign，用来将若干对象合并到一个上面:
</p>
<div class="org-src-container">
<pre class="src src-js">Object.assign<span style="color: #8c8c8c;">(</span>a, b, c<span style="color: #8c8c8c;">)</span>;    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23558; b/c &#19978;&#30340;&#25152;&#26377;&#23646;&#24615;&#37117;&#28155;&#21152;&#21040; a &#19978;</span>
Object.assign<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">{}</span>, xiaolv<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22797;&#21046;</span>
</pre>
</div>

<p>
Object.defineProperty，从 ES5 开始，对象的属性变得不单纯了:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21333;&#32431;&#30340;&#24180;&#20195;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 2;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">o</span> = <span style="color: #8c8c8c;">{}</span>;
o.c = 3;
o.c;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21487;&#20197;&#33258;&#24049;&#23454;&#29616;&#20989;&#25968;&#26469;&#36827;&#34892;&#38480;&#21046;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">o</span> = <span style="color: #8c8c8c;">{}</span>;
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">setAge</span><span style="color: #8c8c8c;">(</span><span style="color: #61afef;">age</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>age &gt; 99<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        o.age = 99;
    <span style="color: #93a8c6;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #93a8c6;">{</span>
        o.age = age;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
setAge<span style="color: #8c8c8c;">(</span>19<span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#33258;&#20174; ES5 &#20043;&#21518;&#65292;&#23646;&#24615;&#24182;&#19981;&#26159;&#30495;&#27491;&#30340;&#23646;&#24615;&#65292;&#23427;&#21464;&#25104;&#19968;&#20010;&#22797;&#21512;&#30340;&#27010;&#24565;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25152;&#20197;&#65292;&#21487;&#20197;&#20351;&#29992;&#22914;&#19979;&#35821;&#27861;&#32473;&#23646;&#24615;&#25351;&#23450;&#26356;&#22810;&#29305;&#24615;</span>
Object.defineProperty<span style="color: #8c8c8c;">(</span>o, <span style="color: #98be65;">"age"</span>, <span style="color: #93a8c6;">{</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">writable: true,</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">value: 18,</span>
    <span style="color: #61afef;">get</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span>
        console.log<span style="color: #97b098;">(</span><span style="color: #98be65;">"&#20320;&#24819;&#30693;&#36947;&#25105;&#30340;&#24180;&#40836;&#21527;&#65292;&#35752;&#21388;&#39740;!&#37027;&#25105;&#23601;&#21578;&#35785;&#20320;&#22043;"</span><span style="color: #97b098;">)</span>;
        <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #da8548; font-weight: bold;">this</span>._age ? <span style="color: #da8548; font-weight: bold;">this</span>._age - 5 : 16;
    <span style="color: #b0b1a3;">}</span>,
    <span style="color: #61afef;">set</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #b0b1a3;">(</span><span style="color: #61afef;">age</span><span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">{</span>
        console.log<span style="color: #97b098;">(</span><span style="color: #98be65;">"&#27491;&#22312;&#35774;&#32622;&#24180;&#40836;: "</span> + <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #aebed8;">()</span><span style="color: #97b098;">)</span>;
        <span style="color: #da8548; font-weight: bold;">this</span>._age = age;
    <span style="color: #b0b1a3;">}</span>
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#29978;&#33267;&#19968;&#27425;&#21487;&#20197;&#23450;&#20041;&#22810;&#20010;</span>
Object.defineProperties<span style="color: #8c8c8c;">(</span>o, <span style="color: #93a8c6;">{</span>
  age: <span style="color: #b0b1a3;">{</span>
  <span style="color: #b0b1a3;">}</span>,
  score: <span style="color: #b0b1a3;">{</span>
  <span style="color: #b0b1a3;">}</span>
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7d77cf2" class="outline-3">
<h3 id="org7d77cf2"><span class="section-number-3">4.7</span> 运算符优先级</h3>
<div class="outline-text-3" id="text-4-7">

<figure id="org158e5a3">
<img src="img/var-youxianji.png" alt="var-youxianji.png">

</figure>
</div>
</div>
</section>

<section id="outline-container-org4daeb45" class="outline-2">
<h2 id="org4daeb45"><span class="section-number-2">5</span> 标准内置对象 (Global Objects)</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org05554ea" class="outline-3">
<h3 id="org05554ea"><span class="section-number-3">5.1</span> Number/String/Boolean/Function</h3>
<div class="outline-text-3" id="text-5-1">
<p>
包装类型 (Wrapper)：因为一切都是对象嘛……
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">d1</span> = 123;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">d2</span> = Number<span style="color: #8c8c8c;">(</span>123<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">d3</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Number</span><span style="color: #8c8c8c;">(</span>123<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">s1</span> = <span style="color: #98be65;">"abc"</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">s2</span> = String<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"abc"</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">s3</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">String</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"abc"</span><span style="color: #8c8c8c;">)</span>;

s1 == s2   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true</span>
s1 === s2  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true</span>

s1 == s3   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true</span>
s1 === s3  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">false typeof(s3): object</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">aaa</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{}</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">aaa</span> = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{}</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">aaa</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Function</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'a'</span>, <span style="color: #98be65;">'b'</span>, <span style="color: #98be65;">'return a + b'</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">typeof aaa: function</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org78071d0" class="outline-3">
<h3 id="org78071d0"><span class="section-number-3">5.2</span> Array</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-org87f4400" class="outline-4">
<h4 id="org87f4400"><span class="section-number-4">5.2.1</span> 数组的创建</h4>
<div class="outline-text-4" id="text-5-2-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">arr</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Array</span><span style="color: #8c8c8c;">()</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">arr</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Array</span><span style="color: #8c8c8c;">(</span>1, 2, <span style="color: #98be65;">'hello'</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">typeof</span> arr;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">arr</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Array</span><span style="color: #8c8c8c;">()</span>;
arr.push<span style="color: #8c8c8c;">(</span>121<span style="color: #8c8c8c;">)</span>;
arr.push<span style="color: #8c8c8c;">(</span>212<span style="color: #8c8c8c;">)</span>;
arr.push<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #98be65;">"hello"</span> <span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;
console.log<span style="color: #8c8c8c;">(</span>arr.pop<span style="color: #93a8c6;">()</span><span style="color: #8c8c8c;">)</span>;
console.log<span style="color: #8c8c8c;">(</span>arr.pop<span style="color: #93a8c6;">()()</span><span style="color: #8c8c8c;">)</span>;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">arr</span> = <span style="color: #8c8c8c;">[</span>121, 212,
           <span style="color: #98be65;">'hello'</span>, <span style="color: #da8548; font-weight: bold;">true</span>, <span style="color: #da8548; font-weight: bold;">undefined</span>,
           <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>console.error<span style="color: #b0b1a3;">(</span>1<span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">]</span>;
arr<span style="color: #8c8c8c;">[</span>5<span style="color: #8c8c8c;">]()</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#24207;&#21495;&#26159;&#20174; 0 &#24320;&#22987;&#30340; !!!</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9f38470" class="outline-4">
<h4 id="org9f38470"><span class="section-number-4">5.2.2</span> 数组的基本用法</h4>
<div class="outline-text-4" id="text-5-2-2">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">arr</span> = <span style="color: #8c8c8c;">[</span>1, 2, <span style="color: #98be65;">"hello"</span>, <span style="color: #da8548; font-weight: bold;">true</span><span style="color: #8c8c8c;">]</span>;
arr.length      <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">4</span>
arr.concat<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">[</span>33, 44<span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">[1, 2, "hello", true, 33, 44]</span>

arr.flat<span style="color: #8c8c8c;">()</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23558;&#20854;&#21387;&#24179;</span>
arr.includes<span style="color: #8c8c8c;">()</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21028;&#23450;&#26159;&#21542;&#23384;&#22312;&#26576;&#20010;&#20803;&#32032;</span>
arr.indexOf/lastIndexOf<span style="color: #8c8c8c;">(</span>1<span style="color: #8c8c8c;">)</span>;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21028;&#23450;&#26576;&#20010;&#20803;&#32032;&#30340;&#24207;&#21495;</span>

arr.slice<span style="color: #8c8c8c;">()</span>;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22797;&#21046;</span>
arr.splice<span style="color: #8c8c8c;">(</span>3<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21024;&#38500;&#12289;&#28155;&#21152;&#65292;&#40664;&#35748;&#34892;&#20026;&#26159;&#21024;&#38500;&#20174; 3 &#21040;&#26368;&#21518;&#19968;&#20301;&#30340;&#20803;&#32032;&#65292;&#36820;&#22238;&#34987;&#21024;&#38500;&#30340;&#20803;&#32032;&#32452;&#25104;&#30340;&#25968;&#32452;</span>
arr.splice<span style="color: #8c8c8c;">(</span>3, 1<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21024;&#38500;&#22810;&#23569;&#20010;&#20803;&#32032;</span>
arr.splice<span style="color: #8c8c8c;">(</span>2, 0, 11111<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#28155;&#21152;</span>

arr.reverse<span style="color: #8c8c8c;">()</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23558;&#25968;&#32452;&#20869;&#20803;&#32032;&#21453;&#21521;&#25490;&#24207;&#65292;&#27880;&#24847;&#65292;&#23427;&#26159;&#19968;&#20010;&#30772;&#22351;&#24615;&#30340;&#20989;&#25968;</span>
arr.sort<span style="color: #8c8c8c;">()</span>;    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25490;&#24207;&#65292;&#30772;&#22351;&#24615;&#30340;&#20989;&#25968;</span>
arr.sort<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span> <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #b0b1a3;">(</span>a &gt; b<span style="color: #b0b1a3;">)</span> <span style="color: #c678dd; font-weight: bold;">return</span> -1; <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #c678dd; font-weight: bold;">return</span> 1 <span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org487a04b" class="outline-4">
<h4 id="org487a04b"><span class="section-number-4">5.2.3</span> 字符串跟数组的美好友谊</h4>
<div class="outline-text-4" id="text-5-2-3">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #98be65;">"kkkk:jjjj:2222:xxxx"</span>.split<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">":"</span><span style="color: #8c8c8c;">)</span>.reverse<span style="color: #8c8c8c;">()</span>.join<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"-"</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #98be65;">"&#20013;&#21326;&#20154;&#27665;&#20849;&#21644;&#22269;&#19975;&#23681;"</span>.split<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">""</span><span style="color: #8c8c8c;">)</span>.reverse<span style="color: #8c8c8c;">()</span>.join<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">""</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org2731040" class="outline-4">
<h4 id="org2731040"><span class="section-number-4">5.2.4</span> Array 与 function 的美好生活</h4>
<div class="outline-text-4" id="text-5-2-4">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23547;&#25214;&#31526;&#21512;&#26465;&#20214;&#30340;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">myJudge</span> = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">x</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> x &gt; 1 <span style="color: #8c8c8c;">}</span>
arr.find<span style="color: #8c8c8c;">(</span>myJudge<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2, &#31532;&#19968;&#20010;&#31526;&#21512;&#26465;&#20214;&#30340;&#26159; 2</span>
arr.find<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">(</span><span style="color: #61afef;">x</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> x &gt; 1<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#36807;&#28388;&#31526;&#21512;&#26465;&#20214;&#30340;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">myNumberJudge</span> = <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #8c8c8c;">(</span><span style="color: #61afef;">x</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #c678dd; font-weight: bold;">typeof</span> x === <span style="color: #98be65;">'number'</span> <span style="color: #8c8c8c;">}</span>
arr.filter<span style="color: #8c8c8c;">(</span>myNumberJudge<span style="color: #8c8c8c;">)</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">[1, 2]</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23545;&#27599;&#20010;&#20803;&#32032;&#20570;&#21516;&#26679;&#30340;&#25805;&#20316;&#65292;&#28982;&#21518;&#24418;&#25104;&#26032;&#30340;&#25968;&#32452;</span>
arr.map<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">(</span><span style="color: #61afef;">x</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> x + 1 <span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21512;&#24182;&#35745;&#31639;</span>
arr.reduce<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">(</span><span style="color: #61afef;">a</span>, <span style="color: #61afef;">b</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> a + b<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21028;&#23450;&#26159;&#19981;&#26159;&#31526;&#21512;...</span>
arr.every<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">(</span><span style="color: #61afef;">x</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #c678dd; font-weight: bold;">typeof</span> x !== <span style="color: #98be65;">'object'</span> <span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>
arr.some<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">(</span><span style="color: #61afef;">x</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #c678dd; font-weight: bold;">typeof</span> x !== <span style="color: #98be65;">'object'</span> <span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23545;&#27599;&#19968;&#20010;&#20803;&#32032;&#37117;&#20570;&#19968;&#23450;&#30340;&#20107;&#24773;&#65292;&#20174; ES6 &#24320;&#22987;&#20986;&#29616;&#30340;</span>
arr.forEach<span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">(</span><span style="color: #61afef;">x</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span> console.log<span style="color: #b0b1a3;">(</span>x<span style="color: #b0b1a3;">)</span> <span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org001aa7f" class="outline-4">
<h4 id="org001aa7f"><span class="section-number-4">5.2.5</span> ES6 添加的 Array 的一些静态方法</h4>
<div class="outline-text-4" id="text-5-2-5">
<div class="org-src-container">
<pre class="src src-js">Array.from
Array.of
</pre>
</div>
</div>
</div>

<div id="outline-container-org8e39272" class="outline-4">
<h4 id="org8e39272"><span class="section-number-4">5.2.6</span> [示例] 常规操作</h4>
<div class="outline-text-4" id="text-5-2-6">
<p>
现有一数组:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">array</span> = <span style="color: #8c8c8c;">[</span>
    <span style="color: #93a8c6;">{</span>
        id: 1,
        name: <span style="color: #98be65;">'ohzri'</span>,
        birth: <span style="color: #98be65;">'1999.09.09'</span>,
        city: <span style="color: #98be65;">'&#28246;&#21271;'</span>,
        salary: 3379
    <span style="color: #93a8c6;">}</span>,
    <span style="color: #93a8c6;">{</span>
        id: 2,
        name: <span style="color: #98be65;">'rqgfd'</span>,
        birth: <span style="color: #98be65;">'1999.10.28'</span>,
        city: <span style="color: #98be65;">'&#28246;&#21335;'</span>,
        salary: 4060
    <span style="color: #93a8c6;">}</span>,
    <span style="color: #93a8c6;">{</span>
        id: 3,
        name: <span style="color: #98be65;">'fwfsh'</span>,
        birth: <span style="color: #98be65;">'1999.09.17'</span>,
        city: <span style="color: #98be65;">'&#24191;&#35199;'</span>,
        salary: 3236
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">]</span>;
</pre>
</div>

<p>
要求:
</p>
<ol class="org-ol">
<li>过滤: 返回工资 3000-3500 之内的人</li>
<li>除去: 返回湖南人之外的人</li>
<li>修改: 为每个人增加 age 字段</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgd3778e4" class="outline-3">
<h3 id="orgd3778e4"><span class="section-number-3">5.3</span> Math</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Math 对象是一个静态的对象 (不需要使用 new Math()，而是直接 Math.xxx)。
</p>

<p>
它主要作用在 Number 类型上，进行数学运算的。
</p>

<div class="org-src-container">
<pre class="src src-js">Math.PI

Math.min<span style="color: #8c8c8c;">(</span>2, 3, 4, 5<span style="color: #8c8c8c;">)</span>;
Math.max<span style="color: #8c8c8c;">(</span>2, 3, 4, 5<span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22522;&#26412;&#25968;&#23398;&#35745;&#31639;</span>
Math.abs<span style="color: #8c8c8c;">(</span>-1<span style="color: #8c8c8c;">)</span>;   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#32477;&#23545;&#20540; 1</span>
Math.sin<span style="color: #8c8c8c;">(</span>2.5<span style="color: #8c8c8c;">)</span>;
Math.cos<span style="color: #8c8c8c;">(</span>Math.PI<span style="color: #8c8c8c;">)</span>
Math.pow<span style="color: #8c8c8c;">(</span>4, 2<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">16</span>
Math.pow<span style="color: #8c8c8c;">(</span>4, 3<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">64</span>
Math.sqrt<span style="color: #8c8c8c;">(</span>4<span style="color: #8c8c8c;">)</span>;   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#24320;&#26681;&#21495; 2</span>
Math.exp<span style="color: #8c8c8c;">(</span>2<span style="color: #8c8c8c;">)</span>;    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#33258;&#28982;&#25351;&#25968; 7.38905609893065</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21306;&#21035; round/floor/ceil/trunc</span>
Math.round<span style="color: #8c8c8c;">(</span>3.14<span style="color: #8c8c8c;">)</span>;  <span style="color: #687080; font-style: italic;">//</span><span style="color: #687080; font-style: italic;">3</span>
Math.floor<span style="color: #8c8c8c;">(</span>3.14<span style="color: #8c8c8c;">)</span>;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3</span>
Math.ceil<span style="color: #8c8c8c;">(</span>3.14<span style="color: #8c8c8c;">)</span>;   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">4</span>
Math.trunc<span style="color: #8c8c8c;">(</span>3.14<span style="color: #8c8c8c;">)</span>;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#27714;&#21462;&#38543;&#26426;&#20540;</span>
Math.randon<span style="color: #8c8c8c;">()</span>;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">(0, 1)</span>
Math.round<span style="color: #8c8c8c;">(</span>100 * Math.random<span style="color: #93a8c6;">()</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcba0cfb" class="outline-3">
<h3 id="orgcba0cfb"><span class="section-number-3">5.4</span> Date</h3>
<div class="outline-text-3" id="text-5-4">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">d</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #8c8c8c;">()</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">d</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'2010-08-04'</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">d</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'1995-12-17T03:24:00'</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">d</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"October 13, 1975 11:13:00"</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">d</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #8c8c8c;">(</span>79, 5, 24<span style="color: #8c8c8c;">)</span>;            <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#24180;&#26376;&#26085;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">d</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #8c8c8c;">(</span>79, 5, 24, 11, 33, 0<span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#24180;&#26376;&#26085;&#26102;&#20998;&#31186;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">d</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Date</span><span style="color: #93a8c6;">()</span>.getTime<span style="color: #93a8c6;">()</span> + 24*3600*1000<span style="color: #8c8c8c;">)</span>;

d.setFullYear<span style="color: #8c8c8c;">(</span>2010,0,14<span style="color: #8c8c8c;">)</span>;    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2010.1.14</span>
d.setDate<span style="color: #8c8c8c;">(</span>d.getDate<span style="color: #93a8c6;">()</span> + 5<span style="color: #8c8c8c;">)</span>;  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">5 days later</span>

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">seconds</span> = Math.floor<span style="color: #8c8c8c;">(</span>Date.now<span style="color: #93a8c6;">()</span> / 1000<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">elapsed</span> = end.getTime<span style="color: #8c8c8c;">()</span> - start.getTime<span style="color: #8c8c8c;">()</span>;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">yyyymmddwhhmiss</span> = <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">"2020&#24180;6&#26376;8&#26085;(1) 19:16:9"</span>
    d.getFullYear<span style="color: #8c8c8c;">()</span> + <span style="color: #98be65;">'&#24180;'</span>
    + <span style="color: #8c8c8c;">(</span>d.getMonth<span style="color: #93a8c6;">()</span> + 1<span style="color: #8c8c8c;">)</span> + <span style="color: #98be65;">'&#26376;'</span>
    + d.getDate<span style="color: #8c8c8c;">()</span> + <span style="color: #98be65;">'&#26085;'</span>
    + <span style="color: #98be65;">'('</span> + d.getDay<span style="color: #8c8c8c;">()</span> + <span style="color: #98be65;">') '</span>
    + d.getHours<span style="color: #8c8c8c;">()</span> + <span style="color: #98be65;">':'</span>
    + d.getMinutes<span style="color: #8c8c8c;">()</span> + <span style="color: #98be65;">':'</span>
    + d.getSeconds<span style="color: #8c8c8c;">()</span>;

d.toDateString<span style="color: #8c8c8c;">()</span>;       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">"Mon Jun 08 2020"</span>
d.toGMTString<span style="color: #8c8c8c;">()</span>;        <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">"Mon, 08 Jun 2020 11:16:09 GMT"</span>
d.toISOString<span style="color: #8c8c8c;">()</span>;        <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">"2020-06-08T11:16:09.617Z"</span>
d.toLocaleString<span style="color: #8c8c8c;">()</span>;     <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">"2020/6/8 &#19979;&#21320;7:16:09"</span>
d.toLocaleString<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'en'</span><span style="color: #8c8c8c;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">"6/8/2020, 7:16:09 PM"</span>
d.toString<span style="color: #8c8c8c;">()</span>;           <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">"Mon Jun 08 2020 19:16:09 GMT+0800 (&#20013;&#22269;&#26631;&#20934;&#26102;&#38388;)"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0d90981" class="outline-3">
<h3 id="org0d90981"><span class="section-number-3">5.5</span> RegExp</h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">RegExp</span><span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"[a-z]"</span><span style="color: #8c8c8c;">)</span>
<span style="color: #98be65;">/[a-z]/</span>  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23383;&#38754;&#34920;&#36798;&#24335;&#65292;&#36319;&#19978;&#38754;&#26159;&#31561;&#20215;&#30340;</span>

a.test<span style="color: #8c8c8c;">()</span>;
a.exec<span style="color: #8c8c8c;">()</span>;
a.compile<span style="color: #8c8c8c;">()</span>;

<span style="color: #98be65;">"Hello"</span>.match<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">/[a-z]/</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
给大家的题目:
</p>
<ul class="org-ul">
<li>如何使用正则表达式，来匹配一个电话号码</li>
<li>如何使用正则表达式，来寻找 html 字符串中的所有图片地址</li>
</ul>
</div>

<div id="outline-container-orgc48eafc" class="outline-4">
<h4 id="orgc48eafc"><span class="section-number-4">5.5.1</span> 补充</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
a{2}bc[abc]{2,5}
</p>

<pre class="example">
1[3456789][0123456789][0123456789][0123456789][0123456789][0123456789][0123456789][0123456789][0123456789][0123456789]
1[3456789][0123456789]{9}
</pre>


<p>
基本语法:
</p>
<ul class="org-ul">
<li>一般情况下，我们读取到的每一位代表的是字符本身</li>
<li>使用 [] 包含起来的所有字符，代表一位，值只能从 [xyz] 取其中之一</li>
<li>使用 {} 搭配数字来修饰前一个字符，用来表达重复</li>
<li>使用 () 用来进行分组、捕获</li>
</ul>

<p>
偷懒:
</p>
<ul class="org-ul">
<li>[0-9] 来代表 [0123456789]</li>
<li>[a-z] 来代表 [abcdefghijklmnopqrstuvwxyz]</li>
<li>\d 来代表 [0123456789]</li>
<li>\s 来代表各种空格 [ \t]</li>
<li>* 来代表 {0,}</li>
<li>+ 来代表 {1,}</li>
<li>? 来代表 {0,1}</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org73bb012" class="outline-3">
<h3 id="org73bb012"><span class="section-number-3">5.6</span> JSON</h3>
<div class="outline-text-3" id="text-5-6">
<p>
序列化:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">jsonStr</span> = JSON.stringify<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">{</span>
    name: <span style="color: #98be65;">"xxx"</span>, age: 19
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21487;&#36873;&#30340;&#36807;&#28388;&#36873;&#39033;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">jsonStr</span> = JSON.stringify<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">{</span> name: <span style="color: #98be65;">"xxx"</span>, age: 19 <span style="color: #93a8c6;">}</span>, <span style="color: #93a8c6;">[</span><span style="color: #98be65;">"name"</span><span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">jsonStr</span> = JSON.stringify<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">{</span> name: <span style="color: #98be65;">"xxx"</span>, age: 19 <span style="color: #93a8c6;">}</span>, <span style="color: #93a8c6;">(</span>key, value<span style="color: #93a8c6;">)</span> =&gt; <span style="color: #93a8c6;">{</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #b0b1a3;">(</span>key === <span style="color: #98be65;">"age"</span><span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">{</span>
        <span style="color: #c678dd; font-weight: bold;">return</span> value &lt; 1 ? 1 : value + 3;
    <span style="color: #b0b1a3;">}</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> value;
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21487;&#36873;&#30340;&#32553;&#36827;&#35774;&#32622;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">jsonStr</span> = JSON.stringify<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">{</span> name: <span style="color: #98be65;">"xxx"</span>, age: 19 <span style="color: #93a8c6;">}</span>, <span style="color: #93a8c6;">[</span><span style="color: #98be65;">"name"</span><span style="color: #93a8c6;">]</span>, 2<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">jsonStr</span> = JSON.stringify<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">{</span> name: <span style="color: #98be65;">"xxx"</span>, age: 19 <span style="color: #93a8c6;">}</span>, <span style="color: #93a8c6;">[</span><span style="color: #98be65;">"name"</span><span style="color: #93a8c6;">]</span>, <span style="color: #98be65;">'+++'</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
反序列化:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">o</span> = JSON.parse<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"..."</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">o</span> = JSON.parse<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"..."</span>, <span style="color: #93a8c6;">(</span>k, v<span style="color: #93a8c6;">)</span> =&gt; <span style="color: #93a8c6;">{}</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org73f5761" class="outline-3">
<h3 id="org73f5761"><span class="section-number-3">5.7</span> Symbol</h3>
<div class="outline-text-3" id="text-5-7">
<p>
唯一性。
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">orderStatus</span> = 0/1/2/3/4;

<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">OrderStatus</span> = <span style="color: #8c8c8c;">{</span>
  INIT: Symbol<span style="color: #93a8c6;">()</span>,
  FUKUAN: Symbol<span style="color: #93a8c6;">()</span>,
  JIESHU: Symbol<span style="color: #93a8c6;">()</span>
<span style="color: #8c8c8c;">}</span>;

OrderStatus.INIT;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdff56a0" class="outline-3">
<h3 id="orgdff56a0"><span class="section-number-3">5.8</span> Set/Map/WeakSet/WeakMap</h3>
<div class="outline-text-3" id="text-5-8">
<p>
Set 集合，唯一无序:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">nums</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Set</span><span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">[</span>1, 2, 3, 4, 5<span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>;
nums.add<span style="color: #8c8c8c;">(</span>3<span style="color: #8c8c8c;">)</span>;
nums.add<span style="color: #8c8c8c;">(</span>33<span style="color: #8c8c8c;">)</span>;
nums.size;
nums.<span style="color: #c678dd; font-weight: bold;">delete</span><span style="color: #8c8c8c;">(</span>33<span style="color: #8c8c8c;">)</span>;
nums.forEach<span style="color: #8c8c8c;">(</span>x =&gt; console.log<span style="color: #93a8c6;">(</span>x<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
Map 传统的 K-V 结构:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">m</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Map</span><span style="color: #8c8c8c;">()</span>;
m.set<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"name"</span>, <span style="color: #98be65;">"zhangsan"</span><span style="color: #8c8c8c;">)</span>;
m.set<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"age"</span>, 22<span style="color: #8c8c8c;">)</span>;
m.size;
m.has<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"age"</span><span style="color: #8c8c8c;">)</span>;
m.clear<span style="color: #8c8c8c;">()</span>;
m.forEach<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">(</span>k, v<span style="color: #93a8c6;">)</span> =&gt; console.log<span style="color: #93a8c6;">(</span>k + <span style="color: #98be65;">' is: '</span> + v<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">transform</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">m1</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Map</span><span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">[</span><span style="color: #b0b1a3;">[</span>1, <span style="color: #98be65;">'a'</span><span style="color: #b0b1a3;">]</span>, <span style="color: #b0b1a3;">[</span>2, <span style="color: #98be65;">'bbb'</span><span style="color: #b0b1a3;">]</span><span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">a2</span> = <span style="color: #8c8c8c;">[</span>...m1<span style="color: #8c8c8c;">]</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">m2</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Map</span><span style="color: #8c8c8c;">(</span>Object.entries<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">{</span> a: 1, b: 2<span style="color: #b0b1a3;">}</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
过滤相同元素:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">aa</span> = <span style="color: #8c8c8c;">[</span>1, 2, 3, 4, 2, 3, 3, 2, 5<span style="color: #8c8c8c;">]</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20256;&#32479;&#30340;&#26041;&#24335;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">a</span> = <span style="color: #8c8c8c;">[]</span>;
<span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">i</span> = 0; i &lt; aa.length; i++<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>!a.include<span style="color: #b0b1a3;">(</span>aa<span style="color: #97b098;">[</span>i<span style="color: #97b098;">]</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span> a.push<span style="color: #93a8c6;">(</span>aa<span style="color: #b0b1a3;">[</span>i<span style="color: #b0b1a3;">]</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
console.log<span style="color: #8c8c8c;">(</span>a<span style="color: #8c8c8c;">)</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Set &#30340;&#26041;&#24335;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">b</span> = <span style="color: #8c8c8c;">[</span>...<span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Set</span><span style="color: #93a8c6;">(</span>aa<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">]</span>;
</pre>
</div>

<p>
Weak 弱引用:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">const</span> <span style="color: #61afef;">requests</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">WeakSet</span><span style="color: #8c8c8c;">()</span>;

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">ApiRequest</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    requests.add<span style="color: #93a8c6;">(</span><span style="color: #da8548; font-weight: bold;">this</span><span style="color: #93a8c6;">)</span>;
    <span style="color: #61afef;">makeRequest</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">(</span><span style="color: #61afef;">url</span><span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #b0b1a3;">(</span>!requests.has<span style="color: #97b098;">(</span><span style="color: #da8548; font-weight: bold;">this</span><span style="color: #97b098;">)</span><span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">{</span>
            console.log<span style="color: #97b098;">(</span><span style="color: #98be65;">"&#19981;&#21512;&#29702;"</span><span style="color: #97b098;">)</span>;
        <span style="color: #b0b1a3;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #b0b1a3;">{</span>
            axios<span style="color: #97b098;">(</span><span style="color: #aebed8;">{}</span><span style="color: #97b098;">)</span>.....;
        <span style="color: #b0b1a3;">}</span>
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">test</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. r1 &#20316;&#20026;&#19968;&#20010;&#20989;&#25968;&#20869;&#37096;&#30340;&#21464;&#37327;&#65292;&#22312;&#20989;&#25968;&#35843;&#29992;&#32467;&#26463;&#20043;&#21518;&#65292;&#20250;&#32467;&#26463;&#29983;&#21629;&#21608;&#26399;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. &#22312; ApiRequest &#30340;&#26500;&#36896;&#20989;&#25968;&#20013;&#65292;r1 &#23545;&#24212;&#30340;&#23545;&#35937;&#34987;&#25918;&#21040;&#20102;&#20840;&#23616;&#30340; requests &#20013;</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">r1</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">ApiRequest</span><span style="color: #93a8c6;">()</span>;
    r1.makeRequest<span style="color: #93a8c6;">(</span>url<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22240;&#27492;&#65292;&#31561; test &#35843;&#29992;&#23436;&#27605;&#20043;&#21518;&#65292;r1 &#23545;&#35937;&#65292;&#21482;&#20250;&#34987; requests &#24341;&#29992;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22914;&#26524;&#65292;requests &#26159; Set &#30340;&#35805;&#65292;&#37027;&#20040;&#36825;&#20010;&#23545;&#35937;&#23601;&#20250;&#19968;&#30452;&#22312;&#20869;&#23384;&#20013;&#19981;&#20250;&#24471;&#21040;&#37322;&#25918;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22914;&#26524;&#65292;requests &#26159; WeakSet &#30340;&#35805;&#65292;&#37027;&#20040; GC &#20250;&#26080;&#24773;&#23558;&#20854;&#28040;&#28781;&#25481;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25152;&#20197;&#65292;&#19981;&#20165;&#20445;&#35777;&#20102;&#20869;&#23384;&#30340;&#23433;&#20840;&#65292;&#36824;&#33021;&#20026; makeRequest &#37324;&#38754;&#30340;&#21028;&#26029;&#25552;&#20379;&#20381;&#25454;</span>
test<span style="color: #8c8c8c;">()</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd0c062" class="outline-3">
<h3 id="orgbd0c062"><span class="section-number-3">5.9</span> ArrayBuffer/DataView</h3>
<div class="outline-text-3" id="text-5-9">
<p>
&lt;input type=file id=xxx&gt;
</p>

<p>
xxx.files[0]
</p>
</div>
</div>

<div id="outline-container-org259d289" class="outline-3">
<h3 id="org259d289"><span class="section-number-3">5.10</span> Promise/async</h3>
<div class="outline-text-3" id="text-5-10">
<p>
异步非常爽，一不小心就进入了回调地狱:
</p>
<div class="org-src-container">
<pre class="src src-js">jq<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">{</span>
  url: xx,
  <span style="color: #61afef;">success</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span>
    jq<span style="color: #97b098;">(</span><span style="color: #aebed8;">{</span>
      url: yy,
      <span style="color: #61afef;">success</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #b0b0b3;">()</span> <span style="color: #b0b0b3;">{</span>
        jq<span style="color: #90a890;">(</span><span style="color: #a2b6da;">{</span>
          url: zz,
          <span style="color: #61afef;">success</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #9cb6ad;">()</span> <span style="color: #9cb6ad;">{</span>
            <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">....</span>
          <span style="color: #9cb6ad;">}</span>
        <span style="color: #a2b6da;">}</span><span style="color: #90a890;">)</span>;
      <span style="color: #b0b0b3;">}</span>
    <span style="color: #aebed8;">}</span><span style="color: #97b098;">)</span>;
  <span style="color: #b0b1a3;">}</span>
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
类比 Promise 语法:
</p>
<div class="org-src-container">
<pre class="src src-js">jq<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">{</span> url: xx <span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>
  .then<span style="color: #8c8c8c;">(</span>jq<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">{</span> url: yy <span style="color: #b0b1a3;">}</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
  .then<span style="color: #8c8c8c;">(</span>jq<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">{</span> url: aa <span style="color: #b0b1a3;">}</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
  .then<span style="color: #8c8c8c;">(</span>jq<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">{</span> url: bb <span style="color: #b0b1a3;">}</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
  .then<span style="color: #8c8c8c;">(</span>jq<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">{</span> url: cc <span style="color: #b0b1a3;">}</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
  .then<span style="color: #8c8c8c;">(</span>jq<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">{</span> url: dd <span style="color: #b0b1a3;">}</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
  .then<span style="color: #8c8c8c;">(</span>jq<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">{</span> url: ee <span style="color: #b0b1a3;">}</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
  .fail<span style="color: #8c8c8c;">(</span>....<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
ES7 中异步编程的继续演化:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">async</span> getHistoryData <span style="color: #8c8c8c;">(</span>data<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">try</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">res</span> = <span style="color: #c678dd; font-weight: bold;">await</span> axios.get<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">'/api/survey/list/'</span>, <span style="color: #97b098;">{</span> params: data <span style="color: #97b098;">}</span><span style="color: #b0b1a3;">)</span>
        <span style="color: #da8548; font-weight: bold;">this</span>.tableData = res.data.result
        <span style="color: #da8548; font-weight: bold;">this</span>.totalData = res.data.count
    <span style="color: #93a8c6;">}</span> <span style="color: #c678dd; font-weight: bold;">catch</span> <span style="color: #93a8c6;">(</span>err<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        console.log<span style="color: #b0b1a3;">(</span>err<span style="color: #b0b1a3;">)</span>
        alert<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">'&#35831;&#27714;&#20986;&#38169;&#65281;'</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org0f41f4b" class="outline-2">
<h2 id="org0f41f4b"><span class="section-number-2">6</span> 执行逻辑</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org1ccd777" class="outline-3">
<h3 id="org1ccd777"><span class="section-number-3">6.1</span> 顺序执行</h3>
<div class="outline-text-3" id="text-6-1">
<p>
默认行为
</p>
</div>
</div>

<div id="outline-container-org9f3de9b" class="outline-3">
<h3 id="org9f3de9b"><span class="section-number-3">6.2</span> 分支判断</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li>if/else if/else</li>
<li>switch</li>
<li>三目运算</li>
</ul>
</div>

<div id="outline-container-orgf03ad7a" class="outline-4">
<h4 id="orgf03ad7a"><span class="section-number-4">6.2.1</span> IF/ELSE</h4>
<div class="outline-text-4" id="text-6-2-1">
<p>
完全句式:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">if</span> BOOLEAN <span style="color: #8c8c8c;">{</span>            <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#24517;&#36873;&#30340;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">BOOLEAN &#20026;&#30495;</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #c678dd; font-weight: bold;">if</span> BOOLEAN2 <span style="color: #8c8c8c;">{</span>    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21487;&#36873;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">BOOLEAN &#20026;&#20551;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">BOOLEAN2 &#20026;&#30495;</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #8c8c8c;">{</span>                <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21487;&#36873;&#30340;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">BOOLEAN &#20026;&#20551;</span>
    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">BOOLEAN2 &#20026;&#20551;</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>
例子:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">age</span> = 18;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#21482;&#26377; if</span>
<span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &gt; 18<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#20320;&#24050;&#32463;&#26159;&#25104;&#24180;&#20154;&#20102;&#65292;&#35201;&#25026;&#24471;&#33258;&#24459;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26377; if &#36824;&#26377; else </span>
<span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &gt; 18 &amp;&amp; age &lt; 25<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#20320;&#24180;&#40836;&#21040;&#20102;&#65292;&#35813;xx&#20102;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#27809;&#20320;&#21861;&#20107;&#65292;&#19968;&#36793;&#21435;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>
完全句式:
</p>


<div  class='mc111'>
<div>
<p>

</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &lt; 18<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#29609;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &lt; 25<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#23398;&#20064;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &lt; 60<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#24037;&#20316;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#20241;&#24687;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>

</div>
<div>

</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &lt; 18<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#29609;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &lt; 25 &amp;&amp; age &lt; 18<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#23398;&#20064;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &lt; 60 &amp;&amp; age &gt; 25<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#24037;&#20316;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &gt; 60<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#20241;&#24687;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>

</div>
<div>

</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age &lt; 18<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#29609;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>age &lt; 25<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        alert<span style="color: #b0b1a3;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#23398;&#20064;"</span><span style="color: #b0b1a3;">)</span>
    <span style="color: #93a8c6;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #b0b1a3;">(</span>age &lt; 60<span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">{</span>
            alert<span style="color: #97b098;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#24037;&#20316;"</span><span style="color: #97b098;">)</span>
        <span style="color: #b0b1a3;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #b0b1a3;">{</span>
            alert<span style="color: #97b098;">(</span><span style="color: #98be65;">"&#22909;&#22909;&#20241;&#24687;"</span><span style="color: #97b098;">)</span>
        <span style="color: #b0b1a3;">}</span>
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

</div>

</div>
</div>
</div>

<div id="outline-container-orgf451752" class="outline-4">
<h4 id="orgf451752"><span class="section-number-4">6.2.2</span> Switch/Case</h4>
<div class="outline-text-4" id="text-6-2-2">
<p>
注意:
</p>
<ul class="org-ul">
<li>只是 if/else if 的一种简化方式，用来对某个变量的多个值进行匹配分支</li>
<li>它默认使用 <code>===</code> 进行判断，即既判断类型，又判断值</li>
<li>使用 <code>break</code> 跳出分支，使用 <code>default</code> 表示其他分支都不匹配的情况，可以省略</li>
</ul>


<div  class='mc11'>
<div>
<p>

</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age === 18<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"you should study"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age === 22<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"you should go to work"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age === 40<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#20320;&#20204;&#36763;&#33510;&#20102;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #8c8c8c;">(</span>age === 60<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"you should have a rest"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">else</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#25105;&#27809;&#26377;&#20160;&#20040;&#22909;&#25552;&#37266;&#20320;&#30340;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>

</div>
<div>

</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">switch</span><span style="color: #8c8c8c;">(</span>age<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
<span style="color: #c678dd; font-weight: bold;">case</span> 18:
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"you should study"</span><span style="color: #93a8c6;">)</span>
<span style="color: #c678dd; font-weight: bold;">case</span> 22:
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"you should go to work"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #c678dd; font-weight: bold;">break</span>;
<span style="color: #c678dd; font-weight: bold;">case</span> 40:
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#24744;&#36763;&#33510;&#20102;"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #c678dd; font-weight: bold;">break</span>;
<span style="color: #c678dd; font-weight: bold;">case</span> 60:
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"you should have a rest"</span><span style="color: #93a8c6;">)</span>
    <span style="color: #c678dd; font-weight: bold;">break</span>;
<span style="color: #c678dd; font-weight: bold;">default</span>:
    console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#25105;&#27809;&#26377;&#20160;&#20040;&#22909;&#25552;&#37266;&#20320;&#30340;"</span><span style="color: #93a8c6;">)</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

</div>

</div>
</div>
</div>

<div id="outline-container-org590a99a" class="outline-4">
<h4 id="org590a99a"><span class="section-number-4">6.2.3</span> 三目运算</h4>
<div class="outline-text-4" id="text-6-2-3">
<ul class="org-ul">
<li>简短、快捷</li>
<li>没有 return，不能写复杂句式</li>
</ul>

<pre class="example">
BOOLEAN ? 分支1 : 分支2
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd502b43" class="outline-3">
<h3 id="orgd502b43"><span class="section-number-3">6.3</span> 循环迭代</h3>
<div class="outline-text-3" id="text-6-3">
<ul class="org-ul">
<li>for</li>
<li>while</li>
<li>do while</li>
</ul>
</div>
</div>
</section>

<section id="outline-container-orga2528f9" class="outline-2">
<h2 id="orga2528f9"><span class="section-number-2">7</span> 作用域及模块化</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-orga80e8d0" class="outline-3">
<h3 id="orga80e8d0"><span class="section-number-3">7.1</span> var: 古老的函数级别作用域</h3>
<div class="outline-text-3" id="text-7-1">
<p>
使用 var 定义的数据的作用域，是函数级别的! var 定义的变量会自动提升
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 12;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">b</span> = <span style="color: #98be65;">"hello"</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c</span> = <span style="color: #8c8c8c;">[</span>1, <span style="color: #98be65;">"x"</span><span style="color: #8c8c8c;">]</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">d</span> = <span style="color: #8c8c8c;">{</span> a: 1, b: 2<span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">f</span> = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span> alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hello"</span><span style="color: #93a8c6;">)</span> <span style="color: #8c8c8c;">}</span>;
</pre>
</div>

<p>
例子:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">xxx</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #93a8c6;">(</span><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">i</span> = 0; i &lt; 5; i++<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        setTimeout<span style="color: #b0b1a3;">(</span><span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #97b098;">()</span> <span style="color: #97b098;">{</span>
            console.log<span style="color: #aebed8;">(</span>i<span style="color: #aebed8;">)</span>;
        <span style="color: #97b098;">}</span>, 10<span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
xxx<span style="color: #8c8c8c;">()</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">5 &#20010; 5</span>

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">xxx</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #93a8c6;">(</span><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">i</span> = 0; i &lt; 5; i++<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #b0b1a3;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #97b098;">()</span> <span style="color: #97b098;">{</span>
            <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">j</span> = i;
            setTimeout<span style="color: #aebed8;">(</span><span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #b0b0b3;">()</span> <span style="color: #b0b0b3;">{</span>
                console.log<span style="color: #90a890;">(</span>j<span style="color: #90a890;">)</span>;
            <span style="color: #b0b0b3;">}</span>, 10<span style="color: #aebed8;">)</span>;
        <span style="color: #97b098;">}</span><span style="color: #b0b1a3;">)()</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
xxx<span style="color: #8c8c8c;">()</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">0 1 2 3 4</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org75b39f9" class="outline-3">
<h3 id="org75b39f9"><span class="section-number-3">7.2</span> let/const: 块级作用域的华丽登场</h3>
<div class="outline-text-3" id="text-7-2">
<p>
使用的优先级:
</p>
<ul class="org-ul">
<li>const &gt; let &gt; var</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">xxx</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">for</span> <span style="color: #93a8c6;">(</span><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">i</span> = 0; i &lt; 5; i++<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
        setTimeout<span style="color: #b0b1a3;">(</span><span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #97b098;">()</span> <span style="color: #97b098;">{</span>
            console.log<span style="color: #aebed8;">(</span>i<span style="color: #aebed8;">)</span>;
        <span style="color: #97b098;">}</span>, 10<span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
xxx<span style="color: #8c8c8c;">()</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">0 1 2 3 4</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga1035c4" class="outline-3">
<h3 id="orga1035c4"><span class="section-number-3">7.3</span> &lt;script src="xxx.js"&gt; 划文件而治</h3>
<div class="outline-text-3" id="text-7-3">
<p>
如果代码量变大的话，会将其划分到不同的文件中:
</p>
<div class="org-src-container">
<pre class="src src-js">  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">c1.js</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">hello</span><span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hello"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">hi</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hi"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>

<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">goOut</span><span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"Out!!!!"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>
使用的时候:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">src</span>=<span style="color: #98be65;">"c1.js"</span><span style="color: #8c8c8c;">&gt;&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
<span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
  goOut<span style="color: #8c8c8c;">()</span>;
<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
</pre>
</div>

<p>
利用函数级别的作用域，来避免命名空间的冲突和污染:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c1</span> = <span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">name</span> = <span style="color: #98be65;">"tom"</span>;

    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">hello</span> = <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span>
        alert<span style="color: #97b098;">(</span>name<span style="color: #97b098;">)</span>;
    <span style="color: #b0b1a3;">}</span>
    <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">hi</span> = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #b0b1a3;">()</span> <span style="color: #b0b1a3;">{</span>
        alert<span style="color: #97b098;">(</span><span style="color: #98be65;">"hi"</span><span style="color: #97b098;">)</span>;
    <span style="color: #b0b1a3;">}</span>
    <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #b0b1a3;">{</span>
        hello: hello,
        hi: hi
    <span style="color: #b0b1a3;">}</span>
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)()</span>;

c1.hi<span style="color: #8c8c8c;">()</span>;
</pre>
</div>

<p>
写法:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #8c8c8c;">(</span><span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
    console.log<span style="color: #b0b1a3;">(</span>xxx<span style="color: #b0b1a3;">)</span>;
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)()</span>;

+<span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    console.log<span style="color: #93a8c6;">(</span>xxx<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org87fb211" class="outline-3">
<h3 id="org87fb211"><span class="section-number-3">7.4</span> 模块化的第三方解决方案 CommonJS/AMD</h3>
<div class="outline-text-3" id="text-7-4">
<p>
Asynchronous Module Definition.
</p>
</div>
</div>

<div id="outline-container-orgaf28753" class="outline-3">
<h3 id="orgaf28753"><span class="section-number-3">7.5</span> 终于，在 ES6 中，推出了标准化的模块写法</h3>
<div class="outline-text-3" id="text-7-5">
<p>
两种语法:
</p>
<ol class="org-ol">
<li>模块文件中 export</li>
<li>在使用的地方 import</li>
</ol>

<p>
模块的定义:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. &#20808;&#22768;&#26126;&#65292;&#21518;&#36890;&#36807; export {} &#30340;&#26041;&#24335;&#36827;&#34892;&#23548;&#20986;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">name</span> = <span style="color: #98be65;">"tom"</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">hello</span> = <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span>name<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">setName</span> = <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #8c8c8c;">(</span><span style="color: #61afef;">name1</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    name = name1;
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">hi</span> = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"hi"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">export</span> <span style="color: #8c8c8c;">{</span> hello, setName, name <span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. &#22312;&#22768;&#26126;&#30340;&#26102;&#20505;&#65292;&#39034;&#20415;&#23548;&#20986;</span>
<span style="color: #c678dd; font-weight: bold;">export</span> <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 3;
<span style="color: #c678dd; font-weight: bold;">export</span> <span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">b</span> = <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #8c8c8c;">()</span> <span style="color: #8c8c8c;">{</span>
    alert<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"bbbbb"</span><span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3. &#25105;&#20204;&#21487;&#20197;&#32473;&#20986;&#19968;&#20010;&#40664;&#35748;&#30340;&#23548;&#20986; (&#21487;&#36873;&#30340;&#65292;&#21482;&#21487;&#20197;&#32473;&#19968;&#20010;)</span>
<span style="color: #c678dd; font-weight: bold;">export</span> <span style="color: #c678dd; font-weight: bold;">default</span> <span style="color: #98be65;">"hello world"</span>;
</pre>
</div>

<p>
模块的引用:
</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #8c8c8c;">&lt;</span><span style="color: #61afef;">script</span> <span style="color: #61afef;">type</span>=<span style="color: #98be65;">"module"</span><span style="color: #8c8c8c;">&gt;</span>
  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23548;&#20986;&#25152;&#38656;&#35201;&#30340;&#37096;&#20998;</span>
  <span style="color: #c678dd; font-weight: bold;">import</span> <span style="color: #8c8c8c;">{</span> hello, setName, b <span style="color: #8c8c8c;">}</span> from <span style="color: #98be65;">"./c1.js"</span>;
  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23548;&#20986;&#20840;&#37096; export &#30340;&#23450;&#20041;&#65292;&#24182;&#20351;&#29992; x.xxx &#26469;&#24341;&#29992;</span>
  <span style="color: #c678dd; font-weight: bold;">import</span> * as x from <span style="color: #98be65;">"./c1.js"</span>;
  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#23558; export default &#30340;&#40664;&#35748;&#23548;&#20986;&#36171;&#20540;&#32473; y</span>
  <span style="color: #c678dd; font-weight: bold;">import</span> y from <span style="color: #98be65;">"./c1.js"</span>;
  <span style="color: #c678dd; font-weight: bold;">import</span> y from <span style="color: #98be65;">"./c1.js"</span>;
  <span style="color: #c678dd; font-weight: bold;">import</span> y from <span style="color: #98be65;">"./c1.js"</span>;
  y<span style="color: #8c8c8c;">()</span>;
<span style="color: #8c8c8c;">&lt;</span>/<span style="color: #61afef;">script</span><span style="color: #8c8c8c;">&gt;</span>
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org233b37b" class="outline-2">
<h2 id="org233b37b"><span class="section-number-2">8</span> ES6 快速预览</h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org3816569" class="outline-3">
<h3 id="org3816569"><span class="section-number-3">8.1</span> 对象的扩展</h3>
<div class="outline-text-3" id="text-8-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">const</span> <span style="color: #61afef;">name</span> = <span style="color: #98be65;">"tom"</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26356;&#31616;&#27905;&#30340;&#23646;&#24615;&#23450;&#20041;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">user</span> = <span style="color: #8c8c8c;">{</span> <span style="color: #98be65;">"name"</span>: name <span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">user</span> = <span style="color: #8c8c8c;">{</span> name: name <span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">user</span> = <span style="color: #8c8c8c;">{</span> name <span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">user</span> = <span style="color: #8c8c8c;">{</span> name, score, xxx, yyy <span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26356;&#31616;&#27905;&#30340;&#26041;&#27861;&#23450;&#20041;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">xxx</span> = <span style="color: #8c8c8c;">{</span>
    <span style="color: #61afef;">hello</span>: <span style="color: #c678dd; font-weight: bold;">function</span><span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{}</span>,
    world<span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{}</span>,
<span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">key &#21487;&#20197;&#20351;&#29992;&#34920;&#36798;&#24335;&#21862;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">yyy</span> = <span style="color: #8c8c8c;">{</span>
    <span style="color: #98be65;">"aaa"</span>: 222,
    bbb: 333,

    <span style="color: #93a8c6;">[</span><span style="color: #98be65;">"abc"</span> + <span style="color: #98be65;">"123"</span><span style="color: #93a8c6;">]</span>: 444
<span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#35775;&#38382;&#22120;&#23646;&#24615;&#23450;&#20041;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">zzz</span> = <span style="color: #8c8c8c;">{</span>
    id: 333,
    <span style="color: #61afef;">getId</span>: <span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span> <span style="color: #c678dd; font-weight: bold;">return</span> id <span style="color: #93a8c6;">}</span>,

    get name<span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #98be65;">"xxx"</span>;
    <span style="color: #93a8c6;">}</span>,
    set name<span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
        <span style="color: #c678dd; font-weight: bold;">return</span> <span style="color: #98be65;">"xxx"</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
zzz.name = <span style="color: #98be65;">"kkdk"</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">__proto__ &#24050;&#34987;&#26631;&#20934;&#21270;&#21862;&#65281;</span>
zzz.__proto__ = xxx;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">mmm</span> = <span style="color: #8c8c8c;">{</span>
    a: 1, b: 2, __proto__: zzz
<span style="color: #8c8c8c;">}</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">super &#21487;&#20197;&#35775;&#38382;&#21040;&#29240;&#29240;&#30340;&#25968;&#25454;</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">mmm</span> = <span style="color: #8c8c8c;">{</span>
    a: 1,
    b: 2,
    __proto__: zzz,
    xxx<span style="color: #93a8c6;">()</span> <span style="color: #93a8c6;">{</span>
        console.log<span style="color: #b0b1a3;">(</span><span style="color: #c678dd; font-weight: bold;">super</span>.name<span style="color: #b0b1a3;">)</span>;
        console.log<span style="color: #b0b1a3;">(</span>zzz.name<span style="color: #b0b1a3;">)</span>;
    <span style="color: #93a8c6;">}</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org52f5a1b" class="outline-3">
<h3 id="org52f5a1b"><span class="section-number-3">8.2</span> 块级作用域</h3>
<div class="outline-text-3" id="text-8-2">
<ul class="org-ul">
<li>let/const</li>
</ul>
</div>
</div>

<div id="outline-container-orgf6518a9" class="outline-3">
<h3 id="orgf6518a9"><span class="section-number-3">8.3</span> 函数默认值</h3>
<div class="outline-text-3" id="text-8-3">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">xxx</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">score</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
  <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>!score<span style="color: #93a8c6;">)</span> <span style="color: #93a8c6;">{</span>
    score = 59;
  <span style="color: #93a8c6;">}</span>
  console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#24744;&#30340;&#20998;&#25968;&#20026;"</span> + score<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">xxx</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">score</span> = 59<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
  console.log<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"&#24744;&#30340;&#20998;&#25968;&#20026;"</span> + score<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>

xxx<span style="color: #8c8c8c;">()</span>;
xxx<span style="color: #8c8c8c;">(</span>33<span style="color: #8c8c8c;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org193b20c" class="outline-3">
<h3 id="org193b20c"><span class="section-number-3">8.4</span> spread/rest</h3>
<div class="outline-text-3" id="text-8-4">
<p>
扒衣服:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26469;&#33258;&#25968;&#32452;&#30340;&#23637;&#24320;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">a</span> = <span style="color: #8c8c8c;">[</span>1, 2, 3<span style="color: #8c8c8c;">]</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">b</span> = a.concat<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">[</span>4, 5, 6<span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">c</span> = <span style="color: #8c8c8c;">[</span>...a, 4, 5, 6<span style="color: #8c8c8c;">]</span>;    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">[1, 2, 3, 4, 5, 6]</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">d</span> = <span style="color: #8c8c8c;">[</span>4, ...a, 5, 6<span style="color: #8c8c8c;">]</span>;    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">[4, 1, 2, 3, 5, 6]</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26469;&#33258;&#23545;&#35937;&#30340;&#23637;&#24320;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">person</span> = <span style="color: #8c8c8c;">{</span> xuexiao: <span style="color: #98be65;">"nfit"</span>, score: 0 <span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">xiaoming</span> = Object.assign<span style="color: #8c8c8c;">(</span><span style="color: #93a8c6;">{</span> name: <span style="color: #98be65;">"xm"</span> <span style="color: #93a8c6;">}</span>, person<span style="color: #8c8c8c;">)</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">xiaohong</span> = <span style="color: #8c8c8c;">{</span> name: <span style="color: #98be65;">"xh"</span>, score: 60, ...person <span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">xiaolan</span> = <span style="color: #8c8c8c;">{</span> name: <span style="color: #98be65;">"xl"</span>, ...person, score: 60 <span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20256;&#21442;</span>
add<span style="color: #8c8c8c;">(</span>...<span style="color: #93a8c6;">[</span>10, 20, 30<span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
穿衣服:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">arguments</span>
<span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">xxx</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">m</span>, ...<span style="color: #61afef;">duogecansh</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
  console.log<span style="color: #93a8c6;">(</span>m<span style="color: #93a8c6;">)</span>;
  console.log<span style="color: #93a8c6;">(</span>duogecansh<span style="color: #93a8c6;">)</span>; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#34920;&#31034;&#20854;&#20182;&#30340;&#25152;&#26377;&#21442;&#25968;&#65292;&#26159;&#19968;&#20010;&#25968;&#32452; [2, 3, 4]</span>
<span style="color: #8c8c8c;">}</span>
xxx<span style="color: #8c8c8c;">(</span>1, 2, 3, 4<span style="color: #8c8c8c;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org7409380" class="outline-3">
<h3 id="org7409380"><span class="section-number-3">8.5</span> destructuring</h3>
<div class="outline-text-3" id="text-8-5">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20174;&#25968;&#32452;&#20013;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">a</span> = <span style="color: #8c8c8c;">[</span>1, 2, 3<span style="color: #8c8c8c;">]</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">first</span> = a<span style="color: #8c8c8c;">[</span>0<span style="color: #8c8c8c;">]</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">third</span> = a<span style="color: #8c8c8c;">[</span>2<span style="color: #8c8c8c;">]</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #8c8c8c;">[</span><span style="color: #61afef;">yi</span>, <span style="color: #61afef;">_</span>, <span style="color: #61afef;">san</span><span style="color: #8c8c8c;">]</span> = <span style="color: #8c8c8c;">[</span>1, 2, 3<span style="color: #8c8c8c;">]</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span><span style="color: #61afef;">_</span>, <span style="color: #61afef;">yi</span><span style="color: #93a8c6;">]</span>, <span style="color: #61afef;">__</span>, <span style="color: #61afef;">san</span><span style="color: #8c8c8c;">]</span> = <span style="color: #8c8c8c;">[</span><span style="color: #93a8c6;">[</span><span style="color: #98be65;">'aaa'</span>, <span style="color: #98be65;">'bbb'</span><span style="color: #93a8c6;">]</span>, 2, 3<span style="color: #8c8c8c;">]</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20174;&#23545;&#35937;&#20013;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">xiaoming</span> = <span style="color: #8c8c8c;">{</span> name: <span style="color: #98be65;">"xm"</span>, score: 68, school: <span style="color: #98be65;">"nfit"</span> <span style="color: #8c8c8c;">}</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">name</span> = xiaoming.name;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">school</span> = xiaoming.school;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #8c8c8c;">{</span> name, school <span style="color: #8c8c8c;">}</span> = <span style="color: #8c8c8c;">{</span> name: <span style="color: #98be65;">"xm"</span>, score: 68, school: <span style="color: #98be65;">"nfit"</span> <span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#20174;&#20989;&#25968;&#30340;&#36820;&#22238;&#20540;&#20013;&#30452;&#25509;&#33719;&#21462;&#38656;&#35201;&#30340;&#20540;</span>
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">xxx</span> = <span style="color: #8c8c8c;">()</span> =&gt; <span style="color: #8c8c8c;">[</span>1, 2<span style="color: #8c8c8c;">]</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">r1</span> = xxx<span style="color: #8c8c8c;">()[</span>0<span style="color: #8c8c8c;">]</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #8c8c8c;">[</span><span style="color: #61afef;">r2</span><span style="color: #8c8c8c;">]</span> = xxx<span style="color: #8c8c8c;">()</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">import &#20013;&#30340;&#20351;&#29992;</span>
<span style="color: #c678dd; font-weight: bold;">import</span> <span style="color: #8c8c8c;">{</span> Message, Loading <span style="color: #8c8c8c;">}</span> from <span style="color: #98be65;">"element-ui"</span>;
<span style="color: #c678dd; font-weight: bold;">import</span> xxx from <span style="color: #98be65;">"element-ui"</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">Message</span> = xxx.Message;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">Loading</span> = xxx.Loading;

<span style="color: #c678dd; font-weight: bold;">import</span> <span style="color: #8c8c8c;">{</span> Message, ...Qitade <span style="color: #8c8c8c;">}</span> from <span style="color: #98be65;">"element-ui"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org3e34d21" class="outline-3">
<h3 id="org3e34d21"><span class="section-number-3">8.6</span> Arrow Function</h3>
<div class="outline-text-3" id="text-8-6">
<ul class="org-ul">
<li>没有自己的 this，而是继承自其父作用域</li>
<li>call/apply/bind 也就变得对其无效</li>
<li>aruments/caller 之类的东西也不存在</li>
<li>不存在 prototype 属性</li>
<li>不能作为构造器</li>
<li>不能用作 Generator</li>
</ul>
</div>
</div>

<div id="outline-container-org35a02a5" class="outline-3">
<h3 id="org35a02a5"><span class="section-number-3">8.7</span> 循环</h3>
<div class="outline-text-3" id="text-8-7">
<p>
传统的方式:
</p>
<ul class="org-ul">
<li><code>for(var i = 0; i...) {}</code></li>
<li><code>for (var x in xxx) { console.log(x, xxx[x]) }</code> 不建议大家使用: 不准确，效率低</li>
</ul>

<p>
ES6 中:
</p>
<ul class="org-ul">
<li>for..of: <code>for (let x of Object.keys(xxx)) { console.log(x) }</code></li>
<li>forEach: <code>[1, 2, 3, 4, 5].forEach(el =&gt; console.log(el))</code></li>
</ul>
</div>
</div>

<div id="outline-container-org8a3b206" class="outline-3">
<h3 id="org8a3b206"><span class="section-number-3">8.8</span> 模板字符串</h3>
<div class="outline-text-3" id="text-8-8">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">name</span> = <span style="color: #98be65;">"world"</span>;
<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">a</span> = <span style="color: #98be65;">`hello ${name}`</span>;
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-org5b7fea9" class="outline-2">
<h2 id="org5b7fea9"><span class="section-number-2">9</span> 其他</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orgcd45828" class="outline-3">
<h3 id="orgcd45828"><span class="section-number-3">9.1</span> 严格模式 (strict mode)</h3>
<div class="outline-text-3" id="text-9-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #98be65;">"use strict"</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. &#21464;&#37327;&#24517;&#39035;&#35201;&#20351;&#29992; var/let/const &#22768;&#26126;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. with &#20351;&#29992;&#34987;&#31105;&#29992;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3. &#24378;&#21046; eval &#20316;&#29992;&#22495;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">4. this &#19981;&#20877;&#25351;&#21521; window</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">5. &#36234;&#26435;&#25805;&#20316;&#30452;&#25509;&#24322;&#24120;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">6. &#19981;&#20801;&#35768; Object &#30340; key &#37325;&#22797;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">7. &#19981;&#20801;&#35768;&#21442;&#25968;&#37325;&#21517;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">8. &#31105;&#27490; 8 &#36827;&#21046;&#30340;&#35821;&#27861;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">9. &#20989;&#25968;&#24517;&#39035;&#22768;&#26126;&#22312;&#39030;&#23618;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">10...16</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5110638" class="outline-3">
<h3 id="org5110638"><span class="section-number-3">9.2</span> 异常处理</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">try</span> <span style="color: #8c8c8c;">{</span>
  <span style="color: #c678dd; font-weight: bold;">throw</span> <span style="color: #93a8c6;">{</span>
    name: <span style="color: #98be65;">"xxx"</span>,
    message: <span style="color: #98be65;">"yyy"</span>
  <span style="color: #93a8c6;">}</span>;
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">catch</span><span style="color: #8c8c8c;">(</span>e<span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
  alert<span style="color: #93a8c6;">(</span>e.message<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span> <span style="color: #c678dd; font-weight: bold;">finally</span> <span style="color: #8c8c8c;">{</span>
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>
如果全局异常的话 (BOM)，强烈不建议使用:
</p>
<div class="org-src-container">
<pre class="src src-js">window.onerror = xxx;
window.addEventListener<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">'error'</span>, xxx<span style="color: #8c8c8c;">)</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ee5858" class="outline-3">
<h3 id="org4ee5858"><span class="section-number-3">9.3</span> Object.defineProperty / Proxy</h3>
<div class="outline-text-3" id="text-9-3">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">data</span> = <span style="color: #8c8c8c;">{</span>
    friends: <span style="color: #93a8c6;">[</span><span style="color: #98be65;">"aa"</span>, <span style="color: #98be65;">"bb"</span><span style="color: #93a8c6;">]</span>
<span style="color: #8c8c8c;">}</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Vue 2</span>

Object.defineProperty<span style="color: #8c8c8c;">(</span>data, <span style="color: #98be65;">"xxx"</span>, <span style="color: #93a8c6;">{</span>
    set<span style="color: #b0b1a3;">(</span>v<span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">{</span>
        console.log<span style="color: #97b098;">(</span><span style="color: #98be65;">"&#25105;&#35201;&#33719;&#21462;&#23427;&#30340;&#20540;"</span><span style="color: #97b098;">)</span>;
        <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#26681;&#25454;&#35774;&#32622;&#30340;&#20540;&#65292;&#21047;&#26032;&#39029;&#38754;</span>
        <span style="color: #da8548; font-weight: bold;">this</span>._xxx = v;
    <span style="color: #b0b1a3;">}</span>
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;

data.xxx = 3; <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25110;&#35302;&#21457;&#19978;&#36848;&#30340; get &#36923;&#36753;</span>
data.friends<span style="color: #8c8c8c;">[</span>1<span style="color: #8c8c8c;">]</span> = <span style="color: #98be65;">"A"</span>;

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Vue 3</span>

<span style="color: #c678dd; font-weight: bold;">let</span> <span style="color: #61afef;">dataProxy</span> = <span style="color: #c678dd; font-weight: bold;">new</span> <span style="color: #61afef;">Proxy</span><span style="color: #8c8c8c;">(</span>data, <span style="color: #93a8c6;">{</span>
    set<span style="color: #b0b1a3;">(</span>target, key, value, reciever<span style="color: #b0b1a3;">)</span> <span style="color: #b0b1a3;">{</span>
         <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #97b098;">(</span>key === <span style="color: #98be65;">"friends"</span><span style="color: #97b098;">)</span> <span style="color: #97b098;">{</span>
           <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">....</span>
         <span style="color: #97b098;">}</span>
    <span style="color: #b0b1a3;">}</span>
<span style="color: #93a8c6;">}</span><span style="color: #8c8c8c;">)</span>;
data.friends<span style="color: #8c8c8c;">[</span>1<span style="color: #8c8c8c;">]</span> = <span style="color: #98be65;">"A"</span>;
dataProxy.friends<span style="color: #8c8c8c;">[</span>1<span style="color: #8c8c8c;">]</span> = <span style="color: #98be65;">"A"</span>;
</pre>
</div>
</div>
</div>
</section>

<section id="outline-container-orgca645cf" class="outline-2">
<h2 id="orgca645cf"><span class="section-number-2">10</span> 问题集锦</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-orgd505c42" class="outline-3">
<h3 id="orgd505c42"><span class="section-number-3">10.1</span> 运算符优先级</h3>
<div class="outline-text-3" id="text-10-1">
<p>
请说出下面运算的结果，并简析原因:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">v</span> = <span style="color: #98be65;">'hhh'</span>;
console.log<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"Value is "</span> + <span style="color: #93a8c6;">(</span>v === <span style="color: #98be65;">'hhhe'</span><span style="color: #93a8c6;">)</span> ? <span style="color: #98be65;">'Something'</span> : <span style="color: #98be65;">'Nothing'</span><span style="color: #8c8c8c;">)</span>;
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">console.log("Value is " + ((v === 'hhhe') ? 'Something' : 'Nothing'));</span>
</pre>
</div>

<details class="details"> <summary class="detail-summary"> <span class="detail-title">提示</span> </summary> <div class="detail-body"> <p>
Something
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. &#20248;&#20808;&#32423;</span>
<span style="color: #687080; font-style: italic;">//    </span><span style="color: #687080; font-style: italic;">- &#23567;&#25324;&#21495;&#30340;&#20248;&#20808;&#32423;&#26159;&#26368;&#39640;&#30340;!</span>
<span style="color: #687080; font-style: italic;">//    </span><span style="color: #687080; font-style: italic;">- &#20056;&#38500;&#30340;&#20248;&#20808;&#32423;&#35201;&#27604;&#21152;&#20943;&#35201;&#39640;</span>
<span style="color: #687080; font-style: italic;">//    </span><span style="color: #687080; font-style: italic;">- &#19977;&#30446;&#36816;&#31639;&#31526;&#31639;&#20160;&#20040;&#19996;&#35199;&#65281;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. JS &#26159;&#19968;&#31181;&#24369;&#31867;&#22411;&#30340;&#35821;&#35328;&#65292;</span>
<span style="color: #687080; font-style: italic;">///   </span><span style="color: #687080; font-style: italic;">&#25152;&#20197;&#30896;&#21040;&#19981;&#21305;&#37197;&#30340;&#31867;&#22411;&#30340;&#26102;&#20505;&#65292;&#23427;&#20250;&#23581;&#35797;&#33258;&#21160;&#36827;&#34892;&#31867;&#22411;&#36716;&#25442;</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#25972;&#20010;&#25191;&#34892;&#12289;&#35299;&#26512;&#39034;&#24207;&#22823;&#32422;&#22914;&#19979;:</span>
<span style="color: #98be65;">"Value is "</span> + <span style="color: #8c8c8c;">(</span>v === <span style="color: #98be65;">'hhhe'</span><span style="color: #8c8c8c;">)</span> ? <span style="color: #98be65;">'Something'</span> : <span style="color: #98be65;">'Nothing'</span>
<span style="color: #98be65;">"Value is "</span> + <span style="color: #da8548; font-weight: bold;">false</span> ? <span style="color: #98be65;">'Something'</span> : <span style="color: #98be65;">'Nothing'</span>
<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"Value is "</span> + <span style="color: #da8548; font-weight: bold;">false</span><span style="color: #8c8c8c;">)</span> ? <span style="color: #98be65;">'Something'</span> : <span style="color: #98be65;">'Nothing'</span>
<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">"Value is "</span> + <span style="color: #98be65;">"false"</span><span style="color: #8c8c8c;">)</span> ? <span style="color: #98be65;">'Something'</span> : <span style="color: #98be65;">'Nothing'</span>
<span style="color: #98be65;">"Value is false"</span> ? <span style="color: #98be65;">'Something'</span> : <span style="color: #98be65;">'Nothing'</span>
<span style="color: #da8548; font-weight: bold;">true</span> ? <span style="color: #98be65;">'Something'</span> : <span style="color: #98be65;">'Nothing'</span>
<span style="color: #98be65;">'Something'</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22240;&#27492;&#65292;&#25171;&#21360;&#20986;&#26469;&#30340;&#65292;&#21482;&#26377;:</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">Something</span>
</pre>
</div>
 </div> </details>
</div>
</div>

<div id="outline-container-org3ee723b" class="outline-3">
<h3 id="org3ee723b"><span class="section-number-3">10.2</span> 正则表达式</h3>
<div class="outline-text-3" id="text-10-2">
<p>
请分别将下面字符串中的 <b>电话号码</b> 和 <b>邮箱地址</b>，使用 <b>正则表达式</b> 的形式，提取出来，并 <b>分别打印</b>:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">s</span> = <span style="color: #98be65;">'&#25105;&#30340;&#30005;&#35805;&#21495;&#30721;&#26159; 16776876543&#65292;&#25105;&#30340;&#37038;&#31665;&#26159; xxx@qq.com&#65292;&#35831;&#38543;&#26102;&#32852;&#31995;&#25105;&#12290;&#21542;&#21017;&#25171; 110.'</span>
</pre>
</div>

<details class="details"> <summary class="detail-summary"> <span class="detail-title">解决思路</span> </summary> <div class="detail-body"> <ol class="org-ol">
<li>怎么提取电话号码
<ul class="org-ul">
<li><p>
到网上搜索 "js 正则表达式 电话号码"
</p>
<pre class="example">
/^1[34578]\d{9}$/
</pre></li>
<li><p>
使用得到的答案，解决问题:
</p>
<pre class="example">
s.match(/1[3456789]\d{9}/)[0]
</pre></li>
</ul></li>
<li>怎么提取邮箱地址
<ul class="org-ul">
<li><p>
到网上搜索 “JS 正则表达式 邮箱”
</p>
<pre class="example">
/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})^/
</pre></li>
<li><p>
使用得到的答案，修修补补，解决问题:
</p>
<pre class="example">
s.match(/([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})/)[0]
</pre></li>
</ul></li>
</ol>

<p>
总而言之:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">s</span> = <span style="color: #98be65;">'&#25105;&#30340;&#30005;&#35805;&#21495;&#30721;&#26159; 16776876543&#65292;&#25105;&#30340;&#37038;&#31665;&#26159; xxx@qq.com&#65292;&#35831;&#38543;&#26102;&#32852;&#31995;&#25105;&#12290;&#21542;&#21017;&#25171; 110.'</span>
console.log<span style="color: #8c8c8c;">(</span>s.match<span style="color: #93a8c6;">(</span><span style="color: #98be65;">/1[3456789]\d{9}/</span><span style="color: #93a8c6;">)[</span>0<span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>
console.log<span style="color: #8c8c8c;">(</span>s.match<span style="color: #93a8c6;">(</span><span style="color: #98be65;">/([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})/</span><span style="color: #93a8c6;">)[</span>0<span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>

<p>
也可以使用分组捕获的方式:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">s</span> = <span style="color: #98be65;">'&#25105;&#30340;&#30005;&#35805;&#21495;&#30721;&#26159; 16776876543&#65292;&#25105;&#30340;&#37038;&#31665;&#26159; xxx@qq.com&#65292;&#35831;&#38543;&#26102;&#32852;&#31995;&#25105;&#12290;&#21542;&#21017;&#25171; 110.'</span>;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">r</span> = <span style="color: #98be65;">/(1[3-9]\d{9}).*?([a-zA-Z0-9_-]+@[a-zA-Z0-9]+\.[a-zA-Z0-9]+)/</span>.exec<span style="color: #8c8c8c;">(</span>s<span style="color: #8c8c8c;">)</span>;
console.log<span style="color: #8c8c8c;">(</span>r<span style="color: #93a8c6;">[</span>1<span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>
console.log<span style="color: #8c8c8c;">(</span>r<span style="color: #93a8c6;">[</span>2<span style="color: #93a8c6;">]</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
 </div> </details>
</div>
</div>

<div id="outline-container-org3042b26" class="outline-3">
<h3 id="org3042b26"><span class="section-number-3">10.3</span> 从文件名取后缀名</h3>
<div class="outline-text-3" id="text-10-3">
<p>
从下面给出的文件名字符串中，提取后缀名:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">f</span> = <span style="color: #98be65;">"d:/home/software.d/xxx.a/xxx.jpg"</span>
</pre>
</div>

<details class="details"> <summary class="detail-summary"> <span class="detail-title">答案</span> </summary> <div class="detail-body"> <p>
截取子字符串的方式:
</p>
<div class="org-src-container">
<pre class="src src-js">f.substring<span style="color: #8c8c8c;">(</span>f.lastIndexOf<span style="color: #93a8c6;">(</span><span style="color: #98be65;">"."</span><span style="color: #93a8c6;">)</span> + 1<span style="color: #8c8c8c;">)</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#34920;&#31034;&#24207;&#21495;&#30340;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. indexOf</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. lastIndexOf</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3. search</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#34920;&#31034;&#23384;&#19981;&#23384;&#22312;&#30340;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. indexOf != -1</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. search != -1</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">3. includes</span>
</pre>
</div>

<p>
正则表达式的方式:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">ext</span> = f.match<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">/[a-zA-Z0-9]+$/</span><span style="color: #8c8c8c;">)[</span>0<span style="color: #8c8c8c;">]</span>
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">ext</span> = f.match<span style="color: #8c8c8c;">(</span><span style="color: #98be65;">/\w+$/</span><span style="color: #8c8c8c;">)[</span>0<span style="color: #8c8c8c;">]</span>

<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">&#22914;&#26524;&#33258;&#24049;&#23454;&#22312;&#19981;&#30693;&#36947;&#35813;&#24590;&#20040;&#20889;&#65306;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">1. &#25171;&#24320;&#27983;&#35272;&#22120;&#65292;&#36755;&#20837;&#20851;&#38190;&#35789;: JS &#27491;&#21017;&#34920;&#36798;&#24335; &#21518;&#32512;&#21517;</span>
<span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">2. &#28857;&#20987;&#25628;&#32034;</span>
</pre>
</div>
 </div> </details>
</div>
</div>

<div id="outline-container-orgeb15508" class="outline-3">
<h3 id="orgeb15508"><span class="section-number-3">10.4</span> undefine/null</h3>
<div class="outline-text-3" id="text-10-4">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #da8548; font-weight: bold;">undefined</span> == <span style="color: #da8548; font-weight: bold;">null</span>   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true</span>
<span style="color: #da8548; font-weight: bold;">undefined</span> === <span style="color: #da8548; font-weight: bold;">null</span>  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">false</span>
<span style="color: #da8548; font-weight: bold;">null</span> === <span style="color: #da8548; font-weight: bold;">null</span>       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true</span>
<span style="color: #da8548; font-weight: bold;">undefined</span> === <span style="color: #da8548; font-weight: bold;">undefined</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">true</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga666a39" class="outline-3">
<h3 id="orga666a39"><span class="section-number-3">10.5</span> 数字 + 字符串 + NaN</h3>
<div class="outline-text-3" id="text-10-5">
<div class="org-src-container">
<pre class="src src-js">3 + 5        <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">8</span>
3 + <span style="color: #98be65;">'5'</span>      <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">35</span>
<span style="color: #98be65;">'3'</span> + <span style="color: #98be65;">'5'</span>    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">35</span>
3 + 5 + <span style="color: #98be65;">'1'</span>  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">81</span>
3 + <span style="color: #98be65;">'5'</span> + 1  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">351</span>

3 * 5        <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">15</span>
3 * <span style="color: #98be65;">'5'</span>      <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">15</span>
<span style="color: #98be65;">'3'</span> * <span style="color: #98be65;">'5'</span>    <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">15</span>
3 * 5 * <span style="color: #98be65;">'1'</span>  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">15</span>
3 * <span style="color: #98be65;">'5'</span> * 1  <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">15</span>

<span style="color: #da8548; font-weight: bold;">null</span> * 5     <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">0</span>
<span style="color: #8c8c8c;">[]</span> * 5       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">0</span>
<span style="color: #98be65;">""</span> * 5       <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">0</span>
<span style="color: #da8548; font-weight: bold;">undefined</span> * 5 <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">NaN</span>

5 * <span style="color: #98be65;">'hello'</span>   <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">NaN</span>
Math.sqrt<span style="color: #8c8c8c;">(</span>-1<span style="color: #8c8c8c;">)</span> <span style="color: #687080; font-style: italic;">// </span><span style="color: #687080; font-style: italic;">NaN</span>
<span style="color: #da8548; font-weight: bold;">NaN</span> * 5
</pre>
</div>
</div>
</div>

<div id="outline-container-org5f24467" class="outline-3">
<h3 id="org5f24467"><span class="section-number-3">10.6</span> 浮点数计算</h3>
<div class="outline-text-3" id="text-10-6">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 0.1;
console.log<span style="color: #8c8c8c;">(</span>a<span style="color: #8c8c8c;">)</span>;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">b</span> = 0.2;
console.log<span style="color: #8c8c8c;">(</span>b<span style="color: #8c8c8c;">)</span>;

<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">c</span> = a + b;
console.log<span style="color: #8c8c8c;">(</span>c<span style="color: #8c8c8c;">)</span>;

c == a + b
</pre>
</div>

<details class="details"> <summary class="detail-summary"> <span class="detail-title">答案</span> </summary> <div class="detail-body"> <p>
0.30000000000000004
</p>
 </div> </details>
</div>
</div>

<div id="outline-container-org91dc91d" class="outline-3">
<h3 id="org91dc91d"><span class="section-number-3">10.7</span> 求取斐波那契数列的某项 [递归]</h3>
<div class="outline-text-3" id="text-10-7">
<p>
斐波那契数列，就是某一项的值，为前两项的和:
</p>
<pre class="example">
1 1 2 3 5 8 13 21 34 55 89 ...
</pre>


<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">function</span> <span style="color: #61afef;">fib</span> <span style="color: #8c8c8c;">(</span><span style="color: #61afef;">n</span><span style="color: #8c8c8c;">)</span> <span style="color: #8c8c8c;">{</span>
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>n === 1<span style="color: #93a8c6;">)</span> <span style="color: #c678dd; font-weight: bold;">return</span> 1;
    <span style="color: #c678dd; font-weight: bold;">if</span> <span style="color: #93a8c6;">(</span>n === 2<span style="color: #93a8c6;">)</span> <span style="color: #c678dd; font-weight: bold;">return</span> 1;
    <span style="color: #c678dd; font-weight: bold;">return</span> fib<span style="color: #93a8c6;">(</span>n-1<span style="color: #93a8c6;">)</span> + fib<span style="color: #93a8c6;">(</span>n-2<span style="color: #93a8c6;">)</span>;
<span style="color: #8c8c8c;">}</span>
</pre>
</div>

<p>
请优化之。
</p>
</div>
</div>

<div id="outline-container-orgc042940" class="outline-3">
<h3 id="orgc042940"><span class="section-number-3">10.8</span> 自增运算符</h3>
<div class="outline-text-3" id="text-10-8">
<p>
请解析下面的结果:
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">a</span> = 2, <span style="color: #61afef;">b</span> = 3; c = 5;
<span style="color: #c678dd; font-weight: bold;">var</span> <span style="color: #61afef;">d</span> = a+++b+++c++;
console.log<span style="color: #8c8c8c;">(</span>a, b, c, d<span style="color: #8c8c8c;">)</span>;
</pre>
</div>

<p>
提示:
</p>
<ul class="org-ul">
<li>运算符的优先级</li>
<li><code>++i</code> 跟 <code>i++</code> 的区别</li>
</ul>
</div>
</div>
</section>
</div>
<div id="postamble" class="status">
<p class="author">Author: 孙悟空</p>
<p class="date">Created: 2021-01-22</p>
<p class="validation">Go ahead, never stop.</p>
</div>
</body>
</html>
